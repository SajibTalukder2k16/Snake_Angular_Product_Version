(self.webpackChunksnake_game=self.webpackChunksnake_game||[]).push([[179],{8255:tt=>{function Oe(U){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+U+"'");throw f.code="MODULE_NOT_FOUND",f})}Oe.keys=()=>[],Oe.resolve=Oe,Oe.id=8255,tt.exports=Oe},7716:(tt,Oe,U)=>{"use strict";U.d(Oe,{deG:()=>sm,tb:()=>aD,AFp:()=>oD,ip1:()=>mE,CZH:()=>ph,hGG:()=>VN,z2F:()=>gc,sBO:()=>qB,Sil:()=>qp,_Vd:()=>oc,EJc:()=>ty,SBq:()=>Ja,qLn:()=>D,vpe:()=>Ro,gxx:()=>Xf,tBr:()=>Zs,XFs:()=>st,OlP:()=>gn,zs3:()=>In,ZZ4:()=>Rw,aQg:()=>Ow,soG:()=>yE,YKP:()=>ik,v3s:()=>ID,h0i:()=>nh,PXZ:()=>ED,R0b:()=>ji,FiY:()=>rs,Lbi:()=>$p,g9A:()=>ey,Qsj:()=>RB,FYo:()=>T_,JOm:()=>Qt,Tiy:()=>XA,q3G:()=>qt,tp0:()=>Ga,EAV:()=>a2,Rgc:()=>R_,dDg:()=>mD,DyG:()=>wo,q4F:()=>eS,GfV:()=>QO,s_b:()=>Fw,ifc:()=>je,eFA:()=>CD,G48:()=>CN,Gpc:()=>Q,f3M:()=>Cf,X6Q:()=>ru,_c5:()=>LD,VLi:()=>yD,c2e:()=>lD,zSh:()=>ep,wAp:()=>Et,vHH:()=>Ae,EiD:()=>zn,mCW:()=>zu,qzn:()=>Bl,JVY:()=>Hu,pB0:()=>Bv,eBb:()=>_d,L6k:()=>Vv,LAX:()=>mm,cg1:()=>b_,Tjo:()=>kN,kL8:()=>SA,yhl:()=>Lv,dqk:()=>on,sIi:()=>jt,CqO:()=>Qb,QGY:()=>Zb,F4k:()=>Yl,RDi:()=>_l,AaK:()=>se,z3N:()=>Hr,qOj:()=>Tb,TTD:()=>gs,_Bn:()=>HO,xp6:()=>$a,uIk:()=>Ym,ekj:()=>iw,Suo:()=>Xw,Xpm:()=>Vt,lG2:()=>ul,Yz7:()=>St,cJS:()=>pn,oAB:()=>Bs,Yjl:()=>va,Y36:()=>hp,_UZ:()=>Wb,BQk:()=>Yb,ynx:()=>o_,qZA:()=>s_,TgZ:()=>qb,EpF:()=>Za,n5z:()=>bo,Ikx:()=>mw,LFG:()=>Pn,$8M:()=>Jn,$Z:()=>Hb,NdJ:()=>Jb,CRH:()=>H_,kcU:()=>qc,O4$:()=>S0,oxw:()=>ew,ALo:()=>RS,xi3:()=>Pp,Hsn:()=>a_,F$t:()=>Xx,Q6J:()=>qd,DdM:()=>SS,iGM:()=>Jw,evT:()=>Im,CHM:()=>rf,LSH:()=>Gl,kYT:()=>_u,Udp:()=>rw,WFA:()=>Xb,d8E:()=>_w,YNc:()=>jx,_uU:()=>mA,Oqu:()=>lw,hij:()=>p_,Gf:()=>dc});var f=U(9765),pe=U(5319),$=U(7574),ae=U(6682),_e=U(8819);function ee(l){for(let u in l)if(l[u]===ee)return u;throw Error("Could not find renamed property on target object.")}function re(l,u){for(const d in u)u.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=u[d])}function se(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(se).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const d=u.indexOf("\n");return-1===d?u:u.substring(0,d)}function K(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const j=ee({__forward_ref__:ee});function Q(l){return l.__forward_ref__=Q,l.toString=function(){return se(this())},l}function V(l){return J(l)?l():l}function J(l){return"function"==typeof l&&l.hasOwnProperty(j)&&l.__forward_ref__===Q}class Ae extends Error{constructor(u,d){super(function(l,u){return`${l?`NG0${l}: `:""}${u}`}(u,d)),this.code=u}}function fe(l){return"string"==typeof l?l:null==l?"":String(l)}function Se(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():fe(l)}function Dt(l,u){const d=u?` in ${u}`:"";throw new Ae("201",`No provider for ${Se(l)} found${d}`)}function at(l,u){null==l&&function(l,u,d,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${d} ${h} ${u} <=Actual]`))}(u,l,null,"!=")}function St(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function pn(l){return{providers:l.providers||[],imports:l.imports||[]}}function rr(l){return ir(l,ti)||ir(l,Ri)}function ir(l,u){return l.hasOwnProperty(u)?l[u]:null}function gi(l){return l&&(l.hasOwnProperty(Ki)||l.hasOwnProperty(hs))?l[Ki]:null}const ti=ee({\u0275prov:ee}),Ki=ee({\u0275inj:ee}),Ri=ee({ngInjectableDef:ee}),hs=ee({ngInjectorDef:ee});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Kn;function jn(l){const u=Kn;return Kn=l,u}function Mt(l,u,d){const h=rr(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&st.Optional?null:void 0!==u?u:void Dt(se(l),"Injector")}function Kt(l){return{toString:l}.toString()}var $t=(()=>(($t=$t||{})[$t.OnPush=0]="OnPush",$t[$t.Default=1]="Default",$t))(),je=(()=>((je=je||{})[je.Emulated=0]="Emulated",je[je.None=2]="None",je[je.ShadowDom=3]="ShadowDom",je))();const pt="undefined"!=typeof globalThis&&globalThis,ll="undefined"!=typeof window&&window,ho="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,mi="undefined"!=typeof global&&global,on=pt||mi||ll||ho,an={},W=[],q=ee({\u0275cmp:ee}),ce=ee({\u0275dir:ee}),ye=ee({\u0275pipe:ee}),de=ee({\u0275mod:ee}),Ge=ee({\u0275loc:ee}),nt=ee({\u0275fac:ee}),Zt=ee({__NG_ELEMENT_ID__:ee});let Jt=0;function Vt(l){return Kt(()=>{const d={},h={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===$t.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||W,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||je.Emulated,id:"c",styles:l.styles||W,_:null,setInput:null,schemas:l.schemas||null,tView:null},m=l.directives,y=l.features,E=l.pipes;return h.id+=Jt++,h.inputs=Us(l.inputs,d),h.outputs=Us(l.outputs),y&&y.forEach(C=>C(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(kr):null,h.pipeDefs=E?()=>("function"==typeof E?E():E).map(pr):null,h})}function kr(l){return Un(l)||function(l){return l[ce]||null}(l)}function pr(l){return function(l){return l[ye]||null}(l)}const fs={};function Bs(l){return Kt(()=>{const u={type:l.type,bootstrap:l.bootstrap||W,declarations:l.declarations||W,imports:l.imports||W,exports:l.exports||W,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(fs[l.id]=l.type),u})}function _u(l,u){return Kt(()=>{const d=Oi(l,!0);d.declarations=u.declarations||W,d.imports=u.imports||W,d.exports=u.exports||W})}function Us(l,u){if(null==l)return an;const d={};for(const h in l)if(l.hasOwnProperty(h)){let m=l[h],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),d[m]=h,u&&(u[m]=y)}return d}const ul=Vt;function va(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function Un(l){return l[q]||null}function Oi(l,u){const d=l[de]||null;if(!d&&!0===u)throw new Error(`Type ${se(l)} does not have '\u0275mod' property.`);return d}function Ni(l){return Array.isArray(l)&&"object"==typeof l[1]}function yi(l){return Array.isArray(l)&&!0===l[1]}function go(l){return 0!=(8&l.flags)}function Fi(l){return 2==(2&l.flags)}function Ur(l){return 1==(1&l.flags)}function ii(l){return null!==l.template}function si(l){return 0!=(512&l[2])}function es(l,u){return l.hasOwnProperty(nt)?l[nt]:null}class $o{constructor(u,d,h){this.previousValue=u,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function gs(){return Aa}function Aa(l){return l.type.prototype.ngOnChanges&&(l.setInput=Bc),fl}function fl(){const l=Hn(this),u=null==l?void 0:l.current;if(u){const d=l.previous;if(d===an)l.previous=u;else for(let h in u)d[h]=u[h];l.current=null,this.ngOnChanges(u)}}function Bc(l,u,d,h){const m=Hn(l)||function(l,u){return l[zo]=u}(l,{previous:an,current:null}),y=m.current||(m.current={}),E=m.previous,C=this.declaredInputs[d],I=E[C];y[C]=new $o(I&&I.currentValue,u,E===an),l[h]=u}gs.ngInherit=!0;const zo="__ngSimpleChanges__";function Hn(l){return l[zo]||null}const gl="http://www.w3.org/2000/svg";let ml;function _l(l){ml=l}function En(l){return!!l.listen}const Y={createRenderer:(l,u)=>void 0!==ml?ml:"undefined"!=typeof document?document:void 0};function xe(l){for(;Array.isArray(l);)l=l[0];return l}function ut(l,u){return xe(u[l])}function ct(l,u){return xe(u[l.index])}function xr(l,u){return l.data[u]}function Ar(l,u){const d=u[l];return Ni(d)?d:d[0]}function qo(l){return 4==(4&l[2])}function ms(l){return 128==(128&l[2])}function zs(l,u){return null==u?null:l[u]}function Gc(l){l[18]=0}function bl(l,u){l[5]+=u;let d=l,h=l[3];for(;null!==h&&(1===u&&1===d[5]||-1===u&&0===d[5]);)h[5]+=u,d=h,h=h[3]}const Tt={lFrame:yv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function nf(){return Tt.bindingsEnabled}function Fe(){return Tt.lFrame.lView}function zt(){return Tt.lFrame.tView}function rf(l){return Tt.lFrame.contextLView=l,l[8]}function Mn(){let l=sf();for(;null!==l&&64===l.type;)l=l.parent;return l}function sf(){return Tt.lFrame.currentTNode}function vi(l,u){const d=Tt.lFrame;d.currentTNode=l,d.isParent=u}function jc(){return Tt.lFrame.isParent}function Hc(){Tt.lFrame.isParent=!1}function wl(){return Tt.isInCheckNoChangesMode}function $c(l){Tt.isInCheckNoChangesMode=l}function or(){const l=Tt.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function yo(){return Tt.lFrame.bindingIndex++}function zg(l,u){const d=Tt.lFrame;d.bindingIndex=d.bindingRootIndex=l,uf(u)}function uf(l){Tt.lFrame.currentDirectiveIndex=l}function cf(l){const u=Tt.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function df(){return Tt.lFrame.currentQueryIndex}function Ia(l){Tt.lFrame.currentQueryIndex=l}function qg(l){const u=l[1];return 2===u.type?u.declTNode:1===u.type?l[6]:null}function Ta(l,u,d){if(d&st.SkipSelf){let m=u,y=l;for(;!(m=m.parent,null!==m||d&st.Host||(m=qg(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;u=m,l=y}const h=Tt.lFrame=Wg();return h.currentTNode=u,h.lView=l,!0}function Su(l){const u=Wg(),d=l[1];Tt.lFrame=u,u.currentTNode=d.firstChild,u.lView=l,u.tView=d,u.contextLView=l,u.bindingIndex=d.bindingStartIndex,u.inI18n=!1}function Wg(){const l=Tt.lFrame,u=null===l?null:l.child;return null===u?yv(l):u}function yv(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function Yg(){const l=Tt.lFrame;return Tt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const vv=Yg;function Du(){const l=Yg();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function oi(){return Tt.lFrame.selectedIndex}function El(l){Tt.lFrame.selectedIndex=l}function ar(){const l=Tt.lFrame;return xr(l.tView,l.selectedIndex)}function S0(){Tt.lFrame.currentNamespace=gl}function qc(){Tt.lFrame.currentNamespace=null}function Wc(l,u){for(let d=u.directiveStart,h=u.directiveEnd;d<h;d++){const y=l.data[d].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:O}=y;E&&(l.contentHooks||(l.contentHooks=[])).push(-d,E),C&&((l.contentHooks||(l.contentHooks=[])).push(d,C),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,C)),I&&(l.viewHooks||(l.viewHooks=[])).push(-d,I),M&&((l.viewHooks||(l.viewHooks=[])).push(d,M),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,M)),null!=O&&(l.destroyHooks||(l.destroyHooks=[])).push(d,O)}}function Cl(l,u,d){Kc(l,u,3,d)}function Yc(l,u,d,h){(3&l[2])===d&&Kc(l,u,d,h)}function Iu(l,u){let d=l[2];(3&d)===u&&(d&=2047,d+=1,l[2]=d)}function Kc(l,u,d,h){const y=null!=h?h:-1,E=u.length-1;let C=0;for(let I=void 0!==h?65535&l[18]:0;I<E;I++)if("number"==typeof u[I+1]){if(C=u[I],null!=h&&C>=h)break}else u[I]<0&&(l[18]+=65536),(C<y||-1==y)&&(bv(l,d,u,I),l[18]=(4294901760&l[18])+I+2),I++}function bv(l,u,d,h){const m=d[h]<0,y=d[h+1],C=l[m?-d[h]:d[h]];if(m){if(l[2]>>11<l[18]>>16&&(3&l[2])===u){l[2]+=2048;try{y.call(C)}finally{}}}else try{y.call(C)}finally{}}class Tu{constructor(u,d,h){this.factory=u,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Zc(l,u,d){const h=En(l);let m=0;for(;m<d.length;){const y=d[m];if("number"==typeof y){if(0!==y)break;m++;const E=d[m++],C=d[m++],I=d[m++];h?l.setAttribute(u,C,I,E):u.setAttributeNS(E,C,I)}else{const E=y,C=d[++m];qs(E)?h&&l.setProperty(u,E,C):h?l.setAttribute(u,E,C):u.setAttribute(E,C),m++}}return m}function ka(l){return 3===l||4===l||6===l}function qs(l){return 64===l.charCodeAt(0)}function $n(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let d=-1;for(let h=0;h<u.length;h++){const m=u[h];"number"==typeof m?d=m:0===d||Zg(l,d,m,null,-1===d||2===d?u[++h]:null)}}return l}function Zg(l,u,d,h,m){let y=0,E=l.length;if(-1===u)E=-1;else for(;y<l.length;){const C=l[y++];if("number"==typeof C){if(C===u){E=-1;break}if(C>u){E=y-1;break}}}for(;y<l.length;){const C=l[y];if("number"==typeof C)break;if(C===d){if(null===h)return void(null!==m&&(l[y+1]=m));if(h===l[y+1])return void(l[y+2]=m)}y++,null!==h&&y++,null!==m&&y++}-1!==E&&(l.splice(E,0,u),y=E+1),l.splice(y++,0,d),null!==h&&l.splice(y++,0,h),null!==m&&l.splice(y++,0,m)}function Al(l){return-1!==l}function Na(l){return 32767&l}function Ru(l,u){let d=function(l){return l>>16}(l),h=u;for(;d>0;)h=h[15],d--;return h}let Jg=!0;function Ou(l){const u=Jg;return Jg=l,u}let Qc=0;function Nu(l,u){const d=Rn(l,u);if(-1!==d)return d;const h=u[1];h.firstCreatePass&&(l.injectorIndex=u.length,Jc(h.data,l),Jc(u,null),Jc(h.blueprint,null));const m=Dn(l,u),y=l.injectorIndex;if(Al(m)){const E=Na(m),C=Ru(m,u),I=C[1].data;for(let M=0;M<8;M++)u[y+M]=C[E+M]|I[E+M]}return u[y+8]=m,y}function Jc(l,u){l.push(0,0,0,0,0,0,0,0,u)}function Rn(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function Dn(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,h=null,m=u;for(;null!==m;){const y=m[1],E=y.type;if(h=2===E?y.declTNode:1===E?m[6]:null,null===h)return-1;if(d++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return-1}function Fa(l,u,d){!function(l,u,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Zt)&&(h=d[Zt]),null==h&&(h=d[Zt]=Qc++);const m=255&h;u.data[l+(m>>5)]|=1<<m}(l,u,d)}function pf(l,u,d){if(d&st.Optional)return l;Dt(u,"NodeInjector")}function gf(l,u,d,h){if(d&st.Optional&&void 0===h&&(h=null),0==(d&(st.Self|st.Host))){const m=l[9],y=jn(void 0);try{return m?m.get(u,h,d&st.Optional):Mt(u,h,d&st.Optional)}finally{jn(y)}}return pf(h,u,d)}function Fu(l,u,d,h=st.Default,m){if(null!==l){const y=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(Zt)?l[Zt]:void 0;return"number"==typeof u?u>=0?255&u:vs:u}(d);if("function"==typeof y){if(!Ta(u,l,h))return h&st.Host?pf(m,d,h):gf(u,d,h,m);try{const E=y(h);if(null!=E||h&st.Optional)return E;Dt(d)}finally{vv()}}else if("number"==typeof y){let E=null,C=Rn(l,u),I=-1,M=h&st.Host?u[16][6]:null;for((-1===C||h&st.SkipSelf)&&(I=-1===C?Dn(l,u):u[C+8],-1!==I&&_f(h,!1)?(E=u[1],C=Na(I),u=Ru(I,u)):C=-1);-1!==C;){const O=u[1];if(tm(y,C,O.data)){const F=Ws(C,u,d,E,h,M);if(F!==em)return F}I=u[C+8],-1!==I&&_f(h,u[1].data[C+8]===M)&&tm(y,C,u)?(E=O,C=Na(I),u=Ru(I,u)):C=-1}}}return gf(u,d,h,m)}const em={};function vs(){return new vo(Mn(),Fe())}function Ws(l,u,d,h,m,y){const E=u[1],C=E.data[l+8],O=Xc(C,E,d,null==h?Fi(C)&&Jg:h!=E&&0!=(3&C.type),m&st.Host&&y===C);return null!==O?Sl(u,E,O,C):em}function Xc(l,u,d,h,m){const y=l.providerIndexes,E=u.data,C=1048575&y,I=l.directiveStart,O=y>>20,B=m?C+O:l.directiveEnd;for(let z=h?C:C+O;z<B;z++){const X=E[z];if(z<I&&d===X||z>=I&&X.type===d)return z}if(m){const z=E[I];if(z&&ii(z)&&z.type===d)return I}return null}function Sl(l,u,d,h){let m=l[d];const y=u.data;if(function(l){return l instanceof Tu}(m)){const E=m;E.resolving&&function(l,u){throw new Ae("200",`Circular dependency in DI detected for ${l}`)}(Se(y[d]));const C=Ou(E.canSeeViewProviders);E.resolving=!0;const I=E.injectImpl?jn(E.injectImpl):null;Ta(l,h,st.Default);try{m=l[d]=E.factory(void 0,y,l,h),u.firstCreatePass&&d>=h.directiveStart&&function(l,u,d){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:y}=u.type.prototype;if(h){const E=Aa(u);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,E),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,E)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,m),y&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,y),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,y))}(d,y[d],u)}finally{null!==I&&jn(I),Ou(C),E.resolving=!1,vv()}}return m}function tm(l,u,d){return!!(d[u+(l>>5)]&1<<l)}function _f(l,u){return!(l&st.Self||l&st.Host&&u)}class vo{constructor(u,d){this._tNode=u,this._lView=d}get(u,d){return Fu(this._tNode,this._lView,u,void 0,d)}}function bo(l){return Kt(()=>{const u=l.prototype.constructor,d=u[nt]||ed(u),h=Object.prototype;let m=Object.getPrototypeOf(l.prototype).constructor;for(;m&&m!==h;){const y=m[nt]||ed(m);if(y&&y!==d)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function ed(l){return J(l)?()=>{const u=ed(V(l));return u&&u()}:es(l)}function Jn(l){return function(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const d=l.attrs;if(d){const h=d.length;let m=0;for(;m<h;){const y=d[m];if(ka(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<h&&"string"==typeof d[m];)m++;else{if(y===u)return d[m+1];m+=2}}}return null}(Mn(),l)}const Dl="__parameters__";function Yo(l,u,d){return Kt(()=>{const h=function(l){return function(...d){if(l){const h=l(...d);for(const m in h)this[m]=h[m]}}}(u);function m(...y){if(this instanceof m)return h.apply(this,y),this;const E=new m(...y);return C.annotation=E,C;function C(I,M,O){const F=I.hasOwnProperty(Dl)?I[Dl]:Object.defineProperty(I,Dl,{value:[]})[Dl];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(E),I}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=l,m.annotationCls=m,m})}class gn{constructor(u,d){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=St({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sm=new gn("AnalyzeForEntryComponents"),wo=Function;function vn(l,u){void 0===u&&(u=l);for(let d=0;d<l.length;d++){let h=l[d];Array.isArray(h)?(u===l&&(u=l.slice(0,d)),vn(h,u)):u!==l&&u.push(h)}return u}function mr(l,u){l.forEach(d=>Array.isArray(d)?mr(d,u):u(d))}function Uu(l,u,d){u>=l.length?l.push(d):l.splice(u,0,d)}function Il(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Eo(l,u){const d=[];for(let h=0;h<l;h++)d.push(u);return d}function Sr(l,u,d){let h=Rl(l,u);return h>=0?l[1|h]=d:(h=~h,function(l,u,d,h){let m=l.length;if(m==u)l.push(d,h);else if(1===m)l.push(h,l[0]),l[0]=d;else{for(m--,l.push(l[m-1],l[m]);m>u;)l[m]=l[m-2],m--;l[u]=d,l[u+1]=h}}(l,h,u,d)),h}function Ml(l,u){const d=Rl(l,u);if(d>=0)return l[1|d]}function Rl(l,u){return function(l,u,d){let h=0,m=l.length>>d;for(;m!==h;){const y=h+(m-h>>1),E=l[y<<d];if(u===E)return y<<d;E>u?m=y:h=y+1}return~(m<<d)}(l,u,1)}const La={},ud="__NG_DI_FLAG__",Zo="ngTempTokenPath",T0=/\n/gm,Co="__source",Qo=ee({provide:String,useValue:ee});let Ua;function Jo(l){const u=Ua;return Ua=l,u}function Ef(l,u=st.Default){if(void 0===Ua)throw new Error("inject() must be called from an injection context");return null===Ua?Mt(l,void 0,u):Ua.get(l,u&st.Optional?null:void 0,u)}function Pn(l,u=st.Default){return(Kn||Ef)(V(l),u)}const Cf=Pn;function Ys(l){const u=[];for(let d=0;d<l.length;d++){const h=V(l[d]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let m,y=st.Default;for(let E=0;E<h.length;E++){const C=h[E],I=xf(C);"number"==typeof I?-1===I?m=C.token:y|=I:m=C}u.push(Pn(m,y))}else u.push(Pn(h))}return u}function Ks(l,u){return l[ud]=u,l.prototype[ud]=u,l}function xf(l){return l[ud]}function hm(l,u,d,h){const m=l[Zo];throw u[Co]&&m.unshift(u[Co]),l.message=function(l,u,d,h=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let m=se(u);if(Array.isArray(u))m=u.map(se).join(" -> ");else if("object"==typeof u){let y=[];for(let E in u)if(u.hasOwnProperty(E)){let C=u[E];y.push(E+":"+("string"==typeof C?JSON.stringify(C):se(C)))}m=`{${y.join(", ")}}`}return`${d}${h?"("+h+")":""}[${m}]: ${l.replace(T0,"\n  ")}`}("\n"+l.message,m,d,h),l.ngTokenPath=m,l[Zo]=null,l}const Zs=Ks(Yo("Inject",l=>({token:l})),-1),rs=Ks(Yo("Optional"),8),Ga=Ks(Yo("SkipSelf"),4);let hd;function Pl(l){var u;return(null===(u=function(){if(void 0===hd&&(hd=null,on.trustedTypes))try{hd=on.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return hd}())||void 0===u?void 0:u.createHTML(l))||l}class ja{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gm extends ja{getTypeName(){return"HTML"}}class Fv extends ja{getTypeName(){return"Style"}}class Ff extends ja{getTypeName(){return"Script"}}class Pv extends ja{getTypeName(){return"URL"}}class M0 extends ja{getTypeName(){return"ResourceURL"}}function Hr(l){return l instanceof ja?l.changingThisBreaksApplicationSecurity:l}function Bl(l,u){const d=Lv(l);if(null!=d&&d!==u){if("ResourceURL"===d&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===u}function Lv(l){return l instanceof ja&&l.getTypeName()||null}function Hu(l){return new gm(l)}function Vv(l){return new Fv(l)}function _d(l){return new Ff(l)}function mm(l){return new Pv(l)}function Bv(l){return new M0(l)}class Uv{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const d=(new window.DOMParser).parseFromString(Pl(u),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(u):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class _m{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const h=this.inertDocument.createElement("body");d.appendChild(h)}}getInertBodyElement(u){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Pl(u),d;const h=this.inertDocument.createElement("body");return h.innerHTML=Pl(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(u){const d=u.attributes;for(let m=d.length-1;0<m;m--){const E=d.item(m).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&u.removeAttribute(E)}let h=u.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Gv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zu(l){return(l=String(l)).match(Gv)||l.match(vm)?l:"unsafe:"+l}function bs(l){const u={};for(const d of l.split(","))u[d]=!0;return u}function Xo(...l){const u={};for(const d of l)for(const h in d)d.hasOwnProperty(h)&&(u[h]=!0);return u}const bm=bs("area,br,col,hr,img,wbr"),Vf=bs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yd=bs("rp,rt"),qu=Xo(bm,Xo(Vf,bs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xo(yd,bs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xo(yd,Vf)),vd=bs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uf=bs("srcset"),jv=Xo(vd,Uf,bs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),O0=bs("script,style,template");class Pt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let d=u.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(u){const d=u.nodeName.toLowerCase();if(!qu.hasOwnProperty(d))return this.sanitizedSomething=!0,!O0.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=u.attributes;for(let m=0;m<h.length;m++){const y=h.item(m),E=y.name,C=E.toLowerCase();if(!jv.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=y.value;vd[C]&&(I=zu(I)),Uf[C]&&(l=I,I=(l=String(l)).split(",").map(u=>zu(u.trim())).join(", ")),this.buf.push(" ",E,'="',Ul(I),'"')}var l;return this.buf.push(">"),!0}endElement(u){const d=u.nodeName.toLowerCase();qu.hasOwnProperty(d)&&!bm.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(u){this.buf.push(Ul(u))}checkClobberedElement(u,d){if(d&&(u.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return d}}const wm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$r=/([^\#-~ |!])/g;function Ul(l){return l.replace(/&/g,"&amp;").replace(wm,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace($r,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lr;function zn(l,u){let d=null;try{lr=lr||function(l){const u=new _m(l);return function(){try{return!!(new window.DOMParser).parseFromString(Pl(""),"text/html")}catch(l){return!1}}()?new Uv(u):u}(l);let h=u?String(u):"";d=lr.getInertBodyElement(h);let m=5,y=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=y,y=d.innerHTML,d=lr.getInertBodyElement(h)}while(h!==y);return Pl((new Pt).sanitizeChildren(Gf(d)||d))}finally{if(d){const h=Gf(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Gf(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var qt=(()=>((qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt))();function Gl(l){const u=function(){const l=Fe();return l&&l[12]}();return u?u.sanitize(qt.URL,l)||"":Bl(l,"URL")?Hr(l):zu(fe(l))}const Ao="__ngContext__";function Nr(l,u){l[Ao]=u}function $f(l){const u=function(l){return l[Ao]||null}(l);return u?Array.isArray(u)?u:u.lView:null}function x(l){return l.ngOriginalError}function w(l,...u){l.error(...u)}class D{constructor(){this._console=console}handleError(u){const d=this._findOriginalError(u),h=this._findContext(u),m=(l=u)&&l.ngErrorLogger||w;var l;m(this._console,"ERROR",u),d&&m(this._console,"ORIGINAL ERROR",d),h&&m(this._console,"ERROR CONTEXT",h)}_findContext(u){return u?u.ngDebugContext||this._findContext(x(u)):null}_findOriginalError(u){let d=u&&x(u);for(;d&&x(d);)d=x(d);return d||null}}const Wf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(on))();function Im(l){return l.ownerDocument}function dn(l){return l instanceof Function?l():l}var Qt=(()=>((Qt=Qt||{})[Qt.Important=1]="Important",Qt[Qt.DashCase=2]="DashCase",Qt))();function Wv(l,u){return undefined(l,u)}function Es(l){const u=l[3];return yi(u)?u[3]:u}function ui(l){return F0(l[13])}function Yv(l){return F0(l[4])}function F0(l){for(;null!==l&&!yi(l);)l=l[4];return l}function Sd(l,u,d,h,m){if(null!=h){let y,E=!1;yi(h)?y=h:Ni(h)&&(E=!0,h=h[0]);const C=xe(h);0===l&&null!==d?null==m?Xv(u,d,C):Hl(u,d,C,m||null,!0):1===l&&null!==d?Hl(u,d,C,m||null,!0):2===l?function(l,u,d){const h=Rm(l,u);h&&function(l,u,d,h){En(l)?l.removeChild(u,d,h):u.removeChild(d)}(l,h,u,d)}(u,C,E):3===l&&u.destroyNode(C),null!=y&&function(l,u,d,h,m){const y=d[7];y!==xe(d)&&Sd(u,l,h,y,m);for(let C=10;C<d.length;C++){const I=d[C];Zf(I[1],I,l,u,h,y)}}(u,l,y,d,m)}}function Zv(l,u,d){return En(l)?l.createElement(u,d):null===d?l.createElement(u):l.createElementNS(d,u)}function Mm(l,u){const d=l[9],h=d.indexOf(u),m=u[3];1024&u[2]&&(u[2]&=-1025,bl(m,-1)),d.splice(h,1)}function Qv(l,u){if(l.length<=10)return;const d=10+u,h=l[d];if(h){const m=h[17];null!==m&&m!==l&&Mm(m,h),u>0&&(l[d-1][4]=h[4]);const y=Il(l,10+u);!function(l,u){Zf(l,u,u[11],2,null,null),u[0]=null,u[6]=null}(h[1],h);const E=y[19];null!==E&&E.detachView(y[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function uM(l,u){if(!(256&u[2])){const d=u[11];En(d)&&d.destroyNode&&Zf(l,u,d,3,null,null),function(l){let u=l[13];if(!u)return Jv(l[1],l);for(;u;){let d=null;if(Ni(u))d=u[13];else{const h=u[10];h&&(d=h)}if(!d){for(;u&&!u[4]&&u!==l;)Ni(u)&&Jv(u[1],u),u=u[3];null===u&&(u=l),Ni(u)&&Jv(u[1],u),d=u&&u[4]}u=d}}(u)}}function Jv(l,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(l,u){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let h=0;h<d.length;h+=2){const m=u[d[h]];if(!(m instanceof Tu)){const y=d[h+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const C=m[y[E]],I=y[E+1];try{I.call(C)}finally{}}else try{y.call(m)}finally{}}}}(l,u),function(l,u){const d=l.cleanup,h=u[7];let m=-1;if(null!==d)for(let y=0;y<d.length-1;y+=2)if("string"==typeof d[y]){const E=d[y+1],C="function"==typeof E?E(u):xe(u[E]),I=h[m=d[y+2]],M=d[y+3];"boolean"==typeof M?C.removeEventListener(d[y],I,M):M>=0?h[m=M]():h[m=-M].unsubscribe(),y+=2}else{const E=h[m=d[y+1]];d[y].call(E)}if(null!==h){for(let y=m+1;y<h.length;y++)h[y]();u[7]=null}}(l,u),1===u[1].type&&En(u[11])&&u[11].destroy();const d=u[17];if(null!==d&&yi(u[3])){d!==u[3]&&Mm(d,u);const h=u[19];null!==h&&h.detachView(l)}}}function V0(l,u,d){return function(l,u,d){let h=u;for(;null!==h&&40&h.type;)h=(u=h).parent;if(null===h)return d[0];if(2&h.flags){const m=l.data[h.directiveStart].encapsulation;if(m===je.None||m===je.Emulated)return null}return ct(h,d)}(l,u.parent,d)}function Hl(l,u,d,h,m){En(l)?l.insertBefore(u,d,h,m):u.insertBefore(d,h,m)}function Xv(l,u,d){En(l)?l.appendChild(u,d):u.appendChild(d)}function eb(l,u,d,h,m){null!==h?Hl(l,u,d,h,m):Xv(l,u,d)}function Rm(l,u){return En(l)?l.parentNode(u):u.parentNode}function U0(l,u,d){return hM(l,u,d)}let hM=function(l,u,d){return 40&l.type?ct(l,d):null};function km(l,u,d,h){const m=V0(l,h,u),y=u[11],C=U0(h.parent||u[6],h,u);if(null!=m)if(Array.isArray(d))for(let I=0;I<d.length;I++)eb(y,m,d[I],C,!1);else eb(y,m,d,C,!1)}function xs(l,u){if(null!==u){const d=u.type;if(3&d)return ct(u,l);if(4&d)return $l(-1,l[u.index]);if(8&d){const h=u.child;if(null!==h)return xs(l,h);{const m=l[u.index];return yi(m)?$l(-1,m):xe(m)}}if(32&d)return Wv(u,l)()||xe(l[u.index]);{const h=fM(l,u);return null!==h?Array.isArray(h)?h[0]:xs(Es(l[16]),h):xs(l,u.next)}}return null}function fM(l,u){return null!==u?l[16][6].projection[u.projection]:null}function $l(l,u){const d=10+l+1;if(d<u.length){const h=u[d],m=h[1].firstChild;if(null!==m)return xs(h,m)}return u[7]}function Dd(l,u,d,h,m,y,E){for(;null!=d;){const C=h[d.index],I=d.type;if(E&&0===u&&(C&&Nr(xe(C),h),d.flags|=4),64!=(64&d.flags))if(8&I)Dd(l,u,d.child,h,m,y,!1),Sd(u,l,m,C,y);else if(32&I){const M=Wv(d,h);let O;for(;O=M();)Sd(u,l,m,O,y);Sd(u,l,m,C,y)}else 16&I?Id(l,u,h,d,m,y):Sd(u,l,m,C,y);d=E?d.projectionNext:d.next}}function Zf(l,u,d,h,m,y){Dd(d,h,l.firstChild,u,m,y,!1)}function Id(l,u,d,h,m,y){const E=d[16],I=E[6].projection[h.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)Sd(u,l,m,I[M],y);else Dd(l,u,I,E[3],m,y,!0)}function j0(l,u,d){En(l)?l.setAttribute(u,"style",d):u.style.cssText=d}function rb(l,u,d){En(l)?""===d?l.removeAttribute(u,"class"):l.setAttribute(u,"class",d):u.className=d}function mM(l,u,d){let h=l.length;for(;;){const m=l.indexOf(u,d);if(-1===m)return m;if(0===m||l.charCodeAt(m-1)<=32){const y=u.length;if(m+y===h||l.charCodeAt(m+y)<=32)return m}d=m+1}}const Fm="ng-template";function _M(l,u,d){let h=0;for(;h<l.length;){let m=l[h++];if(d&&"class"===m){if(m=l[h],-1!==mM(m.toLowerCase(),u,0))return!0}else if(1===m){for(;h<l.length&&"string"==typeof(m=l[h++]);)if(m.toLowerCase()===u)return!0;return!1}}return!1}function ib(l){return 4===l.type&&l.value!==Fm}function yM(l,u,d){return u===(4!==l.type||d?l.value:Fm)}function vM(l,u,d){let h=4;const m=l.attrs||[],y=function(l){for(let u=0;u<l.length;u++)if(ka(l[u]))return u;return l.length}(m);let E=!1;for(let C=0;C<u.length;C++){const I=u[C];if("number"!=typeof I){if(!E)if(4&h){if(h=2|1&h,""!==I&&!yM(l,I,d)||""===I&&1===u.length){if(na(h))return!1;E=!0}}else{const M=8&h?I:u[++C];if(8&h&&null!==l.attrs){if(!_M(l.attrs,M,d)){if(na(h))return!1;E=!0}continue}const F=bM(8&h?"class":I,m,ib(l),d);if(-1===F){if(na(h))return!1;E=!0;continue}if(""!==M){let B;B=F>y?"":m[F+1].toLowerCase();const z=8&h?B:null;if(z&&-1!==mM(z,M,0)||2&h&&M!==B){if(na(h))return!1;E=!0}}}}else{if(!E&&!na(h)&&!na(I))return!1;if(E&&na(I))continue;E=!1,h=I|1&h}}return na(h)||E}function na(l){return 0==(1&l)}function bM(l,u,d,h){if(null===u)return-1;let m=0;if(h||!d){let y=!1;for(;m<u.length;){const E=u[m];if(E===l)return m;if(3===E||6===E)y=!0;else{if(1===E||2===E){let C=u[++m];for(;"string"==typeof C;)C=u[++m];continue}if(4===E)break;if(0===E){m+=4;continue}}m+=y?1:2}return-1}return function(l,u){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const h=l[d];if("number"==typeof h)return-1;if(h===u)return d;d++}return-1}(u,l)}function sb(l,u,d=!1){for(let h=0;h<u.length;h++)if(vM(l,u[h],d))return!0;return!1}function xM(l,u){e:for(let d=0;d<u.length;d++){const h=u[d];if(l.length===h.length){for(let m=0;m<l.length;m++)if(l[m]!==h[m])continue e;return!0}}return!1}function Qf(l,u){return l?":not("+u.trim()+")":u}function AM(l){let u=l[0],d=1,h=2,m="",y=!1;for(;d<l.length;){let E=l[d];if("string"==typeof E)if(2&h){const C=l[++d];m+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?m+="."+E:4&h&&(m+=" "+E);else""!==m&&!na(E)&&(u+=Qf(y,m),m=""),h=E,y=y||!na(h);d++}return""!==m&&(u+=Qf(y,m)),u}const Ft={};function $a(l){$0(zt(),Fe(),oi()+l,wl())}function $0(l,u,d,h){if(!h)if(3==(3&u[2])){const y=l.preOrderCheckHooks;null!==y&&Cl(u,y,d)}else{const y=l.preOrderHooks;null!==y&&Yc(u,y,0,d)}El(d)}function Pm(l,u){return l<<17|u<<2}function ra(l){return l>>17&32767}function ob(l){return 2|l}function za(l){return(131068&l)>>2}function ab(l,u){return-131069&l|u<<2}function lb(l){return 1|l}function ex(l,u){const d=l.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const m=d[h],y=d[h+1];if(-1!==y){const E=l.data[y];Ia(m),E.contentQueries(2,u[y],y)}}}function Bm(l,u,d,h,m,y,E,C,I,M){const O=u.blueprint.slice();return O[0]=m,O[2]=140|h,Gc(O),O[3]=O[15]=l,O[8]=d,O[10]=E||l&&l[10],O[11]=C||l&&l[11],O[12]=I||l&&l[12]||null,O[9]=M||l&&l[9]||null,O[6]=y,O[16]=2==u.type?l[16]:O,O}function Td(l,u,d,h,m){let y=l.data[u];if(null===y)y=function(l,u,d,h,m){const y=sf(),E=jc(),I=l.data[u]=function(l,u,d,h,m,y){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,d,u,h,m);return null===l.firstChild&&(l.firstChild=I),null!==y&&(E?null==y.child&&null!==I.parent&&(y.child=I):null===y.next&&(y.next=I)),I}(l,u,d,h,m),Tt.lFrame.inI18n&&(y.flags|=64);else if(64&y.type){y.type=d,y.value=h,y.attrs=m;const E=function(){const l=Tt.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}();y.injectorIndex=null===E?-1:E.injectorIndex}return vi(y,!0),y}function Qu(l,u,d,h){if(0===d)return-1;const m=u.length;for(let y=0;y<d;y++)u.push(h),l.blueprint.push(h),l.data.push(null);return m}function Md(l,u,d){Su(u);try{const h=l.viewQuery;null!==h&&Eb(1,h,d);const m=l.template;null!==m&&tx(l,u,m,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&ex(l,u),l.staticViewQueries&&Eb(2,l.viewQuery,d);const y=l.components;null!==y&&function(l,u){for(let d=0;d<u.length;d++)rR(l,u[d])}(u,y)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{u[2]&=-5,Du()}}function Rd(l,u,d,h){const m=u[2];if(256==(256&m))return;Su(u);const y=wl();try{Gc(u),function(l){Tt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&tx(l,u,d,2,h);const E=3==(3&m);if(!y)if(E){const M=l.preOrderCheckHooks;null!==M&&Cl(u,M,null)}else{const M=l.preOrderHooks;null!==M&&Yc(u,M,0,null),Iu(u,0)}if(function(l){for(let u=ui(l);null!==u;u=Yv(u)){if(!u[2])continue;const d=u[9];for(let h=0;h<d.length;h++){const m=d[h],y=m[3];0==(1024&m[2])&&bl(y,1),m[2]|=1024}}}(u),function(l){for(let u=ui(l);null!==u;u=Yv(u))for(let d=10;d<u.length;d++){const h=u[d],m=h[1];ms(h)&&Rd(m,h,m.template,h[8])}}(u),null!==l.contentQueries&&ex(l,u),!y)if(E){const M=l.contentCheckHooks;null!==M&&Cl(u,M)}else{const M=l.contentHooks;null!==M&&Yc(u,M,1),Iu(u,1)}!function(l,u){const d=l.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const m=d[h];if(m<0)El(~m);else{const y=m,E=d[++h],C=d[++h];zg(E,y),C(2,u[y])}}}finally{El(-1)}}(l,u);const C=l.components;null!==C&&function(l,u){for(let d=0;d<u.length;d++)nR(l,u[d])}(u,C);const I=l.viewQuery;if(null!==I&&Eb(2,I,h),!y)if(E){const M=l.viewCheckHooks;null!==M&&Cl(u,M)}else{const M=l.viewHooks;null!==M&&Yc(u,M,2),Iu(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),y||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,bl(u[3],-1))}finally{Du()}}function BM(l,u,d,h){const m=u[10],y=!wl(),E=qo(u);try{y&&!E&&m.begin&&m.begin(),E&&Md(l,u,h),Rd(l,u,d,h)}finally{y&&!E&&m.end&&m.end()}}function tx(l,u,d,h,m){const y=oi(),E=2&h;try{El(-1),E&&u.length>20&&$0(l,u,20,wl()),d(h,m)}finally{El(y)}}function nx(l,u,d){if(go(u)){const m=u.directiveEnd;for(let y=u.directiveStart;y<m;y++){const E=l.data[y];E.contentQueries&&E.contentQueries(1,d[y],y)}}}function gb(l,u,d){!nf()||(function(l,u,d,h){const m=d.directiveStart,y=d.directiveEnd;l.firstCreatePass||Nu(d,u),Nr(h,u);const E=d.initialInputs;for(let C=m;C<y;C++){const I=l.data[C],M=ii(I);M&&JM(u,d,I);const O=Sl(u,l,C,d);Nr(O,u),null!==E&&KV(0,C-m,O,I,0,E),M&&(Ar(d.index,u)[8]=O)}}(l,u,d,ct(d,u)),128==(128&d.flags)&&function(l,u,d){const h=d.directiveStart,m=d.directiveEnd,E=d.index,C=Tt.lFrame.currentDirectiveIndex;try{El(E);for(let I=h;I<m;I++){const M=l.data[I],O=u[I];uf(I),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&dx(M,O)}}finally{El(-1),uf(C)}}(l,u,d))}function rx(l,u,d=ct){const h=u.localNames;if(null!==h){let m=u.index+1;for(let y=0;y<h.length;y+=2){const E=h[y+1],C=-1===E?d(u,l):l[E];l[m++]=C}}}function ix(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=Um(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):u}function Um(l,u,d,h,m,y,E,C,I,M){const O=20+h,F=O+m,B=function(l,u){const d=[];for(let h=0;h<u;h++)d.push(h<l?null:Ft);return d}(O,F),z="function"==typeof M?M():M;return B[1]={type:l,blueprint:B,template:d,queries:null,viewQuery:C,declTNode:u,data:B.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:I,consts:z,incompleteFirstPass:!1}}function ax(l,u,d,h){const m=_x(u);null===d?m.push(h):(m.push(d),l.firstCreatePass&&yx(l).push(h,m.length-1))}function lx(l,u,d){for(let h in l)if(l.hasOwnProperty(h)){const m=l[h];(d=null===d?{}:d).hasOwnProperty(h)?d[h].push(u,m):d[h]=[u,m]}return d}function As(l,u,d,h,m,y,E,C){const I=ct(u,d);let O,M=u.inputs;!C&&null!=M&&(O=M[h])?(bx(l,d,O,h,m),Fi(u)&&function(l,u){const d=Ar(u,l);16&d[2]||(d[2]|=64)}(d,u.index)):3&u.type&&(h=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),m=null!=E?E(m,u.value||"",h):m,En(y)?y.setProperty(I,h,m):qs(h)||(I.setProperty?I.setProperty(h,m):I[h]=m))}function _b(l,u,d,h){let m=!1;if(nf()){const y=function(l,u,d){const h=l.directiveRegistry;let m=null;if(h)for(let y=0;y<h.length;y++){const E=h[y];sb(d,E.selectors,!1)&&(m||(m=[]),Fa(Nu(d,u),l,E.type),ii(E)?(KM(l,d),m.unshift(E)):m.push(E))}return m}(l,u,d),E=null===h?null:{"":-1};if(null!==y){m=!0,hx(d,l.data.length,y.length);for(let O=0;O<y.length;O++){const F=y[O];F.providersResolver&&F.providersResolver(F)}let C=!1,I=!1,M=Qu(l,u,y.length,null);for(let O=0;O<y.length;O++){const F=y[O];d.mergedAttrs=$n(d.mergedAttrs,F.hostAttrs),fx(l,d,u,M,F),QM(M,F,E),null!==F.contentQueries&&(d.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(d.flags|=128);const B=F.type.prototype;!C&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),C=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),I=!0),M++}!function(l,u){const h=u.directiveEnd,m=l.data,y=u.attrs,E=[];let C=null,I=null;for(let M=u.directiveStart;M<h;M++){const O=m[M],F=O.inputs,B=null===y||ib(u)?null:XM(F,y);E.push(B),C=lx(F,M,C),I=lx(O.outputs,M,I)}null!==C&&(C.hasOwnProperty("class")&&(u.flags|=16),C.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=E,u.inputs=C,u.outputs=I}(l,d)}E&&function(l,u,d){if(u){const h=l.localNames=[];for(let m=0;m<u.length;m+=2){const y=d[u[m+1]];if(null==y)throw new Ae("301",`Export of name '${u[m+1]}' not found!`);h.push(u[m],y)}}}(d,h,E)}return d.mergedAttrs=$n(d.mergedAttrs,d.attrs),m}function cx(l,u,d,h,m,y){const E=y.hostBindings;if(E){let C=l.hostBindingOpCodes;null===C&&(C=l.hostBindingOpCodes=[]);const I=~u.index;(function(l){let u=l.length;for(;u>0;){const d=l[--u];if("number"==typeof d&&d<0)return d}return 0})(C)!=I&&C.push(I),C.push(h,m,E)}}function dx(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function KM(l,u){u.flags|=2,(l.components||(l.components=[])).push(u.index)}function QM(l,u,d){if(d){if(u.exportAs)for(let h=0;h<u.exportAs.length;h++)d[u.exportAs[h]]=l;ii(u)&&(d[""]=l)}}function hx(l,u,d){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+d,l.providerIndexes=u}function fx(l,u,d,h,m){l.data[h]=m;const y=m.factory||(m.factory=es(m.type)),E=new Tu(y,ii(m),null);l.blueprint[h]=E,d[h]=E,cx(l,u,0,h,Qu(l,d,m.hostVars,Ft),m)}function JM(l,u,d){const h=ct(u,l),m=ix(d),y=l[10],E=Jf(l,Bm(l,m,null,d.onPush?64:16,h,u,y,y.createRenderer(h,d),null,null));l[u.index]=E}function sa(l,u,d,h,m,y){const E=ct(l,u);!function(l,u,d,h,m,y,E){if(null==y)En(l)?l.removeAttribute(u,m,d):u.removeAttribute(m);else{const C=null==E?fe(y):E(y,h||"",m);En(l)?l.setAttribute(u,m,C,d):d?u.setAttributeNS(d,m,C):u.setAttribute(m,C)}}(u[11],E,y,l.value,d,h,m)}function KV(l,u,d,h,m,y){const E=y[u];if(null!==E){const C=h.setInput;for(let I=0;I<E.length;){const M=E[I++],O=E[I++],F=E[I++];null!==C?h.setInput(d,F,M,O):d[O]=F}}}function XM(l,u){let d=null,h=0;for(;h<u.length;){const m=u[h];if(0!==m)if(5!==m){if("number"==typeof m)break;l.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,l[m],u[h+1])),h+=2}else h+=2;else h+=4}return d}function px(l,u,d,h){return new Array(l,!0,!1,u,null,0,h,d,null,null)}function nR(l,u){const d=Ar(u,l);if(ms(d)){const h=d[1];80&d[2]?Rd(h,d,h.template,d[8]):d[5]>0&&gx(d)}}function gx(l){for(let h=ui(l);null!==h;h=Yv(h))for(let m=10;m<h.length;m++){const y=h[m];if(1024&y[2]){const E=y[1];Rd(E,y,E.template,y[8])}else y[5]>0&&gx(y)}const d=l[1].components;if(null!==d)for(let h=0;h<d.length;h++){const m=Ar(d[h],l);ms(m)&&m[5]>0&&gx(m)}}function rR(l,u){const d=Ar(u,l),h=d[1];(function(l,u){for(let d=u.length;d<l.blueprint.length;d++)u.push(l.blueprint[d])})(h,d),Md(h,d,d[8])}function Jf(l,u){return l[13]?l[14][4]=u:l[13]=u,l[14]=u,u}function vb(l){for(;l;){l[2]|=64;const u=Es(l);if(si(l)&&!u)return l;l=u}return null}function wb(l,u,d){const h=u[10];h.begin&&h.begin();try{Rd(l,u,l.template,d)}catch(m){throw lR(u,m),m}finally{h.end&&h.end()}}function mx(l){!function(l){for(let u=0;u<l.components.length;u++){const d=l.components[u],h=$f(d),m=h[1];BM(m,h,m.template,d)}}(l[8])}function Eb(l,u,d){Ia(0),u(l,d)}const aR=(()=>Promise.resolve(null))();function _x(l){return l[7]||(l[7]=[])}function yx(l){return l.cleanup||(l.cleanup=[])}function vx(l,u,d){return(null===l||ii(l))&&(d=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[u.index])),d[11]}function lR(l,u){const d=l[9],h=d?d.get(D,null):null;h&&h.handleError(u)}function bx(l,u,d,h,m){for(let y=0;y<d.length;){const E=d[y++],C=d[y++],I=u[E],M=l.data[E];null!==M.setInput?M.setInput(I,m,h,C):I[C]=m}}function Wa(l,u,d){const h=ut(u,l);!function(l,u,d){En(l)?l.setValue(u,d):u.textContent=d}(l[11],h,d)}function Gm(l,u,d){let h=d?l.styles:null,m=d?l.classes:null,y=0;if(null!==u)for(let E=0;E<u.length;E++){const C=u[E];"number"==typeof C?y=C:1==y?m=K(m,C):2==y&&(h=K(h,C+": "+u[++E]+";"))}d?l.styles=h:l.stylesWithoutHost=h,d?l.classes=m:l.classesWithoutHost=m}const Xf=new gn("INJECTOR",-1);class wx{get(u,d=La){if(d===La){const h=new Error(`NullInjectorError: No provider for ${se(u)}!`);throw h.name="NullInjectorError",h}return d}}const ep=new gn("Set Injector scope."),Od={},dR={};let Cb;function Ex(){return void 0===Cb&&(Cb=new wx),Cb}function Cx(l,u=null,d=null,h){return new eB(l,d,u||Ex(),h)}class eB{constructor(u,d,h,m=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];d&&mr(d,C=>this.processProvider(C,u,d)),mr([u],C=>this.processInjectorType(C,[],y)),this.records.set(Xf,kd(void 0,this));const E=this.records.get(ep);this.scope=null!=E?E.value:null,this.source=m||("object"==typeof u?null:se(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,d=La,h=st.Default){this.assertNotDestroyed();const m=Jo(this),y=jn(void 0);try{if(!(h&st.SkipSelf)){let C=this.records.get(u);if(void 0===C){const I=("function"==typeof(l=u)||"object"==typeof l&&l instanceof gn)&&rr(u);C=I&&this.injectableDefInScope(I)?kd(xx(u),Od):null,this.records.set(u,C)}if(null!=C)return this.hydrate(u,C)}return(h&st.Self?Ex():this.parent).get(u,d=h&st.Optional&&d===La?null:d)}catch(E){if("NullInjectorError"===E.name){if((E[Zo]=E[Zo]||[]).unshift(se(u)),m)throw E;return hm(E,u,"R3InjectorError",this.source)}throw E}finally{jn(y),Jo(m)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((h,m)=>u.push(se(m))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,d,h){if(!(u=V(u)))return!1;let m=gi(u);const y=null==m&&u.ngModule||void 0,E=void 0===y?u:y,C=-1!==h.indexOf(E);if(void 0!==y&&(m=gi(y)),null==m)return!1;if(null!=m.imports&&!C){let O;h.push(E);try{mr(m.imports,F=>{this.processInjectorType(F,d,h)&&(void 0===O&&(O=[]),O.push(F))})}finally{}if(void 0!==O)for(let F=0;F<O.length;F++){const{ngModule:B,providers:z}=O[F];mr(z,X=>this.processProvider(X,B,z||W))}}this.injectorDefTypes.add(E);const I=es(E)||(()=>new E);this.records.set(E,kd(I,Od));const M=m.providers;if(null!=M&&!C){const O=u;mr(M,F=>this.processProvider(F,O,M))}return void 0!==y&&void 0!==u.providers}processProvider(u,d,h){let m=Nd(u=V(u))?u:V(u&&u.provide);const y=it(l=u)?kd(void 0,l.useValue):kd(fR(l),Od);var l;if(Nd(u)||!0!==u.multi)this.records.get(m);else{let E=this.records.get(m);E||(E=kd(void 0,Od,!0),E.factory=()=>Ys(E.multi),this.records.set(m,E)),m=u,E.multi.push(u)}this.records.set(m,y)}hydrate(u,d){return d.value===Od&&(d.value=dR,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(l=d.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var l}injectableDefInScope(u){if(!u.providedIn)return!1;const d=V(u.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function xx(l){const u=rr(l),d=null!==u?u.factory:es(l);if(null!==d)return d;if(l instanceof gn)throw new Error(`Token ${se(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const u=l.length;if(u>0){const h=Eo(u,"?");throw new Error(`Can't resolve all parameters for ${se(l)}: (${h.join(", ")}).`)}const d=function(l){const u=l&&(l[ti]||l[Ri]);if(u){const d=function(l){if(l.hasOwnProperty("name"))return l.name;const u=(""+l).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),u}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new Error("unreachable")}function fR(l,u,d){let h;if(Nd(l)){const m=V(l);return es(m)||xx(m)}if(it(l))h=()=>V(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...Ys(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))h=()=>Pn(V(l.useExisting));else{const m=V(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return es(m)||xx(m);h=()=>new m(...Ys(l.deps))}return h}function kd(l,u,d=!1){return{factory:l,value:u,multi:d?[]:void 0}}function it(l){return null!==l&&"object"==typeof l&&Qo in l}function Nd(l){return"function"==typeof l}const Dx=function(l,u,d){return function(l,u=null,d=null,h){const m=Cx(l,u,d,h);return m._resolveInjectorDefTypes(),m}({name:d},u,l,d)};class In{static create(u,d){return Array.isArray(u)?Dx(u,d,""):Dx(u.providers,u.parent,u.name||"")}}function Db(l,u){Wc($f(l)[1],Mn())}function Tb(l){let u=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const h=[l];for(;u;){let m;if(ii(l))m=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");m=u.\u0275dir}if(m){if(d){h.push(m);const E=l;E.inputs=Mb(l.inputs),E.declaredInputs=Mb(l.declaredInputs),E.outputs=Mb(l.outputs);const C=m.hostBindings;C&&MR(l,C);const I=m.viewQuery,M=m.contentQueries;if(I&&IR(l,I),M&&TR(l,M),re(l.inputs,m.inputs),re(l.declaredInputs,m.declaredInputs),re(l.outputs,m.outputs),ii(m)&&m.data.animation){const O=l.data;O.animation=(O.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let E=0;E<y.length;E++){const C=y[E];C&&C.ngInherit&&C(l),C===Tb&&(d=!1)}}u=Object.getPrototypeOf(u)}!function(l){let u=0,d=null;for(let h=l.length-1;h>=0;h--){const m=l[h];m.hostVars=u+=m.hostVars,m.hostAttrs=$n(m.hostAttrs,d=$n(d,m.hostAttrs))}}(h)}function Mb(l){return l===an?{}:l===W?[]:l}function IR(l,u){const d=l.viewQuery;l.viewQuery=d?(h,m)=>{u(h,m),d(h,m)}:u}function TR(l,u){const d=l.contentQueries;l.contentQueries=d?(h,m,y)=>{u(h,m,y),d(h,m,y)}:u}function MR(l,u){const d=l.hostBindings;l.hostBindings=d?(h,m)=>{u(h,m),d(h,m)}:u}In.THROW_IF_NOT_FOUND=La,In.NULL=new wx,In.\u0275prov=St({token:In,providedIn:"any",factory:()=>Pn(Xf)}),In.__NG_ELEMENT_ID__=-1;let qm=null;function Vd(){if(!qm){const l=on.Symbol;if(l&&l.iterator)qm=l.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<u.length;++d){const h=u[d];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(qm=h)}}}return qm}class eo{constructor(u){this.wrapped=u}static wrap(u){return new eo(u)}static unwrap(u){return eo.isWrapped(u)?u.wrapped:u}static isWrapped(u){return u instanceof eo}}function jt(l){return!!Wm(l)&&(Array.isArray(l)||!(l instanceof Map)&&Vd()in l)}function Wm(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function to(l,u,d){return l[u]=d}function wi(l,u,d){return!Object.is(l[u],d)&&(l[u]=d,!0)}function Ym(l,u,d,h){const m=Fe();return wi(m,yo(),u)&&(zt(),sa(ar(),m,l,u,d,h)),Ym}function jx(l,u,d,h,m,y,E,C){const I=Fe(),M=zt(),O=l+20,F=M.firstCreatePass?function(l,u,d,h,m,y,E,C,I){const M=u.consts,O=Td(u,l,4,E||null,zs(M,C));_b(u,d,O,zs(M,I)),Wc(u,O);const F=O.tViews=Um(2,O,h,m,y,u.directiveRegistry,u.pipeRegistry,null,u.schemas,M);return null!==u.queries&&(u.queries.template(u,O),F.queries=u.queries.embeddedTView(O)),O}(O,M,I,u,d,h,m,y,E):M.data[O];vi(F,!1);const B=I[11].createComment("");km(M,I,B,F),Nr(B,I),Jf(I,I[O]=px(B,I,B,F)),Ur(F)&&gb(M,I,F),null!=E&&rx(I,F,C)}function hp(l,u=st.Default){const d=Fe();return null===d?Pn(l,u):Fu(Mn(),d,V(l),u)}function Hb(){throw new Error("invalid")}function qd(l,u,d){const h=Fe();return wi(h,yo(),u)&&As(zt(),ar(),h,l,u,h[11],d,!1),qd}function $b(l,u,d,h,m){const E=m?"class":"style";bx(l,d,u.inputs[E],E,h)}function qb(l,u,d,h){const m=Fe(),y=zt(),E=20+l,C=m[11],I=m[E]=Zv(C,u,Tt.lFrame.currentNamespace),M=y.firstCreatePass?function(l,u,d,h,m,y,E){const C=u.consts,M=Td(u,l,2,m,zs(C,y));return _b(u,d,M,zs(C,E)),null!==M.attrs&&Gm(M,M.attrs,!1),null!==M.mergedAttrs&&Gm(M,M.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,M),M}(E,y,m,0,u,d,h):y.data[E];vi(M,!0);const O=M.mergedAttrs;null!==O&&Zc(C,I,O);const F=M.classes;null!==F&&rb(C,I,F);const B=M.styles;null!==B&&j0(C,I,B),64!=(64&M.flags)&&km(y,m,I,M),0===Tt.lFrame.elementDepthCount&&Nr(I,m),Tt.lFrame.elementDepthCount++,Ur(M)&&(gb(y,m,M),nx(y,M,m)),null!==h&&rx(m,M)}function s_(){let l=Mn();jc()?Hc():(l=l.parent,vi(l,!1));const u=l;Tt.lFrame.elementDepthCount--;const d=zt();d.firstCreatePass&&(Wc(d,l),go(l)&&d.queries.elementEnd(l)),null!=u.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(u)&&$b(d,u,Fe(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(u)&&$b(d,u,Fe(),u.stylesWithoutHost,!1)}function Wb(l,u,d,h){qb(l,u,d,h),s_()}function o_(l,u,d){const h=Fe(),m=zt(),y=l+20,E=m.firstCreatePass?function(l,u,d,h,m){const y=u.consts,E=zs(y,h),C=Td(u,l,8,"ng-container",E);return null!==E&&Gm(C,E,!0),_b(u,d,C,zs(y,m)),null!==u.queries&&u.queries.elementStart(u,C),C}(y,m,h,u,d):m.data[y];vi(E,!0);const C=h[y]=h[11].createComment("");km(m,h,C,E),Nr(C,h),Ur(E)&&(gb(m,h,E),nx(m,E,h)),null!=d&&rx(h,E)}function Yb(){let l=Mn();const u=zt();jc()?Hc():(l=l.parent,vi(l,!1)),u.firstCreatePass&&(Wc(u,l),go(l)&&u.queries.elementEnd(l))}function Za(){return Fe()}function Zb(l){return!!l&&"function"==typeof l.then}function Yl(l){return!!l&&"function"==typeof l.subscribe}const Qb=Yl;function Jb(l,u,d,h){const m=Fe(),y=zt(),E=Mn();return Wd(y,m,m[11],E,l,u,!!d,h),Jb}function Xb(l,u){const d=Mn(),h=Fe(),m=zt();return Wd(m,h,vx(cf(m.data),d,h),d,l,u,!1),Xb}function Wd(l,u,d,h,m,y,E,C){const I=Ur(h),O=l.firstCreatePass&&yx(l),F=u[8],B=_x(u);let z=!0;if(3&h.type||C){const he=ct(h,u),Be=C?C(he):he,ke=B.length,dt=C?At=>C(xe(At[h.index])):h.index;if(En(d)){let At=null;if(!C&&I&&(At=function(l,u,d,h){const m=l.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const E=m[y];if(E===d&&m[y+1]===h){const C=u[7],I=m[y+2];return C.length>I?C[I]:null}"string"==typeof E&&(y+=2)}return null}(l,u,m,h.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=y,At.__ngLastListenerFn__=y,z=!1;else{y=fp(h,u,F,y,!1);const en=d.listen(Be,m,y);B.push(y,en),O&&O.push(m,dt,ke,ke+1)}}else y=fp(h,u,F,y,!0),Be.addEventListener(m,y,E),B.push(y),O&&O.push(m,dt,ke,E)}else y=fp(h,u,F,y,!1);const X=h.outputs;let ve;if(z&&null!==X&&(ve=X[m])){const he=ve.length;if(he)for(let Be=0;Be<he;Be+=2){const Pr=u[ve[Be]][ve[Be+1]].subscribe(y),kn=B.length;B.push(y,Pr),O&&O.push(m,h.index,kn,-(kn+1))}}}function Yd(l,u,d,h){try{return!1!==d(h)}catch(m){return lR(l,m),!1}}function fp(l,u,d,h,m){return function y(E){if(E===Function)return h;const C=2&l.flags?Ar(l.index,u):u;0==(32&u[2])&&vb(C);let I=Yd(u,0,h,E),M=y.__ngNextListenerFn__;for(;M;)I=Yd(u,0,M,E)&&I,M=M.__ngNextListenerFn__;return m&&!1===I&&(E.preventDefault(),E.returnValue=!1),I}}function ew(l=1){return function(l){return(Tt.lFrame.contextLView=function(l,u){for(;l>0;)u=u[15],l--;return u}(l,Tt.lFrame.contextLView))[8]}(l)}function qR(l,u){let d=null;const h=function(l){const u=l.attrs;if(null!=u){const d=u.indexOf(5);if(0==(1&d))return u[d+1]}return null}(l);for(let m=0;m<u.length;m++){const y=u[m];if("*"!==y){if(null===h?sb(l,y,!0):xM(h,y))return m}else d=m}return d}function Xx(l){const u=Fe()[16][6];if(!u.projection){const h=u.projection=Eo(l?l.length:1,null),m=h.slice();let y=u.child;for(;null!==y;){const E=l?qR(y,l):0;null!==E&&(m[E]?m[E].projectionNext=y:h[E]=y,m[E]=y),y=y.next}}}function a_(l,u=0,d){const h=Fe(),m=zt(),y=Td(m,20+l,16,null,d||null);null===y.projection&&(y.projection=u),Hc(),64!=(64&y.flags)&&function(l,u,d){Id(u[11],0,u,d,V0(l,d,u),U0(d.parent||u[6],d,u))}(m,h,y)}function nw(l,u,d,h,m){const y=l[d+1],E=null===u;let C=h?ra(y):za(y),I=!1;for(;0!==C&&(!1===I||E);){const O=l[C+1];u_(l[C],u)&&(I=!0,l[C+1]=h?lb(O):ob(O)),C=h?ra(O):za(O)}I&&(l[d+1]=h?ob(y):lb(y))}function u_(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Rl(l,u)>=0}function rw(l,u,d){return Do(l,u,d,!1),rw}function iw(l,u){return Do(l,u,null,!0),iw}function Do(l,u,d,h){const m=Fe(),y=zt(),E=function(l){const u=Tt.lFrame,d=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,d}(2);y.firstUpdatePass&&function(l,u,d,h){const m=l.data;if(null===m[d+1]){const y=m[oi()],E=function(l,u){return u>=l.expandoStartIndex}(l,d);(function(l,u){return 0!=(l.flags&(u?16:32))})(y,h)&&null===u&&!E&&(u=!1),u=function(l,u,d,h){const m=cf(l);let y=h?u.residualClasses:u.residualStyles;if(null===m)0===(h?u.classBindings:u.styleBindings)&&(d=yp(d=sw(null,l,u,d,h),u.attrs,h),y=null);else{const E=u.directiveStylingLast;if(-1===E||l[E]!==m)if(d=sw(m,l,u,d,h),null===y){let I=function(l,u,d){const h=d?u.classBindings:u.styleBindings;if(0!==za(h))return l[ra(h)]}(l,u,h);void 0!==I&&Array.isArray(I)&&(I=sw(null,l,u,I[1],h),I=yp(I,u.attrs,h),function(l,u,d,h){l[ra(d?u.classBindings:u.styleBindings)]=h}(l,u,h,I))}else y=function(l,u,d){let h;const m=u.directiveEnd;for(let y=1+u.directiveStylingLast;y<m;y++)h=yp(h,l[y].hostAttrs,d);return yp(h,u.attrs,d)}(l,u,h)}return void 0!==y&&(h?u.residualClasses=y:u.residualStyles=y),d}(m,y,u,h),function(l,u,d,h,m,y){let E=y?u.classBindings:u.styleBindings,C=ra(E),I=za(E);l[h]=d;let O,M=!1;if(Array.isArray(d)){const F=d;O=F[1],(null===O||Rl(F,O)>0)&&(M=!0)}else O=d;if(m)if(0!==I){const B=ra(l[C+1]);l[h+1]=Pm(B,C),0!==B&&(l[B+1]=ab(l[B+1],h)),l[C+1]=function(l,u){return 131071&l|u<<17}(l[C+1],h)}else l[h+1]=Pm(C,0),0!==C&&(l[C+1]=ab(l[C+1],h)),C=h;else l[h+1]=Pm(I,0),0===C?C=h:l[I+1]=ab(l[I+1],h),I=h;M&&(l[h+1]=ob(l[h+1])),nw(l,O,h,!0),nw(l,O,h,!1),function(l,u,d,h,m){const y=m?l.residualClasses:l.residualStyles;null!=y&&"string"==typeof u&&Rl(y,u)>=0&&(d[h+1]=lb(d[h+1]))}(u,O,l,h,y),E=Pm(C,I),y?u.classBindings=E:u.styleBindings=E}(m,y,u,d,E,h)}}(y,l,E,h),u!==Ft&&wi(m,E,u)&&function(l,u,d,h,m,y,E,C){if(!(3&u.type))return;const I=l.data,M=I[C+1];vp(function(l){return 1==(1&l)}(M)?ow(I,u,d,m,za(M),E):void 0)||(vp(y)||function(l){return 2==(2&l)}(M)&&(y=ow(I,null,d,m,C,E)),function(l,u,d,h,m){const y=En(l);if(u)m?y?l.addClass(d,h):d.classList.add(h):y?l.removeClass(d,h):d.classList.remove(h);else{let E=-1===h.indexOf("-")?void 0:Qt.DashCase;if(null==m)y?l.removeStyle(d,h,E):d.style.removeProperty(h);else{const C="string"==typeof m&&m.endsWith("!important");C&&(m=m.slice(0,-10),E|=Qt.Important),y?l.setStyle(d,h,m,E):d.style.setProperty(h,m,C?"important":"")}}}(h,E,ut(oi(),d),m,y))}(y,y.data[oi()],m,m[11],l,m[E+1]=function(l,u){return null==l||("string"==typeof u?l+=u:"object"==typeof l&&(l=se(Hr(l)))),l}(u,d),h,E)}function sw(l,u,d,h,m){let y=null;const E=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<E&&(y=u[C],h=yp(h,y.hostAttrs,m),y!==l);)C++;return null!==l&&(d.directiveStylingLast=C),h}function yp(l,u,d){const h=d?1:2;let m=-1;if(null!==u)for(let y=0;y<u.length;y++){const E=u[y];"number"==typeof E?m=E:m===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Sr(l,E,!!d||u[++y]))}return void 0===l?null:l}function ow(l,u,d,h,m,y){const E=null===u;let C;for(;m>0;){const I=l[m],M=Array.isArray(I),O=M?I[1]:I,F=null===O;let B=d[m+1];B===Ft&&(B=F?W:void 0);let z=F?Ml(B,h):O===h?B:void 0;if(M&&!vp(z)&&(z=Ml(I,h)),vp(z)&&(C=z,E))return C;const X=l[m+1];m=E?ra(X):za(X)}if(null!==u){let I=y?u.residualClasses:u.residualStyles;null!=I&&(C=Ml(I,h))}return C}function vp(l){return void 0!==l}function mA(l,u=""){const d=Fe(),h=zt(),m=l+20,y=h.firstCreatePass?Td(h,m,1,u,null):h.data[m],E=d[m]=function(l,u){return En(l)?l.createText(u):l.createTextNode(u)}(d[11],u);km(h,d,E,y),vi(y,!1)}function lw(l){return p_("",l,""),lw}function p_(l,u,d){const h=Fe(),m=function(l,u,d,h){return wi(l,yo(),d)?u+fe(d)+h:Ft}(h,l,u,d);return m!==Ft&&Wa(h,oi(),m),p_}function mw(l,u,d){const h=Fe();return wi(h,yo(),u)&&As(zt(),ar(),h,l,u,h[11],d,!0),mw}function _w(l,u,d){const h=Fe();if(wi(h,yo(),u)){const y=zt(),E=ar();As(y,E,h,l,u,vx(cf(y.data),E,h),d,!0)}return _w}const ic=void 0;var mO=["en",[["a","p"],["AM","PM"],ic],[["AM","PM"],ic,ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ic,"{1} 'at' {0}",ic],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const u=Math.floor(Math.abs(l)),d=l.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Qd={};function b_(l){const u=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=DA(u);if(d)return d;const h=u.split("-")[0];if(d=DA(h),d)return d;if("en"===h)return mO;throw new Error(`Missing locale data for the locale "${l}".`)}function SA(l){return b_(l)[Et.PluralCase]}function DA(l){return l in Qd||(Qd[l]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[l]),Qd[l]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const yw="en-US";let MA=yw;function bw(l){at(l,"Expected localeId to be defined"),"string"==typeof l&&(MA=l.toLowerCase().replace(/_/g,"-"))}function Ip(l,u,d,h,m){if(l=V(l),Array.isArray(l))for(let y=0;y<l.length;y++)Ip(l[y],u,d,h,m);else{const y=zt(),E=Fe();let C=Nd(l)?l:V(l.provide),I=fR(l);const M=Mn(),O=1048575&M.providerIndexes,F=M.directiveStart,B=M.providerIndexes>>20;if(Nd(l)||!l.multi){const z=new Tu(I,m,hp),X=Tp(C,u,m?O:O+B,F);-1===X?(Fa(Nu(M,E),y,C),eh(y,l,u.length),u.push(C),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),d.push(z),E.push(z)):(d[X]=z,E[X]=z)}else{const z=Tp(C,u,O+B,F),X=Tp(C,u,O,O+B),ve=z>=0&&d[z],he=X>=0&&d[X];if(m&&!he||!m&&!ve){Fa(Nu(M,E),y,C);const Be=function(l,u,d,h,m){const y=new Tu(l,d,hp);return y.multi=[],y.index=u,y.componentProviders=0,KA(y,m,h&&!d),y}(m?jO:DB,d.length,m,h,I);!m&&he&&(d[X].providerFactory=Be),eh(y,l,u.length,0),u.push(C),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),d.push(Be),E.push(Be)}else eh(y,l,z>-1?z:X,KA(d[m?X:z],I,!m&&h));!m&&h&&he&&d[X].componentProviders++}}}function eh(l,u,d,h){const m=Nd(u);if(m||function(l){return!!l.useClass}(u)){const E=(u.useClass||u).prototype.ngOnDestroy;if(E){const C=l.destroyHooks||(l.destroyHooks=[]);if(!m&&u.multi){const I=C.indexOf(d);-1===I?C.push(d,[h,E]):C[I+1].push(h,E)}else C.push(d,E)}}}function KA(l,u,d){return d&&l.componentProviders++,l.multi.push(u)-1}function Tp(l,u,d,h){for(let m=d;m<h;m++)if(u[m]===l)return m;return-1}function DB(l,u,d,h){return ZA(this.multi,[])}function jO(l,u,d,h){const m=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=Sl(d,d[1],this.providerFactory.index,h);y=C.slice(0,E),ZA(m,y);for(let I=E;I<C.length;I++)y.push(C[I])}else y=[],ZA(m,y);return y}function ZA(l,u){for(let d=0;d<l.length;d++)u.push((0,l[d])());return u}function HO(l,u=[]){return d=>{d.providersResolver=(h,m)=>function(l,u,d){const h=zt();if(h.firstCreatePass){const m=ii(l);Ip(d,h.data,h.blueprint,m,!0),Ip(u,h.data,h.blueprint,m,!1)}}(h,m?m(l):l,u)}}class $O{}const zO="ngComponent";class qO{resolveComponentFactory(u){throw function(l){const u=Error(`No component factory found for ${se(l)}. Did you add it to @NgModule.entryComponents?`);return u[zO]=l,u}(u)}}class oc{}function Mw(...l){}function th(l,u){return new Ja(ct(l,u))}oc.NULL=new qO;const YO=function(){return th(Mn(),Fe())};let Ja=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=YO,l})();function KO(l){return l instanceof Ja?l.nativeElement:l}class T_{}let RB=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>kB(),l})();const kB=function(){const l=Fe(),d=Ar(Mn().index,l);return function(l){return l[11]}(Ni(d)?d:l)};let XA=(()=>{class l{}return l.\u0275prov=St({token:l,providedIn:"root",factory:()=>null}),l})();class QO{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const eS=new QO("12.2.2");class JO{constructor(){}supports(u){return jt(u)}create(u){return new LB(u)}}const PB=(l,u)=>u;class LB{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||PB}forEachItem(u){let d;for(d=this._itHead;null!==d;d=d._next)u(d)}forEachOperation(u){let d=this._itHead,h=this._removalsHead,m=0,y=null;for(;d||h;){const E=!h||d&&d.currentIndex<ek(h,m,y)?d:h,C=ek(E,m,y),I=E.currentIndex;if(E===h)m--,h=h._nextRemoved;else if(d=d._next,null==E.previousIndex)m++;else{y||(y=[]);const M=C-m,O=I-m;if(M!=O){for(let B=0;B<M;B++){const z=B<y.length?y[B]:y[B]=0,X=z+B;O<=X&&X<M&&(y[B]=z+1)}y[E.previousIndex]=O-M}}C!==I&&u(E,C,I)}}forEachPreviousItem(u){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachMovedItem(u){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}forEachIdentityChange(u){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)u(d)}diff(u){if(null==u&&(u=[]),!jt(u))throw new Error(`Error trying to diff '${se(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let m,y,E,d=this._itHead,h=!1;if(Array.isArray(u)){this.length=u.length;for(let C=0;C<this.length;C++)y=u[C],E=this._trackByFn(C,y),null!==d&&Object.is(d.trackById,E)?(h&&(d=this._verifyReinsertion(d,y,E,C)),Object.is(d.item,y)||this._addIdentityChange(d,y)):(d=this._mismatch(d,y,E,C),h=!0),d=d._next}else m=0,function(l,u){if(Array.isArray(l))for(let d=0;d<l.length;d++)u(l[d]);else{const d=l[Vd()]();let h;for(;!(h=d.next()).done;)u(h.value)}}(u,C=>{E=this._trackByFn(m,C),null!==d&&Object.is(d.trackById,E)?(h&&(d=this._verifyReinsertion(d,C,E,m)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,E,m),h=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,d,h,m){let y;return null===u?y=this._itTail:(y=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._reinsertAfter(u,y,m)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._moveAfter(u,y,m)):u=this._addAfter(new VB(d,h),y,m),u}_verifyReinsertion(u,d,h,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?u=this._reinsertAfter(y,u._prev,m):u.currentIndex!=m&&(u.currentIndex=m,this._addToMoves(u,m)),u}_truncate(u){for(;null!==u;){const d=u._next;this._addToRemovals(this._unlink(u)),u=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const m=u._prevRemoved,y=u._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(u,d,h),this._addToMoves(u,h),u}_moveAfter(u,d,h){return this._unlink(u),this._insertAfter(u,d,h),this._addToMoves(u,h),u}_addAfter(u,d,h){return this._insertAfter(u,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,d,h){const m=null===d?this._itHead:d._next;return u._next=m,u._prev=d,null===m?this._itTail=u:m._prev=u,null===d?this._itHead=u:d._next=u,null===this._linkedRecords&&(this._linkedRecords=new XO),this._linkedRecords.put(u),u.currentIndex=h,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const d=u._prev,h=u._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,u}_addToMoves(u,d){return u.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XO),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,d){return u.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class VB{constructor(u,d){this.item=u,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BB{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,u))return h;return null}remove(u){const d=u._prevDup,h=u._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class XO{constructor(){this.map=new Map}put(u){const d=u.trackById;let h=this.map.get(d);h||(h=new BB,this.map.set(d,h)),h.add(u)}get(u,d){const m=this.map.get(u);return m?m.get(u,d):null}remove(u){const d=u.trackById;return this.map.get(d).remove(u)&&this.map.delete(d),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ek(l,u,d){const h=l.previousIndex;if(null===h)return h;let m=0;return d&&h<d.length&&(m=d[h]),h+u+m}class tk{constructor(){}supports(u){return u instanceof Map||Wm(u)}create(){return new UB}}class UB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let d;for(d=this._mapHead;null!==d;d=d._next)u(d)}forEachPreviousItem(u){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)u(d)}forEachChangedItem(u){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}diff(u){if(u){if(!(u instanceof Map||Wm(u)))throw new Error(`Error trying to diff '${se(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(u,(h,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const y=this._getOrCreateRecordForKey(m,h);d=this._insertBeforeOrAppend(d,y)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,d){if(u){const h=u._prev;return d._next=u,d._prev=h,u._prev=d,h&&(h._next=d),u===this._mapHead&&(this._mapHead=d),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(u,d){if(this._records.has(u)){const m=this._records.get(u);this._maybeAddToChanges(m,d);const y=m._prev,E=m._next;return y&&(y._next=E),E&&(E._prev=y),m._next=null,m._prev=null,m}const h=new GB(u);return this._records.set(u,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,d){Object.is(d,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=d,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,d){u instanceof Map?u.forEach(d):Object.keys(u).forEach(h=>d(u[h],h))}}class GB{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nk(){return new Rw([new JO])}let Rw=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(null!=h){const m=h.factories.slice();d=d.concat(m)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||nk()),deps:[[l,new Ga,new rs]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(l){return l.name||typeof l}(d)}'`)}}return l.\u0275prov=St({token:l,providedIn:"root",factory:nk}),l})();function rk(){return new Ow([new tk])}let Ow=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(h){const m=h.factories.slice();d=d.concat(m)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||rk()),deps:[[l,new Ga,new rs]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(h)return h;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return l.\u0275prov=St({token:l,providedIn:"root",factory:rk}),l})();function kw(l,u,d,h,m=!1){for(;null!==d;){const y=u[d.index];if(null!==y&&h.push(xe(y)),yi(y))for(let C=10;C<y.length;C++){const I=y[C],M=I[1].firstChild;null!==M&&kw(I[1],I,M,h)}const E=d.type;if(8&E)kw(l,u,d.child,h);else if(32&E){const C=Wv(d,u);let I;for(;I=C();)h.push(I)}else if(16&E){const C=fM(u,d);if(Array.isArray(C))h.push(...C);else{const I=Es(u[16]);kw(I[1],I,C,h,!0)}}d=m?d.projectionNext:d.next}return h}class M_{constructor(u,d){this._lView=u,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,d=u[1];return kw(d,u,d.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(yi(u)){const d=u[8],h=d?d.indexOf(this):-1;h>-1&&(Qv(u,h),Il(d,h))}this._attachedToViewContainer=!1}uM(this._lView[1],this._lView)}onDestroy(u){ax(this._lView[1],this._lView,null,u)}markForCheck(){vb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,u,d){$c(!0);try{wb(l,u,d)}finally{$c(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,Zf(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class HB extends M_{constructor(u){super(u),this._view=u}detectChanges(){mx(this._view)}checkNoChanges(){!function(l){$c(!0);try{mx(l)}finally{$c(!1)}}(this._view)}get context(){return null}}const zB=function(l){return function(l,u,d){if(Fi(l)&&!d){const h=Ar(l.index,u);return new M_(h,h)}return 47&l.type?new M_(u[16],u):null}(Mn(),Fe(),16==(16&l))};let qB=(()=>{class l{}return l.__NG_ELEMENT_ID__=zB,l})();const KB=[new tk],QB=new Rw([new JO]),JB=new Ow(KB),eU=function(){return Nw(Mn(),Fe())};let R_=(()=>{class l{}return l.__NG_ELEMENT_ID__=eU,l})();const tU=R_,nU=class extends tU{constructor(u,d,h){super(),this._declarationLView=u,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(u){const d=this._declarationTContainer.tViews,h=Bm(this._declarationLView,d,u,16,null,d.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Md(d,h,u),new M_(h)}};function Nw(l,u){return 4&l.type?new nU(u,l,th(l,u)):null}class nh{}class ik{}const sU=function(){return lk(Mn(),Fe())};let Fw=(()=>{class l{}return l.__NG_ELEMENT_ID__=sU,l})();const oU=Fw,ok=class extends oU{constructor(u,d,h){super(),this._lContainer=u,this._hostTNode=d,this._hostLView=h}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){const u=Dn(this._hostTNode,this._hostLView);if(Al(u)){const d=Ru(u,this._hostLView),h=Na(u);return new vo(d[1].data[h+8],d)}return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const d=ak(this._lContainer);return null!==d&&d[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,d,h){const m=u.createEmbeddedView(d||{});return this.insert(m,h),m}createComponent(u,d,h,m,y){const E=h||this.parentInjector;if(!y&&null==u.ngModule&&E){const I=E.get(nh,null);I&&(y=I)}const C=u.create(E,m,void 0,y);return this.insert(C.hostView,d),C}insert(u,d){const h=u._lView,m=h[1];if(yi(h[3])){const O=this.indexOf(u);if(-1!==O)this.detach(O);else{const F=h[3],B=new ok(F,F[6],F[3]);B.detach(B.indexOf(u))}}const y=this._adjustIndex(d),E=this._lContainer;!function(l,u,d,h){const m=10+h,y=d.length;h>0&&(d[m-1][4]=u),h<y-10?(u[4]=d[m],Uu(d,10+h,u)):(d.push(u),u[4]=null),u[3]=d;const E=u[17];null!==E&&d!==E&&function(l,u){const d=l[9];u[16]!==u[3][3][16]&&(l[2]=!0),null===d?l[9]=[u]:d.push(u)}(E,u);const C=u[19];null!==C&&C.insertView(l),u[2]|=128}(m,h,E,y);const C=$l(y,E),I=h[11],M=Rm(I,E[7]);return null!==M&&function(l,u,d,h,m,y){h[0]=m,h[6]=u,Zf(l,h,d,1,m,y)}(m,E[6],I,h,M,C),u.attachToViewContainerRef(),Uu(tS(E),y,u),u}move(u,d){return this.insert(u,d)}indexOf(u){const d=ak(this._lContainer);return null!==d?d.indexOf(u):-1}remove(u){const d=this._adjustIndex(u,-1),h=Qv(this._lContainer,d);h&&(Il(tS(this._lContainer),d),uM(h[1],h))}detach(u){const d=this._adjustIndex(u,-1),h=Qv(this._lContainer,d);return h&&null!=Il(tS(this._lContainer),d)?new M_(h):null}_adjustIndex(u,d=0){return null==u?this.length+d:u}};function ak(l){return l[8]}function tS(l){return l[8]||(l[8]=[])}function lk(l,u){let d;const h=u[l.index];if(yi(h))d=h;else{let m;if(8&l.type)m=xe(h);else{const y=u[11];m=y.createComment("");const E=ct(l,u);Hl(y,Rm(y,E),m,function(l,u){return En(l)?l.nextSibling(u):u.nextSibling}(y,E),!1)}u[l.index]=d=px(h,u,m,l),Jf(u,d)}return new ok(d,l,u)}const Fp={};class bS extends oc{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const d=Un(u);return new ES(d,this.ngModule)}}function wS(l){const u=[];for(let d in l)l.hasOwnProperty(d)&&u.push({propName:l[d],templateName:d});return u}const zk=new gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wf});class ES extends $O{constructor(u,d){super(),this.componentDef=u,this.ngModule=d,this.componentType=u.type,this.selector=u.selectors.map(AM).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return wS(this.componentDef.inputs)}get outputs(){return wS(this.componentDef.outputs)}create(u,d,h,m){const y=(m=m||this.ngModule)?function(l,u){return{get:(d,h,m)=>{const y=l.get(d,Fp,m);return y!==Fp||h===Fp?y:u.get(d,h,m)}}}(u,m.injector):u,E=y.get(T_,Y),C=y.get(XA,null),I=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=h?function(l,u,d){if(En(l))return l.selectRootElement(u,d===je.ShadowDom);let h="string"==typeof u?l.querySelector(u):u;return h.textContent="",h}(I,h,this.componentDef.encapsulation):Zv(E.createRenderer(null,this.componentDef),M,function(l){const u=l.toLowerCase();return"svg"===u?gl:"math"===u?"http://www.w3.org/1998/MathML/":null}(M)),F=this.componentDef.onPush?576:528,B=function(l,u){return{components:[],scheduler:l||Wf,clean:aR,playerHandler:u||null,flags:0}}(),z=Um(0,null,null,1,0,null,null,null,null,null),X=Bm(null,z,B,F,null,null,E,I,C,y);let ve,he;Su(X);try{const Be=function(l,u,d,h,m,y){const E=d[1];d[20]=l;const I=Td(E,20,2,"#host",null),M=I.mergedAttrs=u.hostAttrs;null!==M&&(Gm(I,M,!0),null!==l&&(Zc(m,l,M),null!==I.classes&&rb(m,l,I.classes),null!==I.styles&&j0(m,l,I.styles)));const O=h.createRenderer(l,u),F=Bm(d,ix(u),null,u.onPush?64:16,d[20],I,h,O,y||null,null);return E.firstCreatePass&&(Fa(Nu(I,d),E,u.type),KM(E,I),hx(I,d.length,1)),Jf(d,F),d[20]=F}(O,this.componentDef,X,E,I);if(O)if(h)Zc(I,O,["ng-version",eS.full]);else{const{attrs:ke,classes:dt}=function(l){const u=[],d=[];let h=1,m=2;for(;h<l.length;){let y=l[h];if("string"==typeof y)2===m?""!==y&&u.push(y,l[++h]):8===m&&d.push(y);else{if(!na(m))break;m=y}h++}return{attrs:u,classes:d}}(this.componentDef.selectors[0]);ke&&Zc(I,O,ke),dt&&dt.length>0&&rb(I,O,dt.join(" "))}if(he=xr(z,20),void 0!==d){const ke=he.projection=[];for(let dt=0;dt<this.ngContentSelectors.length;dt++){const At=d[dt];ke.push(null!=At?Array.from(At):null)}}ve=function(l,u,d,h,m){const y=d[1],E=function(l,u,d){const h=Mn();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),fx(l,h,u,Qu(l,u,1,null),d));const m=Sl(u,l,h.directiveStart,h);Nr(m,u);const y=ct(h,u);return y&&Nr(y,u),m}(y,d,u);if(h.components.push(E),l[8]=E,m&&m.forEach(I=>I(E,u)),u.contentQueries){const I=Mn();u.contentQueries(1,E,I.directiveStart)}const C=Mn();return!y.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(El(C.index),cx(d[1],C,0,C.directiveStart,C.directiveEnd,u),dx(u,E)),E}(Be,this.componentDef,X,B,[Db]),Md(z,X,null)}finally{Du()}return new CS(this.componentType,ve,th(he,X),X,he)}}class CS extends class{}{constructor(u,d,h,m,y){super(),this.location=h,this._rootLView=m,this._tNode=y,this.instance=d,this.hostView=this.changeDetectorRef=new HB(m),this.componentType=u}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const ah=new Map;class DU extends nh{constructor(u,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bS(this);const h=Oi(u),m=u[Ge]||null;m&&bw(m),this._bootstrapComponents=dn(h.bootstrap),this._r3Injector=Cx(u,d,[{provide:nh,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],se(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,d=In.THROW_IF_NOT_FOUND,h=st.Default){return u===In||u===nh||u===Xf?this:this._r3Injector.get(u,d,h)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Ww extends ik{constructor(u){super(),this.moduleType=u,null!==Oi(u)&&function(l){const u=new Set;!function d(h){const m=Oi(h,!0),y=m.id;null!==y&&(function(l,u,d){if(u&&u!==d)throw new Error(`Duplicate module registered for ${l} - ${se(u)} vs ${se(u.name)}`)}(y,ah.get(y),h),ah.set(y,h));const E=dn(m.imports);for(const C of E)u.has(C)||(u.add(C),d(C))}(l)}(u)}create(u){return new DU(this.moduleType,u)}}function SS(l,u,d){const h=or()+l,m=Fe();return m[h]===Ft?to(m,h,d?u.call(d):u()):function(l,u){return l[u]}(m,h)}function Yw(l,u,d,h,m,y,E){const C=u+d;return function(l,u,d,h){const m=wi(l,u,d);return wi(l,u+1,h)||m}(l,C,m,y)?to(l,C+2,E?h.call(E,m,y):h(m,y)):function(l,u){const d=l[u];return d===Ft?void 0:d}(l,C+2)}function RS(l,u){const d=zt();let h;const m=l+20;d.firstCreatePass?(h=function(l,u){if(u)for(let d=u.length-1;d>=0;d--){const h=u[d];if(l===h.name)return h}throw new Ae("302",`The pipe '${l}' could not be found!`)}(u,d.pipeRegistry),d.data[m]=h,h.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,h.onDestroy)):h=d.data[m];const y=h.factory||(h.factory=es(h.type)),E=jn(hp);try{const C=Ou(!1),I=y();return Ou(C),function(l,u,d,h){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),u[d]=h}(d,Fe(),m,I),I}finally{jn(E)}}function Pp(l,u,d,h){const m=l+20,y=Fe(),E=function(l,u){return l[u]}(y,m);return function(l,u){eo.isWrapped(u)&&(u=eo.unwrap(u),l[Tt.lFrame.bindingIndex]=Ft);return u}(y,function(l,u){return l[1].data[u].pure}(y,m)?Yw(y,or(),u,E.transform,d,h,E):E.transform(d,h))}function FS(l){return u=>{setTimeout(l,void 0,u)}}const Ro=class extends f.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,d,h){var m,y,E;let C=u,I=d||(()=>null),M=h;if(u&&"object"==typeof u){const F=u;C=null===(m=F.next)||void 0===m?void 0:m.bind(F),I=null===(y=F.error)||void 0===y?void 0:y.bind(F),M=null===(E=F.complete)||void 0===E?void 0:E.bind(F)}this.__isAsync&&(I=FS(I),C&&(C=FS(C)),M&&(M=FS(M)));const O=super.subscribe({next:C,error:I,complete:M});return u instanceof pe.w&&u.add(O),O}};function PS(){return this._results[Vd()]()}class G_{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Vd(),h=G_.prototype;h[d]||(h[d]=PS)}get changes(){return this._changes||(this._changes=new Ro)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,d){return this._results.reduce(u,d)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,d){const h=this;h.dirty=!1;const m=vn(u);(this._changesDetected=!function(l,u,d){if(l.length!==u.length)return!1;for(let h=0;h<l.length;h++){let m=l[h],y=u[h];if(d&&(m=d(m),y=d(y)),y!==m)return!1}return!0}(h._results,m,d))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class BS{constructor(u){this.queryList=u,this.matches=null}clone(){return new BS(this.queryList)}setDirty(){this.queryList.setDirty()}}class j_{constructor(u=[]){this.queries=u}createEmbeddedView(u){const d=u.queries;if(null!==d){const h=null!==u.contentQueries?u.contentQueries[0]:d.length,m=[];for(let y=0;y<h;y++){const E=d.getByIndex(y);m.push(this.queries[E.indexInDeclarationView].clone())}return new j_(m)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let d=0;d<this.queries.length;d++)null!==z_(u,d).matches&&this.queries[d].setDirty()}}class el{constructor(u,d,h=null){this.predicate=u,this.flags=d,this.read=h}}class Lp{constructor(u=[]){this.queries=u}elementStart(u,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(u,d)}elementEnd(u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(u)}embeddedTView(u){let d=null;for(let h=0;h<this.length;h++){const m=null!==d?d.length:0,y=this.getByIndex(h).embeddedTView(u,m);y&&(y.indexInDeclarationView=h,null!==d?d.push(y):d=[y])}return null!==d?new Lp(d):null}template(u,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(u,d)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class US{constructor(u,d=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(u,d){this.isApplyingToNode(d)&&this.matchTNode(u,d)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,d){this.elementStart(u,d)}embeddedTView(u,d){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,d),new US(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=u.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(u,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const y=h[m];this.matchTNodeWithReadOption(u,d,Qw(d,y)),this.matchTNodeWithReadOption(u,d,Xc(d,u,y,!1,!1))}else h===R_?4&d.type&&this.matchTNodeWithReadOption(u,d,-1):this.matchTNodeWithReadOption(u,d,Xc(d,u,h,!1,!1))}matchTNodeWithReadOption(u,d,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===Ja||m===Fw||m===R_&&4&d.type)this.addMatch(d.index,-2);else{const y=Xc(d,u,m,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,h)}}addMatch(u,d){null===this.matches?this.matches=[u,d]:this.matches.push(u,d)}}function Qw(l,u){const d=l.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===u)return d[h+1];return null}function NU(l,u,d,h){return-1===d?function(l,u){return 11&l.type?th(l,u):4&l.type?Nw(l,u):null}(u,l):-2===d?function(l,u,d){return d===Ja?th(u,l):d===R_?Nw(u,l):d===Fw?lk(u,l):void 0}(l,u,h):Sl(l,l[1],d,u)}function eN(l,u,d,h){const m=u[19].queries[h];if(null===m.matches){const y=l.data,E=d.matches,C=[];for(let I=0;I<E.length;I+=2){const M=E[I];C.push(M<0?null:NU(u,y[M],E[I+1],d.metadata.read))}m.matches=C}return m.matches}function GS(l,u,d,h){const m=l.queries.getByIndex(d),y=m.matches;if(null!==y){const E=eN(l,u,m,d);for(let C=0;C<y.length;C+=2){const I=y[C];if(I>0)h.push(E[C/2]);else{const M=y[C+1],O=u[-I];for(let F=10;F<O.length;F++){const B=O[F];B[17]===B[3]&&GS(B[1],B,M,h)}if(null!==O[9]){const F=O[9];for(let B=0;B<F.length;B++){const z=F[B];GS(z[1],z,M,h)}}}}}return h}function Jw(l){const u=Fe(),d=zt(),h=df();Ia(h+1);const m=z_(d,h);if(l.dirty&&qo(u)===(2==(2&m.metadata.flags))){if(null===m.matches)l.reset([]);else{const y=m.crossesNgTemplate?GS(d,u,h,[]):eN(d,u,m,h);l.reset(y,KO),l.notifyOnChanges()}return!0}return!1}function dc(l,u,d){const h=zt();h.firstCreatePass&&(tl(h,new el(l,u,d),-1),2==(2&u)&&(h.staticViewQueries=!0)),$_(h,Fe(),u)}function Xw(l,u,d,h){const m=zt();if(m.firstCreatePass){const y=Mn();tl(m,new el(u,d,h),y.index),function(l,u){const d=l.contentQueries||(l.contentQueries=[]);u!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,u)}(m,l),2==(2&d)&&(m.staticContentQueries=!0)}$_(m,Fe(),d)}function H_(){return l=Fe(),u=df(),l[19].queries[u].queryList;var l,u}function $_(l,u,d){const h=new G_(4==(4&d));ax(l,u,h,h.destroy),null===u[19]&&(u[19]=new j_),u[19].queries.push(new BS(h))}function tl(l,u,d){null===l.queries&&(l.queries=new Lp),l.queries.track(new US(u,d))}function z_(l,u){return l.queries.getByIndex(u)}const mE=new gn("Application Initializer");let ph=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Mw,this.reject=Mw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(Zb(y))d.push(y);else if(Qb(y)){const E=new Promise((C,I)=>{y.subscribe({complete:C,error:I})});d.push(E)}}Promise.all(d).then(()=>{h()}).catch(m=>{this.reject(m)}),0===d.length&&h(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(Pn(mE,8))},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})();const oD=new gn("AppId"),hN={provide:oD,useFactory:function(){return`${gh()}${gh()}${gh()}`},deps:[]};function gh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ey=new gn("Platform Initializer"),$p=new gn("Platform ID"),aD=new gn("appBootstrapListener");let lD=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})();const yE=new gn("LocaleId"),ty=new gn("DefaultCurrencyCode");class vE{constructor(u,d){this.ngModuleFactory=u,this.componentFactories=d}}const bE=function(l){return new Ww(l)},mN=bE,uD=function(l){return Promise.resolve(bE(l))},cD=function(l){const u=bE(l),h=dn(Oi(l).declarations).reduce((m,y)=>{const E=Un(y);return E&&m.push(new ES(E)),m},[]);return new vE(u,h)},dD=cD,hD=function(l){return Promise.resolve(cD(l))};let qp=(()=>{class l{constructor(){this.compileModuleSync=mN,this.compileModuleAsync=uD,this.compileModuleAndAllComponentsSync=dD,this.compileModuleAndAllComponentsAsync=hD}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})();const fD=(()=>Promise.resolve(0))();function wE(l){"undefined"==typeof Zone?fD.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class ji{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ro(!1),this.onMicrotaskEmpty=new Ro(!1),this.onStable=new Ro(!1),this.onError=new Ro(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&d,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let l=on.requestAnimationFrame,u=on.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&u){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const h=u[Zone.__symbol__("OriginalDelegate")];h&&(u=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(l){const u=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(on,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Kp(l),l.isCheckStableRunning=!0,Yp(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Kp(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,m,y,E,C)=>{try{return pD(l),d.invokeTask(m,y,E,C)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||l.shouldCoalesceRunChangeDetection)&&u(),gD(l)}},onInvoke:(d,h,m,y,E,C,I)=>{try{return pD(l),d.invoke(m,y,E,C,I)}finally{l.shouldCoalesceRunChangeDetection&&u(),gD(l)}},onHasTask:(d,h,m,y)=>{d.hasTask(m,y),h===m&&("microTask"==y.change?(l._hasPendingMicrotasks=y.microTask,Kp(l),Yp(l)):"macroTask"==y.change&&(l.hasPendingMacrotasks=y.macroTask))},onHandleError:(d,h,m,y)=>(d.handleError(m,y),l.runOutsideAngular(()=>l.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ji.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ji.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,d,h){return this._inner.run(u,d,h)}runTask(u,d,h,m){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+m,u,Wp,Mw,Mw);try{return y.runTask(E,d,h)}finally{y.cancelTask(E)}}runGuarded(u,d,h){return this._inner.runGuarded(u,d,h)}runOutsideAngular(u){return this._outer.run(u)}}const Wp={};function Yp(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Kp(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function pD(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function gD(l){l._nesting--,Yp(l)}class ny{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ro,this.onMicrotaskEmpty=new Ro,this.onStable=new Ro,this.onError=new Ro}run(u,d,h){return u.apply(d,h)}runGuarded(u,d,h){return u.apply(d,h)}runOutsideAngular(u){return u()}runTask(u,d,h,m){return u.apply(d,h)}}let mD=(()=>{class l{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ji.assertNotInAngularZone(),wE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wE(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,m){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:m})}whenStable(d,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,h,m){return[]}}return l.\u0275fac=function(d){return new(d||l)(Pn(ji))},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})(),EE=(()=>{class l{constructor(){this._applications=new Map,mh.addToWindow(this)}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return mh.findTestabilityInTree(this,d,h)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})();class _D{addToWindow(u){}findTestabilityInTree(u,d,h){return null}}function yD(l){mh=l}let mh=new _D,EN=!0,Ms=!1;function ru(){return Ms=!0,EN}function CN(){if(Ms)throw new Error("Cannot enable prod mode after platform setup.");EN=!1}let ko;const AE=new gn("AllowMultipleToken");class ED{constructor(u,d){this.name=u,this.token=d}}function CD(l,u,d=[]){const h=`Platform: ${u}`,m=new gn(h);return(y=[])=>{let E=AD();if(!E||E.injector.get(AE,!1))if(l)l(d.concat(y).concat({provide:m,useValue:!0}));else{const C=d.concat(y).concat({provide:m,useValue:!0},{provide:ep,useValue:"platform"});!function(l){if(ko&&!ko.destroyed&&!ko.injector.get(AE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ko=l.get(SE);const u=l.get(ey,null);u&&u.forEach(d=>d())}(In.create({providers:C,name:h}))}return function(l){const u=AD();if(!u)throw new Error("No platform exists!");if(!u.injector.get(l,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(m)}}function AD(){return ko&&!ko.destroyed?ko:null}let SE=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const C=function(l,u){let d;return d="noop"===l?new ny:("zone.js"===l?void 0:l)||new ji({enableLongStackTrace:ru(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),d}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),I=[{provide:ji,useValue:C}];return C.run(()=>{const M=In.create({providers:I,parent:this.injector,name:d.moduleType.name}),O=d.create(M),F=O.injector.get(D,null);if(!F)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const B=C.onError.subscribe({next:z=>{F.handleError(z)}});O.onDestroy(()=>{IE(this._modules,O),B.unsubscribe()})}),function(l,u,d){try{const h=d();return Zb(h)?h.catch(m=>{throw u.runOutsideAngular(()=>l.handleError(m)),m}):h}catch(h){throw u.runOutsideAngular(()=>l.handleError(h)),h}}(F,C,()=>{const B=O.injector.get(ph);return B.runInitializers(),B.donePromise.then(()=>(bw(O.injector.get(yE,yw)||yw),this._moduleDoBootstrap(O),O))})})}bootstrapModule(d,h=[]){const m=Zp({},h);return function(l,u,d){const h=new Ww(d);return Promise.resolve(h)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(d){const h=d.injector.get(gc);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${se(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(Pn(In))},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})();function Zp(l,u){return Array.isArray(u)?u.reduce(Zp,l):Object.assign(Object.assign({},l),u)}let gc=(()=>{class l{constructor(d,h,m,y,E){this._zone=d,this._injector=h,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new $.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),I=new $.y(M=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{ji.assertNotInAngularZone(),wE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{O.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ae.T)(C,I.pipe((0,_e.B)()))}bootstrap(d,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=d instanceof $O?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(m.componentType);const y=function(l){return l.isBoundToModule}(m)?void 0:this._injector.get(nh),C=m.create(In.NULL,[],h||m.selector,y),I=C.location.nativeElement,M=C.injector.get(mD,null),O=M&&C.injector.get(EE);return M&&O&&O.registerApplication(I,M),C.onDestroy(()=>{this.detachView(C.hostView),IE(this.components,C),O&&O.unregisterApplication(I)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;IE(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(aD,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(d){return new(d||l)(Pn(ji),Pn(In),Pn(D),Pn(oc),Pn(ph))},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})();function IE(l,u){const d=l.indexOf(u);d>-1&&l.splice(d,1)}class ID{}class TN{}const MD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let a2=(()=>{class l{constructor(d,h){this._compiler=d,this._config=h||MD}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[h,m]=d.split("#");return void 0===m&&(m="default"),U(8255)(h).then(y=>y[m]).then(y=>ME(y,h,m)).then(y=>this._compiler.compileModuleAsync(y))}loadFactory(d){let[h,m]=d.split("#"),y="NgFactory";return void 0===m&&(m="default",y=""),U(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(E=>E[m+y]).then(E=>ME(E,h,m))}}return l.\u0275fac=function(d){return new(d||l)(Pn(qp),Pn(TN,8))},l.\u0275prov=St({token:l,factory:l.\u0275fac}),l})();function ME(l,u,d){if(!l)throw new Error(`Cannot find '${d}' in '${u}'`);return l}const kN=function(l){return null},LD=CD(null,"core",[{provide:$p,useValue:"unknown"},{provide:SE,deps:[In]},{provide:EE,deps:[]},{provide:lD,deps:[]}]),LN=[{provide:gc,useClass:gc,deps:[ji,In,D,oc,ph]},{provide:zk,deps:[ji],useFactory:function(l){let u=[];return l.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(d){u.push(d)}}},{provide:ph,useClass:ph,deps:[[new rs,mE]]},{provide:qp,useClass:qp,deps:[]},hN,{provide:Rw,useFactory:function(){return QB},deps:[]},{provide:Ow,useFactory:function(){return JB},deps:[]},{provide:yE,useFactory:function(l){return bw(l=l||"undefined"!=typeof $localize&&$localize.locale||yw),l},deps:[[new Zs(yE),new rs,new Ga]]},{provide:ty,useValue:"USD"}];let VN=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(Pn(gc))},l.\u0275mod=Bs({type:l}),l.\u0275inj=pn({providers:LN}),l})()},8939:(tt,Oe,U)=>{"use strict";U.d(Oe,{hO:()=>J,xv:()=>K,Dh:()=>se,Ot:()=>re,GT:()=>ee,on:()=>j,pX:()=>_e});var f=U(7716),pe=U(7841),$=U(9126);tt=U.hmd(tt);const ae=["ngOnDestroy"],_e=(te,Ae,be,ge={})=>new Proxy(te,{get:(fe,Se)=>be.runOutsideAngular(()=>{var qe;if(te[Se])return(null===(qe=null==ge?void 0:ge.spy)||void 0===qe?void 0:qe.get)&&ge.spy.get(Se,te[Se]),te[Se];if(ae.indexOf(Se)>-1)return()=>{};const Ue=Ae.toPromise().then(Xe=>{const Dt=Xe&&Xe[Se];return"function"==typeof Dt?Dt.bind(Xe):Dt&&Dt.then?Dt.then(De=>be.run(()=>De)):be.run(()=>Dt)});return new Proxy(()=>{},{get:(Xe,Dt)=>Ue[Dt],apply:(Xe,Dt,De)=>Ue.then(Yt=>{var Ct;const Ee=Yt&&Yt(...De);return(null===(Ct=null==ge?void 0:ge.spy)||void 0===Ct?void 0:Ct.apply)&&ge.spy.apply(Se,De,Ee),Ee})})})}),ee=(te,Ae)=>{Ae.forEach(be=>{Object.getOwnPropertyNames(be.prototype||be).forEach(ge=>{Object.defineProperty(te.prototype,ge,Object.getOwnPropertyDescriptor(be.prototype||be,ge))})})};class re{constructor(Ae){return Ae}}const se=new f.OlP("angularfire2.app.options"),K=new f.OlP("angularfire2.app.name");function j(te,Ae,be){const fe="object"==typeof be&&be||{};fe.name=fe.name||"string"==typeof be&&be||"[DEFAULT]";const qe=pe.Z.apps.filter(Ue=>Ue&&Ue.name===fe.name)[0]||Ae.runOutsideAngular(()=>pe.Z.initializeApp(te,fe));try{JSON.stringify(te)!==JSON.stringify(qe.options)&&Q("error",`${qe.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new re(qe)}const Q=(te,...Ae)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[te](...Ae)},V={provide:re,useFactory:j,deps:[se,f.R0b,[new f.FiY,K]]};let J=(()=>{class te{constructor(be){pe.Z.registerVersion("angularfire",$.q4.full,"core"),pe.Z.registerVersion("angularfire",$.q4.full,"app-compat"),pe.Z.registerVersion("angular",f.q4F.full,be.toString())}static initializeApp(be,ge){return{ngModule:te,providers:[{provide:se,useValue:be},{provide:K,useValue:ge}]}}}return te.\u0275fac=function(be){return new(be||te)(f.LFG(f.Lbi))},te.\u0275mod=f.oAB({type:te}),te.\u0275inj=f.cJS({providers:[V]}),te})()},9126:(tt,Oe,U)=>{"use strict";U.d(Oe,{q4:()=>j,iC:()=>Ee,f6:()=>Ct,HU:()=>Ue,cc:()=>J});var f=U(7716);(0,U(5452).registerVersion)("firebase","9.0.1","app");var _e=U(7771),ee=U(3637),re=U(3342),se=U(6136),K=U(9673);tt=U.hmd(tt);const j=new f.GfV("7.0.3"),Q=!!tt.hot,V=(Ce,...ue)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ue)};function J(Ce,ue,$e,ot,Gt){const[,lt,at]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===Ce)||[];if(lt)return function(Ce,ue){try{return Ce.toString()===ue.toString()}catch($e){return Ce===ue}}(Gt,at)||(V("error",`${ue} was already initialized on the ${$e} Firebase App with different settings.${Q?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:Gt,was:at})),lt;{const ft=ot();return globalThis.\u0275AngularfireInstanceCache.push([Ce,ft,Gt]),ft}}function fe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Se{constructor(ue,$e=_e.N){this.zone=ue,this.delegate=$e}now(){return this.delegate.now()}schedule(ue,$e,ot){const Gt=this.zone;return this.delegate.schedule(function(at){Gt.runGuarded(()=>{ue.apply(this,[at])})},$e,ot)}}class qe{constructor(ue){this.zone=ue,this.task=null}call(ue,$e){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fe,{},fe,fe)),$e.pipe((0,re.b)({next:ot,complete:ot,error:ot})).subscribe(ue).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ue=(()=>{class Ce{constructor($e){this.ngZone=$e,this.outsideAngular=$e.runOutsideAngular(()=>new Se(Zone.current)),this.insideAngular=$e.run(()=>new Se(Zone.current,ee.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ce.\u0275fac=function($e){return new($e||Ce)(f.LFG(f.R0b))},Ce.\u0275prov=f.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function Xe(){const Ce=globalThis.\u0275AngularFireScheduler;if(!Ce)throw new Error("AngularFireModule has not been provided");return Ce}function Ct(Ce){return Ce.pipe((0,se.QV)(Xe().insideAngular))}function Ee(Ce){return Xe(),function(Ce){return function($e){return($e=$e.lift(new qe(Ce.ngZone))).pipe((0,K.R)(Ce.outsideAngular),(0,se.QV)(Ce.insideAngular))}}(Xe())(Ce)}},9534:(tt,Oe,U)=>{"use strict";U.d(Oe,{Gb:()=>Uc,Kz:()=>_l,EI:()=>ml,lT:()=>Gr,Iv:()=>gl,xP:()=>xu,Xd:()=>Hs});var f=U(8239),pe=U(5452),$=U(300),ae=U(4685),_e=U(6034),ee=U(6676);const j="w:0.5.0",Q="FIS_v2",ge=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fe(G){return G instanceof ae.ZR&&G.code.includes("request-failed")}function Se({projectId:G}){return`https://firebaseinstallations.googleapis.com/v1/projects/${G}/installations`}function qe(G){return{token:G.token,requestStatus:2,expiresIn:Ee(G.expiresIn),creationTime:Date.now()}}function Ue(G,Y){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,f.Z)(function*(G,Y){const xe=(yield Y.json()).error;return ge.create("request-failed",{requestName:G,serverCode:xe.code,serverMessage:xe.message,serverStatus:xe.status})})).apply(this,arguments)}function Dt({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function De(G,{refreshToken:Y}){const le=Dt(G);return le.append("Authorization",function(G){return`${Q} ${G}`}(Y)),le}function Yt(G){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(G){const Y=yield G();return Y.status>=500&&Y.status<600?G():Y})).apply(this,arguments)}function Ee(G){return Number(G.replace("s","000"))}function Re(G,Y){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,f.Z)(function*(G,{fid:Y}){const le=Se(G),Qe={method:"POST",headers:Dt(G),body:JSON.stringify({fid:Y,authVersion:Q,appId:G.appId,sdkVersion:j})},ut=yield Yt(()=>fetch(le,Qe));if(ut.ok){const ct=yield ut.json();return{fid:ct.fid||Y,registrationStatus:2,refreshToken:ct.refreshToken,authToken:qe(ct.authToken)}}throw yield Ue("Create Installation",ut)})).apply(this,arguments)}function Ce(G){return new Promise(Y=>{setTimeout(Y,G)})}const $e=/^[cdef][\w-]{21}$/;function Gt(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const le=function(G){return function(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return $e.test(le)?le:""}catch(G){return""}}function at(G){return`${G.appName}!${G.appId}`}const ft=new Map;function Vn(G,Y){const le=at(G);St(le,Y),function(G,Y){const le=(!pn&&"BroadcastChannel"in self&&(pn=new BroadcastChannel("[Firebase] FID Change"),pn.onmessage=G=>{St(G.data.key,G.data.fid)}),pn);le&&le.postMessage({key:G,fid:Y}),0===ft.size&&pn&&(pn.close(),pn=null)}(le,Y)}function St(G,Y){const le=ft.get(G);if(le)for(const xe of le)xe(Y)}let pn=null;const gi="firebase-installations-store";let ti=null;function Ki(){return ti||(ti=(0,ee.openDb)("firebase-installations-database",1,G=>{switch(G.oldVersion){case 0:G.createObjectStore(gi)}})),ti}function Ri(G,Y){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(G,Y){const le=at(G),He=(yield Ki()).transaction(gi,"readwrite"),Qe=He.objectStore(gi),ut=yield Qe.get(le);return yield Qe.put(Y,le),yield He.complete,(!ut||ut.fid!==Y.fid)&&Vn(G,Y.fid),Y})).apply(this,arguments)}function st(G){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(G){const Y=at(G),xe=(yield Ki()).transaction(gi,"readwrite");yield xe.objectStore(gi).delete(Y),yield xe.complete})).apply(this,arguments)}function ni(G,Y){return jn.apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(G,Y){const le=at(G),He=(yield Ki()).transaction(gi,"readwrite"),Qe=He.objectStore(gi),ut=yield Qe.get(le),ct=Y(ut);return void 0===ct?yield Qe.delete(le):yield Qe.put(ct,le),yield He.complete,ct&&(!ut||ut.fid!==ct.fid)&&Vn(G,ct.fid),ct})).apply(this,arguments)}function Mt(G){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(G){let Y;const le=yield ni(G,xe=>{const He=Kt(xe),Qe=$t(G,He);return Y=Qe.registrationPromise,Qe.installationEntry});return""===le.fid?{installationEntry:yield Y}:{installationEntry:le,registrationPromise:Y}})).apply(this,arguments)}function Kt(G){return ho(G||{fid:Gt(),registrationStatus:0})}function $t(G,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject(ge.create("app-offline"))};const le={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:le,registrationPromise:function(G,Y){return un.apply(this,arguments)}(G,le)}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:je(G)}:{installationEntry:Y}}function un(){return(un=(0,f.Z)(function*(G,Y){try{return Ri(G,yield Re(G,Y))}catch(le){throw fe(le)&&409===le.customData.serverCode?yield st(G):yield Ri(G,{fid:Y.fid,registrationStatus:0}),le}})).apply(this,arguments)}function je(G){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(G){let Y=yield ll(G);for(;1===Y.registrationStatus;)yield Ce(100),Y=yield ll(G);if(0===Y.registrationStatus){const{installationEntry:le,registrationPromise:xe}=yield Mt(G);return xe||le}return Y})).apply(this,arguments)}function ll(G){return ni(G,Y=>{if(!Y)throw ge.create("installation-not-found");return ho(Y)})}function ho(G){return function(G){return 1===G.registrationStatus&&G.registrationTime+1e4<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function on(G,Y){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*({appConfig:G,platformLoggerProvider:Y},le){const xe=Pc(G,le),He=De(G,le),Qe=Y.getImmediate({optional:!0});Qe&&He.append("x-firebase-client",Qe.getPlatformInfoString());const ct={method:"POST",headers:He,body:JSON.stringify({installation:{sdkVersion:j}})},hn=yield Yt(()=>fetch(xe,ct));if(hn.ok)return qe(yield hn.json());throw yield Ue("Generate Auth Token",hn)})).apply(this,arguments)}function Pc(G,{fid:Y}){return`${Se(G)}/${Y}/authTokens:generate`}function an(G){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(G,Y=!1){let le;const xe=yield ni(G.appConfig,Qe=>{if(!nt(Qe))throw ge.create("not-registered");const ut=Qe.authToken;if(!Y&&Zt(ut))return Qe;if(1===ut.requestStatus)return le=q(G,Y),Qe;{if(!navigator.onLine)throw ge.create("app-offline");const ct=Vt(Qe);return le=de(G,ct),ct}});return le?yield le:xe.authToken})).apply(this,arguments)}function q(G,Y){return ce.apply(this,arguments)}function ce(){return(ce=(0,f.Z)(function*(G,Y){let le=yield ye(G.appConfig);for(;1===le.authToken.requestStatus;)yield Ce(100),le=yield ye(G.appConfig);const xe=le.authToken;return 0===xe.requestStatus?an(G,Y):xe})).apply(this,arguments)}function ye(G){return ni(G,Y=>{if(!nt(Y))throw ge.create("not-registered");return function(G){return 1===G.requestStatus&&G.requestTime+1e4<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function de(G,Y){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(G,Y){try{const le=yield on(G,Y),xe=Object.assign(Object.assign({},Y),{authToken:le});return yield Ri(G.appConfig,xe),le}catch(le){if(!fe(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const xe=Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}});yield Ri(G.appConfig,xe)}else yield st(G.appConfig);throw le}})).apply(this,arguments)}function nt(G){return void 0!==G&&2===G.registrationStatus}function Zt(G){return 2===G.requestStatus&&!function(G){const Y=Date.now();return Y<G.creationTime||G.creationTime+G.expiresIn<Y+36e5}(G)}function Vt(G){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:Y})}function pr(){return(pr=(0,f.Z)(function*(G){const Y=G,{installationEntry:le,registrationPromise:xe}=yield Mt(Y.appConfig);return xe?xe.catch(console.error):an(Y).catch(console.error),le.fid})).apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(G,Y=!1){const le=G;return yield _u(le.appConfig),(yield an(le,Y)).token})).apply(this,arguments)}function _u(G){return Us.apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(G){const{registrationPromise:Y}=yield Mt(G);Y&&(yield Y)})).apply(this,arguments)}function We(G){return ge.create("missing-app-config-values",{valueName:G})}const Bt="installations";(0,pe._registerComponent)(new _e.wA(Bt,G=>{const Y=G.getProvider("app").getImmediate();return{app:Y,appConfig:function(G){if(!G||!G.options)throw We("App Configuration");if(!G.name)throw We("App Name");const Y=["projectId","apiKey","appId"];for(const le of Y)if(!G.options[le])throw We(le);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(Y),platformLoggerProvider:(0,pe._getProvider)(Y,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,pe._registerComponent)(new _e.wA("installations-internal",G=>{const Y=G.getProvider("app").getImmediate(),le=(0,pe._getProvider)(Y,Bt).getImmediate();return{getId:()=>function(G){return pr.apply(this,arguments)}(le),getToken:He=>function(G){return Bs.apply(this,arguments)}(le,He)}},"PRIVATE")),(0,pe.registerVersion)("@firebase/installations","0.5.0");const _i="analytics",Fn="firebase_id",It="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qi="https://www.googletagmanager.com/gtag/js",Sn=new $.Yd("@firebase/analytics");function jo(G){return Promise.all(G.map(Y=>Y.catch(le=>le)))}function wa(G,Y){const le=document.createElement("script");le.src=`${Qi}?l=${G}&id=${Y}`,le.async=!0,document.head.appendChild(le)}function po(G,Y,le,xe,He,Qe){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,f.Z)(function*(G,Y,le,xe,He,Qe){const ut=xe[He];try{if(ut)yield Y[ut];else{const hn=(yield jo(le)).find(xr=>xr.measurementId===He);hn&&(yield Y[hn.appId])}}catch(ct){Sn.error(ct)}G("config",He,Qe)})).apply(this,arguments)}function Br(G,Y,le,xe,He){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.Z)(function*(G,Y,le,xe,He){try{let Qe=[];if(He&&He.send_to){let ut=He.send_to;Array.isArray(ut)||(ut=[ut]);const ct=yield jo(le);for(const hn of ut){const xr=ct.find(Ar=>Ar.measurementId===hn),jr=xr&&Y[xr.appId];if(!jr){Qe=[];break}Qe.push(jr)}}0===Qe.length&&(Qe=Object.values(Y)),yield Promise.all(Qe),G("event",xe,He||{})}catch(Qe){Sn.error(Qe)}})).apply(this,arguments)}function Ho(){const G=window.document.getElementsByTagName("script");for(const Y of Object.values(G))if(Y.src&&Y.src.includes(Qi))return Y;return null}const sr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vc=new class{constructor(Y={},le=1e3){this.throttleMetadata=Y,this.intervalMillis=le}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,le){this.throttleMetadata[Y]=le}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function Ni(G){return new Headers({Accept:"application/json","x-goog-api-key":G})}function yi(G){return go.apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(G){var Y;const{appId:le,apiKey:xe}=G,He={method:"GET",headers:Ni(xe)},Qe=It.replace("{app-id}",le),ut=yield fetch(Qe,He);if(200!==ut.status&&304!==ut.status){let ct="";try{const hn=yield ut.json();(null===(Y=hn.error)||void 0===Y?void 0:Y.message)&&(ct=hn.error.message)}catch(hn){}throw sr.create("config-fetch-failed",{httpStatus:ut.status,responseMessage:ct})}return ut.json()})).apply(this,arguments)}function Fi(G){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,f.Z)(function*(G,Y=Vc,le){const{appId:xe,apiKey:He,measurementId:Qe}=G.options;if(!xe)throw sr.create("no-app-id");if(!He){if(Qe)return{measurementId:Qe,appId:xe};throw sr.create("no-api-key")}const ut=Y.getThrottleMetadata(xe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new vu;return setTimeout((0,f.Z)(function*(){ct.abort()}),void 0!==le?le:6e4),ii({appId:xe,apiKey:He,measurementId:Qe},ut,ct,Y)})).apply(this,arguments)}function ii(G,Y,le){return si.apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(G,{throttleEndTimeMillis:Y,backoffCount:le},xe,He=Vc){const{appId:Qe,measurementId:ut}=G;try{yield ps(xe,Y)}catch(ct){if(ut)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:Qe,measurementId:ut};throw ct}try{const ct=yield yi(G);return He.deleteThrottleMetadata(Qe),ct}catch(ct){if(!Qh(ct)){if(He.deleteThrottleMetadata(Qe),ut)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:Qe,measurementId:ut};throw ct}const hn=503===Number(ct.customData.httpStatus)?(0,ae.$s)(le,He.intervalMillis,30):(0,ae.$s)(le,He.intervalMillis),xr={throttleEndTimeMillis:Date.now()+hn,backoffCount:le+1};return He.setThrottleMetadata(Qe,xr),Sn.debug(`Calling attemptFetch again in ${hn} millis`),ii(G,xr,xe,He)}})).apply(this,arguments)}function ps(G,Y){return new Promise((le,xe)=>{const He=Math.max(Y-Date.now(),0),Qe=setTimeout(le,He);G.addEventListener(()=>{clearTimeout(Qe),xe(sr.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}function Qh(G){if(!(G instanceof ae.ZR&&G.customData))return!1;const Y=Number(G.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}class vu{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}function Ug(){return cl.apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(){if(!(0,ae.hl)())return Sn.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(G){return Sn.warn(sr.create("indexeddb-unavailable",{errorInfo:G}).message),!1}return!0})).apply(this,arguments)}function dl(){return(dl=(0,f.Z)(function*(G,Y,le,xe,He,Qe,ut){var ct;const hn=Fi(G);hn.then(ms=>{le[ms.measurementId]=ms.appId,G.options.measurementId&&ms.measurementId!==G.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${G.options.measurementId}) does not match the measurement ID fetched from the server (${ms.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ms=>Sn.error(ms)),Y.push(hn);const xr=Ug().then(ms=>{if(ms)return xe.getId()}),[jr,Ar]=yield Promise.all([hn,xr]);Ho()||wa(Qe,jr.measurementId),He("js",new Date);const qo=null!==(ct=null==ut?void 0:ut.config)&&void 0!==ct?ct:{};return qo.origin="firebase",qo.update=!0,null!=Ar&&(qo[Fn]=Ar),He("config",jr.measurementId,qo),jr.measurementId})).apply(this,arguments)}class jg{constructor(Y){this.app=Y}_delete(){return delete js[this.app.options.appId],Promise.resolve()}}let js={},bu=[];const mo={};let Ca,Eu,wu="dataLayer",Jh="gtag",hl=!1;function Hs(G){if(hl)throw sr.create("already-initialized");G.dataLayerName&&(wu=G.dataLayerName),G.gtagName&&(Jh=G.gtagName)}function $s(G,Y,le){!function(){const G=[];if((0,ae.ru)()&&G.push("This is a browser extension environment."),(0,ae.zI)()||G.push("Cookies are not available."),G.length>0){const Y=G.map((xe,He)=>`(${He+1}) ${xe}`).join(" "),le=sr.create("invalid-analytics-context",{errorInfo:Y});Sn.warn(le.message)}}();const xe=G.options.appId;if(!xe)throw sr.create("no-app-id");if(!G.options.apiKey){if(!G.options.measurementId)throw sr.create("no-api-key");Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${G.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=js[xe])throw sr.create("already-exists",{id:xe});if(!hl){!function(G){let Y=[];Array.isArray(window[G])?Y=window[G]:window[G]=Y}(wu);const{wrappedGtag:Qe,gtagCore:ut}=function(G,Y,le,xe,He){let Qe=function(...ut){window[xe].push(arguments)};return window[He]&&"function"==typeof window[He]&&(Qe=window[He]),window[He]=function(G,Y,le,xe){function Qe(){return(Qe=(0,f.Z)(function*(ut,ct,hn){try{"event"===ut?yield Br(G,Y,le,ct,hn):"config"===ut?yield po(G,Y,le,xe,ct,hn):G("set",ct)}catch(xr){Sn.error(xr)}})).apply(this,arguments)}return function(ut,ct,hn){return Qe.apply(this,arguments)}}(Qe,G,Y,le),{gtagCore:Qe,wrappedGtag:window[He]}}(js,bu,mo,wu,Jh);Eu=Qe,Ca=ut,hl=!0}return js[xe]=function(G,Y,le,xe,He,Qe,ut){return dl.apply(this,arguments)}(G,bu,mo,Y,Ca,wu,le),new jg(G)}function xa(){return(xa=(0,f.Z)(function*(G,Y,le,xe,He){if(He&&He.global)G("event",le,xe);else{const Qe=yield Y;G("event",le,Object.assign(Object.assign({},xe),{send_to:Qe}))}})).apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(G,Y,le,xe){if(xe&&xe.global)return G("set",{screen_name:le}),Promise.resolve();G("config",yield Y,{update:!0,screen_name:le})})).apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(G,Y,le,xe){if(xe&&xe.global)return G("set",{user_id:le}),Promise.resolve();G("config",yield Y,{update:!0,user_id:le})})).apply(this,arguments)}function fl(){return(fl=(0,f.Z)(function*(G,Y,le,xe){if(xe&&xe.global){const He={};for(const Qe of Object.keys(le))He[`user_properties.${Qe}`]=le[Qe];return G("set",He),Promise.resolve()}G("config",yield Y,{update:!0,user_properties:le})})).apply(this,arguments)}function zo(){return(zo=(0,f.Z)(function*(G,Y){const le=yield G;window[`ga-disable-${le}`]=!Y})).apply(this,arguments)}function Uc(){return pl.apply(this,arguments)}function pl(){return(pl=(0,f.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(G){return!1}})).apply(this,arguments)}function Gr(G,Y,le){G=(0,ae.m9)(G),function(G,Y,le,xe){return es.apply(this,arguments)}(Eu,js[G.app.options.appId],Y,le).catch(xe=>Sn.error(xe))}function gl(G,Y,le){G=(0,ae.m9)(G),function(G,Y,le,xe){return gs.apply(this,arguments)}(Eu,js[G.app.options.appId],Y,le).catch(xe=>Sn.error(xe))}function xu(G,Y,le){G=(0,ae.m9)(G),function(G,Y,le,xe){return fl.apply(this,arguments)}(Eu,js[G.app.options.appId],Y,le).catch(xe=>Sn.error(xe))}function ml(G,Y){G=(0,ae.m9)(G),function(G,Y){return zo.apply(this,arguments)}(js[G.app.options.appId],Y).catch(le=>Sn.error(le))}function _l(G,Y,le,xe){G=(0,ae.m9)(G),function(G,Y,le,xe,He){return xa.apply(this,arguments)}(Eu,js[G.app.options.appId],Y,le,xe).catch(He=>Sn.error(He))}(0,pe._registerComponent)(new _e.wA(_i,(Y,{options:le})=>$s(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,pe._registerComponent)(new _e.wA("analytics-internal",function(Y){try{const le=Y.getProvider(_i).getImmediate();return{logEvent:(xe,He,Qe)=>_l(le,xe,He,Qe)}}catch(le){throw sr.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,pe.registerVersion)("@firebase/analytics","0.7.0")},4486:(tt,Oe,U)=>{"use strict";U.d(Oe,{Z:()=>be});var f=U(4685),pe=U(6034),$=U(5452),ae=U(300);class _e{constructor(fe,Se){this._delegate=fe,this.firebase=Se,(0,$._addComponent)(fe,new pe.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(fe,Se=$._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(fe);return!Ue.isInitialized()&&"EXPLICIT"===(null===(qe=Ue.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Se})}_removeServiceInstance(fe,Se=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Se)}_addComponent(fe){(0,$._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,$._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function K(){const ge=function(ge){const fe={},Se={__esModule:!0,initializeApp:function(Ct,Ee={}){const me=$.initializeApp(Ct,Ee);if((0,f.r3)(fe,me.name))return fe[me.name];const Re=new ge(me,Se);return fe[me.name]=Re,Re},app:Ue,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function(Ct){const Ee=Ct.name,me=Ee.replace("-compat","");if($._registerComponent(Ct)&&"PUBLIC"===Ct.type){const Re=(Ie=Ue())=>{if("function"!=typeof Ie[me])throw re.create("invalid-app-argument",{appName:Ee});return Ie[me]()};void 0!==Ct.serviceProps&&(0,f.ZB)(Re,Ct.serviceProps),Se[me]=Re,ge.prototype[me]=function(...Ie){return this._getService.bind(this,Ee).apply(this,Ct.multipleInstances?Ie:[])}}return"PUBLIC"===Ct.type?Se[me]:null},removeApp:function(Ct){delete fe[Ct]},useAsService:function(Ct,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:$}};function Ue(Ct){if(!(0,f.r3)(fe,Ct=Ct||$._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ct});return fe[Ct]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function(){return Object.keys(fe).map(Ct=>fe[Ct])}}),Ue.App=ge,Se}(_e);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(Se){(0,f.ZB)(ge,Se)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),ge}(),Q=new ae.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=j;(0,$.registerVersion)("@firebase/app-compat","0.1.1",undefined);const be=Ae},5452:(tt,Oe,U)=>{"use strict";U.r(Oe),U.d(Oe,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Go,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>cs,_apps:()=>at,_clearComponents:()=>pn,_components:()=>ft,_getProvider:()=>St,_registerComponent:()=>yn,_removeServiceInstance:()=>ds,deleteApp:()=>Ri,getApp:()=>ti,getApps:()=>Ki,initializeApp:()=>gi,onLog:()=>Kn,registerVersion:()=>st,setLogLevel:()=>ni});var f=U(8239),pe=U(6034),$=U(300),ae=U(4685);class _e{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(Kt=>{if(function(Mt){const _t=Mt.getComponent();return"VERSION"===(null==_t?void 0:_t.type)}(Kt)){const $t=Kt.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(Kt=>Kt).join(" ")}}const re="@firebase/app",K=new $.Yd("@firebase/app"),Gt="[DEFAULT]",lt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,ft=new Map;function Vn(Mt,_t){try{Mt.container.addComponent(_t)}catch(Kt){K.debug(`Component ${_t.name} failed to register with FirebaseApp ${Mt.name}`,Kt)}}function cs(Mt,_t){Mt.container.addOrOverwriteComponent(_t)}function yn(Mt){const _t=Mt.name;if(ft.has(_t))return K.debug(`There were multiple attempts to register component ${_t}.`),!1;ft.set(_t,Mt);for(const Kt of at.values())Vn(Kt,Mt);return!0}function St(Mt,_t){return Mt.container.getProvider(_t)}function ds(Mt,_t,Kt=Gt){St(Mt,_t).clearInstance(Kt)}function pn(){ft.clear()}const ir=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class co{constructor(_t,Kt,$t){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},Kt),this._name=Kt.name,this._automaticDataCollectionEnabled=Kt.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new pe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const Go="9.0.0";function gi(Mt,_t={}){"object"!=typeof _t&&(_t={name:_t});const Kt=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},_t),$t=Kt.name;if("string"!=typeof $t||!$t)throw ir.create("bad-app-name",{appName:String($t)});const Cr=at.get($t);if(Cr){if((0,ae.vZ)(Mt,Cr.options)&&(0,ae.vZ)(Kt,Cr.config))return Cr;throw ir.create("duplicate-app",{appName:$t})}const un=new pe.H0($t);for(const pt of ft.values())un.addComponent(pt);const je=new co(Mt,Kt,un);return at.set($t,je),je}function ti(Mt=Gt){const _t=at.get(Mt);if(!_t)throw ir.create("no-app",{appName:Mt});return _t}function Ki(){return Array.from(at.values())}function Ri(Mt){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(Mt){const _t=Mt.name;at.has(_t)&&(at.delete(_t),yield Promise.all(Mt.container.getProviders().map(Kt=>Kt.delete())),Mt.isDeleted=!0)})).apply(this,arguments)}function st(Mt,_t,Kt){var $t;let Cr=null!==($t=lt[Mt])&&void 0!==$t?$t:Mt;Kt&&(Cr+=`-${Kt}`);const un=Cr.match(/\s|\//),je=_t.match(/\s|\//);if(un||je){const pt=[`Unable to register library "${Cr}" with version "${_t}":`];return un&&pt.push(`library name "${Cr}" contains illegal characters (whitespace or "/")`),un&&je&&pt.push("and"),je&&pt.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void K.warn(pt.join(" "))}yn(new pe.wA(`${Cr}-version`,()=>({library:Cr,version:_t}),"VERSION"))}function Kn(Mt,_t){if(null!==Mt&&"function"!=typeof Mt)throw ir.create("invalid-log-argument");(0,$.Am)(Mt,_t)}function ni(Mt){(0,$.Ub)(Mt)}yn(new pe.wA("platform-logger",_t=>new _e(_t),"PRIVATE")),st(re,"0.7.0",undefined),st("fire-js","")},6034:(tt,Oe,U)=>{"use strict";U.d(Oe,{wA:()=>$,H0:()=>se});var f=U(4762),pe=U(4685),$=function(){function K(j,Q,V){this.name=j,this.instanceFactory=Q,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return K.prototype.setInstantiationMode=function(j){return this.instantiationMode=j,this},K.prototype.setMultipleInstances=function(j){return this.multipleInstances=j,this},K.prototype.setServiceProps=function(j){return this.serviceProps=j,this},K.prototype.setInstanceCreatedCallback=function(j){return this.onInstanceCreated=j,this},K}(),ae="[DEFAULT]",_e=function(){function K(j,Q){this.name=j,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return K.prototype.get=function(j){var Q=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Q)){var V=new pe.BH;if(this.instancesDeferred.set(Q,V),this.isInitialized(Q)||this.shouldAutoInitialize())try{var J=this.getOrInitializeService({instanceIdentifier:Q});J&&V.resolve(J)}catch(te){}}return this.instancesDeferred.get(Q).promise},K.prototype.getImmediate=function(j){var Q,V=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),J=null!==(Q=null==j?void 0:j.optional)&&void 0!==Q&&Q;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(J)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(te){if(J)return null;throw te}},K.prototype.getComponent=function(){return this.component},K.prototype.setComponent=function(j){var Q,V;if(j.name!==this.name)throw Error("Mismatching Component "+j.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=j,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(qe){}try{for(var J=(0,f.XA)(this.instancesDeferred.entries()),te=J.next();!te.done;te=J.next()){var Ae=(0,f.CR)(te.value,2),ge=Ae[1],fe=this.normalizeInstanceIdentifier(Ae[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:fe});ge.resolve(Se)}catch(qe){}}}catch(qe){Q={error:qe}}finally{try{te&&!te.done&&(V=J.return)&&V.call(J)}finally{if(Q)throw Q.error}}}},K.prototype.clearInstance=function(j){void 0===j&&(j=ae),this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)},K.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var j;return(0,f.Jh)(this,function(Q){switch(Q.label){case 0:return j=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(j.filter(function(V){return"INTERNAL"in V}).map(function(V){return V.INTERNAL.delete()}))),(0,f.CR)(j.filter(function(V){return"_delete"in V}).map(function(V){return V._delete()}))))];case 1:return Q.sent(),[2]}})})},K.prototype.isComponentSet=function(){return null!=this.component},K.prototype.isInitialized=function(j){return void 0===j&&(j=ae),this.instances.has(j)},K.prototype.getOptions=function(j){return void 0===j&&(j=ae),this.instancesOptions.get(j)||{}},K.prototype.initialize=function(j){var Q,V;void 0===j&&(j={});var J=j.options,te=void 0===J?{}:J,Ae=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Ae))throw Error(this.name+"("+Ae+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var be=this.getOrInitializeService({instanceIdentifier:Ae,options:te});try{for(var ge=(0,f.XA)(this.instancesDeferred.entries()),fe=ge.next();!fe.done;fe=ge.next()){var Se=(0,f.CR)(fe.value,2),Ue=Se[1];Ae===this.normalizeInstanceIdentifier(Se[0])&&Ue.resolve(be)}}catch(Dt){Q={error:Dt}}finally{try{fe&&!fe.done&&(V=ge.return)&&V.call(ge)}finally{if(Q)throw Q.error}}return be},K.prototype.onInit=function(j,Q){var V,J=this.normalizeInstanceIdentifier(Q),te=null!==(V=this.onInitCallbacks.get(J))&&void 0!==V?V:new Set;te.add(j),this.onInitCallbacks.set(J,te);var Ae=this.instances.get(J);return Ae&&j(Ae,J),function(){te.delete(j)}},K.prototype.invokeOnInitCallbacks=function(j,Q){var V,J,te=this.onInitCallbacks.get(Q);if(te)try{for(var Ae=(0,f.XA)(te),be=Ae.next();!be.done;be=Ae.next()){var ge=be.value;try{ge(j,Q)}catch(fe){}}}catch(fe){V={error:fe}}finally{try{be&&!be.done&&(J=Ae.return)&&J.call(Ae)}finally{if(V)throw V.error}}},K.prototype.getOrInitializeService=function(j){var Q=j.instanceIdentifier,V=j.options,J=void 0===V?{}:V,te=this.instances.get(Q);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:ee(Q),options:J}),this.instances.set(Q,te),this.instancesOptions.set(Q,J),this.invokeOnInitCallbacks(te,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,te)}catch(Ae){}return te||null},K.prototype.normalizeInstanceIdentifier=function(j){return void 0===j&&(j=ae),this.component?this.component.multipleInstances?j:ae:j},K.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},K}();function ee(K){return K===ae?void 0:K}var se=function(){function K(j){this.name=j,this.providers=new Map}return K.prototype.addComponent=function(j){var Q=this.getProvider(j.name);if(Q.isComponentSet())throw new Error("Component "+j.name+" has already been registered with "+this.name);Q.setComponent(j)},K.prototype.addOrOverwriteComponent=function(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)},K.prototype.getProvider=function(j){if(this.providers.has(j))return this.providers.get(j);var Q=new _e(j,this);return this.providers.set(j,Q),Q},K.prototype.getProviders=function(){return Array.from(this.providers.values())},K}()},300:(tt,Oe,U)=>{"use strict";function f(){for(var V=0,J=0,te=arguments.length;J<te;J++)V+=arguments[J].length;var Ae=Array(V),be=0;for(J=0;J<te;J++)for(var ge=arguments[J],fe=0,Se=ge.length;fe<Se;fe++,be++)Ae[be]=ge[fe];return Ae}U.d(Oe,{in:()=>ae,Yd:()=>K,Ub:()=>j,Am:()=>Q});var pe,$=[],ae=(()=>{return(V=ae||(ae={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",ae;var V})(),_e={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ee=ae.INFO,re=((pe={})[ae.DEBUG]="log",pe[ae.VERBOSE]="log",pe[ae.INFO]="info",pe[ae.WARN]="warn",pe[ae.ERROR]="error",pe),se=function(V,J){for(var te=[],Ae=2;Ae<arguments.length;Ae++)te[Ae-2]=arguments[Ae];if(!(J<V.logLevel)){var be=(new Date).toISOString(),ge=re[J];if(!ge)throw new Error("Attempted to log a message with an invalid logType (value: "+J+")");console[ge].apply(console,f(["["+be+"]  "+V.name+":"],te))}},K=function(){function V(J){this.name=J,this._logLevel=ee,this._logHandler=se,this._userLogHandler=null,$.push(this)}return Object.defineProperty(V.prototype,"logLevel",{get:function(){return this._logLevel},set:function(J){if(!(J in ae))throw new TypeError('Invalid value "'+J+'" assigned to `logLevel`');this._logLevel=J},enumerable:!1,configurable:!0}),V.prototype.setLogLevel=function(J){this._logLevel="string"==typeof J?_e[J]:J},Object.defineProperty(V.prototype,"logHandler",{get:function(){return this._logHandler},set:function(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(J){this._userLogHandler=J},enumerable:!1,configurable:!0}),V.prototype.debug=function(){for(var J=[],te=0;te<arguments.length;te++)J[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ae.DEBUG],J)),this._logHandler.apply(this,f([this,ae.DEBUG],J))},V.prototype.log=function(){for(var J=[],te=0;te<arguments.length;te++)J[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ae.VERBOSE],J)),this._logHandler.apply(this,f([this,ae.VERBOSE],J))},V.prototype.info=function(){for(var J=[],te=0;te<arguments.length;te++)J[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ae.INFO],J)),this._logHandler.apply(this,f([this,ae.INFO],J))},V.prototype.warn=function(){for(var J=[],te=0;te<arguments.length;te++)J[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ae.WARN],J)),this._logHandler.apply(this,f([this,ae.WARN],J))},V.prototype.error=function(){for(var J=[],te=0;te<arguments.length;te++)J[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ae.ERROR],J)),this._logHandler.apply(this,f([this,ae.ERROR],J))},V}();function j(V){$.forEach(function(J){J.setLogLevel(V)})}function Q(V,J){for(var te=function(fe){var Se=null;J&&J.level&&(Se=_e[J.level]),fe.userLogHandler=null===V?null:function(qe,Ue){for(var Xe=[],Dt=2;Dt<arguments.length;Dt++)Xe[Dt-2]=arguments[Dt];var De=Xe.map(function(Yt){if(null==Yt)return null;if("string"==typeof Yt)return Yt;if("number"==typeof Yt||"boolean"==typeof Yt)return Yt.toString();if(Yt instanceof Error)return Yt.message;try{return JSON.stringify(Yt)}catch(Ct){return null}}).filter(function(Yt){return Yt}).join(" ");Ue>=(null!=Se?Se:qe.logLevel)&&V({level:ae[Ue].toLowerCase(),message:De,args:Xe,type:qe.name})}},Ae=0,be=$;Ae<be.length;Ae++)te(be[Ae])}},4685:(tt,Oe,U)=>{"use strict";U.d(Oe,{BH:()=>te,LL:()=>$e,ZR:()=>ue,gQ:()=>Ri,zI:()=>Re,hu:()=>$,g5:()=>ae,US:()=>re,tV:()=>j,h$:()=>se,$s:()=>on,r3:()=>ds,Sg:()=>Ae,ne:()=>hs,p$:()=>Q,vZ:()=>co,ZB:()=>V,gK:()=>_t,pd:()=>Ki,m9:()=>an,z$:()=>be,GJ:()=>St,jU:()=>Se,ru:()=>qe,d:()=>Xe,xb:()=>rr,w1:()=>Dt,hl:()=>Ee,uI:()=>ge,UG:()=>fe,Yr:()=>Yt,b$:()=>Ue,G6:()=>Ct,Mn:()=>De,w9:()=>yn,cI:()=>lt,UI:()=>ir,xO:()=>gi,zd:()=>ti,DV:()=>pn,ug:()=>je,dS:()=>un,Pz:()=>at,eu:()=>me});var f=U(4762),$=function(W,q){if(!W)throw ae(q)},ae=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},_e=function(W){for(var q=[],ce=0,ye=0;ye<W.length;ye++){var de=W.charCodeAt(ye);de<128?q[ce++]=de:de<2048?(q[ce++]=de>>6|192,q[ce++]=63&de|128):55296==(64512&de)&&ye+1<W.length&&56320==(64512&W.charCodeAt(ye+1))?(de=65536+((1023&de)<<10)+(1023&W.charCodeAt(++ye)),q[ce++]=de>>18|240,q[ce++]=de>>12&63|128,q[ce++]=de>>6&63|128,q[ce++]=63&de|128):(q[ce++]=de>>12|224,q[ce++]=de>>6&63|128,q[ce++]=63&de|128)}return q},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(W,q){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ce=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[],de=0;de<W.length;de+=3){var Ge=W[de],nt=de+1<W.length,Zt=nt?W[de+1]:0,Jt=de+2<W.length,Vt=Jt?W[de+2]:0,pr=(15&Zt)<<2|Vt>>6,fs=63&Vt;Jt||(fs=64,nt||(pr=64)),ye.push(ce[Ge>>2],ce[(3&Ge)<<4|Zt>>4],ce[pr],ce[fs])}return ye.join("")},encodeString:function(W,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(W):this.encodeByteArray(_e(W),q)},decodeString:function(W,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(W):function(W){for(var q=[],ce=0,ye=0;ce<W.length;){var de=W[ce++];if(de<128)q[ye++]=String.fromCharCode(de);else if(de>191&&de<224){var Ge=W[ce++];q[ye++]=String.fromCharCode((31&de)<<6|63&Ge)}else if(de>239&&de<365){var Jt=((7&de)<<18|(63&(Ge=W[ce++]))<<12|(63&(nt=W[ce++]))<<6|63&W[ce++])-65536;q[ye++]=String.fromCharCode(55296+(Jt>>10)),q[ye++]=String.fromCharCode(56320+(1023&Jt))}else{Ge=W[ce++];var nt=W[ce++];q[ye++]=String.fromCharCode((15&de)<<12|(63&Ge)<<6|63&nt)}}return q.join("")}(this.decodeStringToByteArray(W,q))},decodeStringToByteArray:function(W,q){this.init_();for(var ce=q?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[],de=0;de<W.length;){var Ge=ce[W.charAt(de++)],Zt=de<W.length?ce[W.charAt(de)]:0,Vt=++de<W.length?ce[W.charAt(de)]:64,kr=++de<W.length?ce[W.charAt(de)]:64;if(++de,null==Ge||null==Zt||null==Vt||null==kr)throw Error();ye.push(Ge<<2|Zt>>4),64!==Vt&&(ye.push(Zt<<4&240|Vt>>2),64!==kr&&ye.push(Vt<<6&192|kr))}return ye},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},se=function(W){var q=_e(W);return re.encodeByteArray(q,!0)},K=function(W){return se(W).replace(/\./g,"")},j=function(W){try{return re.decodeString(W,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function Q(W){return V(void 0,W)}function V(W,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return q}for(var ye in q)!q.hasOwnProperty(ye)||!J(ye)||(W[ye]=V(W[ye],q[ye]));return W}function J(W){return"__proto__"!==W}var te=function(){function W(){var q=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ce,ye){q.resolve=ce,q.reject=ye})}return W.prototype.wrapCallback=function(q){var ce=this;return function(ye,de){ye?ce.reject(ye):ce.resolve(de),"function"==typeof q&&(ce.promise.catch(function(){}),1===q.length?q(ye):q(ye,de))}},W}();function Ae(W,q){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ye=q||"demo-project",de=W.iat||0,Ge=W.sub||W.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var nt=(0,f.pi)({iss:"https://securetoken.google.com/"+ye,aud:ye,iat:de,exp:de+3600,auth_time:de,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},W);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(nt)),""].join(".")}function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Se(){return"object"==typeof self&&self.self===self}function qe(){var W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){return be().indexOf("Electron/")>=0}function Dt(){var W=be();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function De(){return be().indexOf("MSAppHost/")>=0}function Yt(){return!1}function Ct(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"indexedDB"in self&&null!=indexedDB}function me(){return new Promise(function(W,q){try{var ce=!0,ye="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(ye);de.onsuccess=function(){de.result.close(),ce||self.indexedDB.deleteDatabase(ye),W(!0)},de.onupgradeneeded=function(){ce=!1},de.onerror=function(){var Ge;q((null===(Ge=de.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(Ge){q(Ge)}})}function Re(){return!(!navigator||!navigator.cookieEnabled)}var ue=function(W){function q(ce,ye,de){var Ge=W.call(this,ye)||this;return Ge.code=ce,Ge.customData=de,Ge.name="FirebaseError",Object.setPrototypeOf(Ge,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ge,$e.prototype.create),Ge}return(0,f.ZT)(q,W),q}(Error),$e=function(){function W(q,ce,ye){this.service=q,this.serviceName=ce,this.errors=ye}return W.prototype.create=function(q){for(var ce=[],ye=1;ye<arguments.length;ye++)ce[ye-1]=arguments[ye];var de=ce[0]||{},Ge=this.service+"/"+q,nt=this.errors[q],Zt=nt?ot(nt,de):"Error",Jt=this.serviceName+": "+Zt+" ("+Ge+").",Vt=new ue(Ge,Jt,de);return Vt},W}();function ot(W,q){return W.replace(Gt,function(ce,ye){var de=q[ye];return null!=de?String(de):"<"+ye+"?>"})}var Gt=/\{\$([^}]+)}/g;function lt(W){return JSON.parse(W)}function at(W){return JSON.stringify(W)}var ft=function(W){var q={},ce={},ye={},de="";try{var Ge=W.split(".");q=lt(j(Ge[0])||""),ce=lt(j(Ge[1])||""),de=Ge[2],ye=ce.d||{},delete ce.d}catch(nt){}return{header:q,claims:ce,data:ye,signature:de}},yn=function(W){var ce=ft(W).claims;return!!ce&&"object"==typeof ce&&ce.hasOwnProperty("iat")},St=function(W){var q=ft(W).claims;return"object"==typeof q&&!0===q.admin};function ds(W,q){return Object.prototype.hasOwnProperty.call(W,q)}function pn(W,q){if(Object.prototype.hasOwnProperty.call(W,q))return W[q]}function rr(W){for(var q in W)if(Object.prototype.hasOwnProperty.call(W,q))return!1;return!0}function ir(W,q,ce){var ye={};for(var de in W)Object.prototype.hasOwnProperty.call(W,de)&&(ye[de]=q.call(ce,W[de],de,W));return ye}function co(W,q){if(W===q)return!0;for(var ce=Object.keys(W),ye=Object.keys(q),de=0,Ge=ce;de<Ge.length;de++){if(!ye.includes(nt=Ge[de]))return!1;var Zt=W[nt],Jt=q[nt];if(Go(Zt)&&Go(Jt)){if(!co(Zt,Jt))return!1}else if(Zt!==Jt)return!1}for(var Vt=0,Bn=ye;Vt<Bn.length;Vt++){var nt;if(!ce.includes(nt=Bn[Vt]))return!1}return!0}function Go(W){return null!==W&&"object"==typeof W}function gi(W){for(var q=[],ce=function(Jt,Vt){Array.isArray(Vt)?Vt.forEach(function(Bn){q.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Bn))}):q.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Vt))},ye=0,de=Object.entries(W);ye<de.length;ye++){var Ge=de[ye];ce(Ge[0],Ge[1])}return q.length?"&"+q.join("&"):""}function ti(W){var q={};return W.replace(/^\?/,"").split("&").forEach(function(ye){if(ye){var de=ye.split("="),nt=de[1];q[decodeURIComponent(de[0])]=decodeURIComponent(nt)}}),q}function Ki(W){var q=W.indexOf("?");if(!q)return"";var ce=W.indexOf("#",q);return W.substring(q,ce>0?ce:void 0)}var Ri=function(){function W(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}return W.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},W.prototype.compress_=function(q,ce){ce||(ce=0);var ye=this.W_;if("string"==typeof q)for(var de=0;de<16;de++)ye[de]=q.charCodeAt(ce)<<24|q.charCodeAt(ce+1)<<16|q.charCodeAt(ce+2)<<8|q.charCodeAt(ce+3),ce+=4;else for(de=0;de<16;de++)ye[de]=q[ce]<<24|q[ce+1]<<16|q[ce+2]<<8|q[ce+3],ce+=4;for(de=16;de<80;de++)ye[de]=4294967295&((Ge=ye[de-3]^ye[de-8]^ye[de-14]^ye[de-16])<<1|Ge>>>31);var kr,pr,nt=this.chain_[0],Zt=this.chain_[1],Jt=this.chain_[2],Vt=this.chain_[3],Bn=this.chain_[4];for(de=0;de<80;de++){de<40?de<20?(kr=Vt^Zt&(Jt^Vt),pr=1518500249):(kr=Zt^Jt^Vt,pr=1859775393):de<60?(kr=Zt&Jt|Vt&(Zt|Jt),pr=2400959708):(kr=Zt^Jt^Vt,pr=3395469782);var Ge=(nt<<5|nt>>>27)+kr+Bn+pr+ye[de]&4294967295;Bn=Vt,Vt=Jt,Jt=4294967295&(Zt<<30|Zt>>>2),Zt=nt,nt=Ge}this.chain_[0]=this.chain_[0]+nt&4294967295,this.chain_[1]=this.chain_[1]+Zt&4294967295,this.chain_[2]=this.chain_[2]+Jt&4294967295,this.chain_[3]=this.chain_[3]+Vt&4294967295,this.chain_[4]=this.chain_[4]+Bn&4294967295},W.prototype.update=function(q,ce){if(null!=q){void 0===ce&&(ce=q.length);for(var ye=ce-this.blockSize,de=0,Ge=this.buf_,nt=this.inbuf_;de<ce;){if(0===nt)for(;de<=ye;)this.compress_(q,de),de+=this.blockSize;if("string"==typeof q){for(;de<ce;)if(Ge[nt]=q.charCodeAt(de),++de,++nt===this.blockSize){this.compress_(Ge),nt=0;break}}else for(;de<ce;)if(Ge[nt]=q[de],++de,++nt===this.blockSize){this.compress_(Ge),nt=0;break}}this.inbuf_=nt,this.total_+=ce}},W.prototype.digest=function(){var q=[],ce=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ye=this.blockSize-1;ye>=56;ye--)this.buf_[ye]=255&ce,ce/=256;this.compress_(this.buf_);var de=0;for(ye=0;ye<5;ye++)for(var Ge=24;Ge>=0;Ge-=8)q[de]=this.chain_[ye]>>Ge&255,++de;return q},W}();function hs(W,q){var ce=new st(W,q);return ce.subscribe.bind(ce)}var st=function(){function W(q,ce){var ye=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ce,this.task.then(function(){q(ye)}).catch(function(de){ye.error(de)})}return W.prototype.next=function(q){this.forEachObserver(function(ce){ce.next(q)})},W.prototype.error=function(q){this.forEachObserver(function(ce){ce.error(q)}),this.close(q)},W.prototype.complete=function(){this.forEachObserver(function(q){q.complete()}),this.close()},W.prototype.subscribe=function(q,ce,ye){var Ge,de=this;if(void 0===q&&void 0===ce&&void 0===ye)throw new Error("Missing Observer.");void 0===(Ge=function(W,q){if("object"!=typeof W||null===W)return!1;for(var ce=0,ye=["next","error","complete"];ce<ye.length;ce++){var de=ye[ce];if(de in W&&"function"==typeof W[de])return!0}return!1}(q)?q:{next:q,error:ce,complete:ye}).next&&(Ge.next=jn),void 0===Ge.error&&(Ge.error=jn),void 0===Ge.complete&&(Ge.complete=jn);var nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{de.finalError?Ge.error(de.finalError):Ge.complete()}catch(Zt){}}),this.observers.push(Ge),nt},W.prototype.unsubscribeOne=function(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(q){if(!this.finalized)for(var ce=0;ce<this.observers.length;ce++)this.sendOne(ce,q)},W.prototype.sendOne=function(q,ce){var ye=this;this.task.then(function(){if(void 0!==ye.observers&&void 0!==ye.observers[q])try{ce(ye.observers[q])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})},W.prototype.close=function(q){var ce=this;this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(function(){ce.observers=void 0,ce.onNoObservers=void 0}))},W}();function jn(){}function _t(W,q){return W+" failed: "+q+" argument "}var un=function(W){for(var q=[],ce=0,ye=0;ye<W.length;ye++){var de=W.charCodeAt(ye);if(de>=55296&&de<=56319){var Ge=de-55296;ye++,$(ye<W.length,"Surrogate pair missing trail surrogate."),de=65536+(Ge<<10)+(W.charCodeAt(ye)-56320)}de<128?q[ce++]=de:de<2048?(q[ce++]=de>>6|192,q[ce++]=63&de|128):de<65536?(q[ce++]=de>>12|224,q[ce++]=de>>6&63|128,q[ce++]=63&de|128):(q[ce++]=de>>18|240,q[ce++]=de>>12&63|128,q[ce++]=de>>6&63|128,q[ce++]=63&de|128)}return q},je=function(W){for(var q=0,ce=0;ce<W.length;ce++){var ye=W.charCodeAt(ce);ye<128?q++:ye<2048?q+=2:ye>=55296&&ye<=56319?(q+=4,ce++):q+=3}return q};function on(W,q,ce){void 0===q&&(q=1e3),void 0===ce&&(ce=2);var ye=q*Math.pow(ce,W),de=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+de)}function an(W){return W&&W._delegate?W._delegate:W}},7841:(tt,Oe,U)=>{"use strict";U.d(Oe,{Z:()=>f.Z});var f=U(4486);f.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(tt,Oe,U)=>{"use strict";U.r(Oe);var f=U(8239),pe=U(4486),$=U(4685),ae=U(5452),_e=U(4762),ee=U(300),re=U(6034);const Ae=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ge=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ee.Yd("@firebase/auth");function qe(x,...v){Se.logLevel<=ee.in.ERROR&&Se.error(`Auth (${ae.SDK_VERSION}): ${x}`,...v)}function Ue(x,...v){throw Dt(x,...v)}function Xe(x,...v){return Dt(x,...v)}function Dt(x,...v){if("string"!=typeof x){const w=v[0],D=[...v.slice(1)];return D[0]&&(D[0].appName=x.name),x._errorFactory.create(w,...D)}return ge.create(x,...v)}function De(x,v,...w){if(!x)throw Dt(v,...w)}function Yt(x){const v="INTERNAL ASSERTION FAILED: "+x;throw qe(v),new Error(v)}function Ct(x,v){x||Yt(v)}const Ee=new Map;function me(x){Ct(x instanceof Function,"Expected a class definition");let v=Ee.get(x);return v?(Ct(v instanceof x,"Instance stored in cache mismatched with class"),v):(v=new x,Ee.set(x,v),v)}function Ce(){var x;return"undefined"!=typeof self&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function ue(){return"http:"===$e()||"https:"===$e()}function $e(){var x;return"undefined"!=typeof self&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class lt{constructor(v,w){this.shortDelay=v,this.longDelay=w,Ct(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ue()||(0,$.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function at(x,v){Ct(x.emulator,"Emulator should always be set here");const{url:w}=x.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class ft{static initialize(v,w,D){this.fetchImpl=v,w&&(this.headersImpl=w),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},cs=new lt(3e4,6e4);function yn(x,v){return x.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:x.tenantId}):v}function St(x,v,w,D){return ds.apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(x,v,w,D,k={}){return pn(x,k,()=>{let P={},ne={};D&&("GET"===v?ne=D:P={body:JSON.stringify(D)});const Me=(0,$.xO)(Object.assign({key:x.config.apiKey},ne)).slice(1),Ye=new(ft.headers());return Ye.set("Content-Type","application/json"),Ye.set("X-Client-Version",x._getSdkClientVersion()),x.languageCode&&Ye.set("X-Firebase-Locale",x.languageCode),ft.fetch()(Go(x,x.config.apiHost,w,Me),Object.assign({method:v,headers:Ye,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function pn(x,v,w){return rr.apply(this,arguments)}function rr(){return(rr=(0,f.Z)(function*(x,v,w){x._canInitEmulator=!1;const D=Object.assign(Object.assign({},Vn),v);try{const k=new gi(x),P=yield Promise.race([w(),k.promise]);k.clearNetworkTimeout();const ne=yield P.json();if("needConfirmation"in ne)throw ti(x,"account-exists-with-different-credential",ne);if(P.ok&&!("errorMessage"in ne))return ne;{const Ye=(P.ok?ne.errorMessage:ne.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw ti(x,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Ye)throw ti(x,"email-already-in-use",ne);Ue(x,D[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(k){if(k instanceof $.ZR)throw k;Ue(x,"network-request-failed")}})).apply(this,arguments)}function ir(x,v,w,D){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(x,v,w,D,k={}){const P=yield St(x,v,w,D,k);return"mfaPendingCredential"in P&&Ue(x,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Go(x,v,w,D){const k=`${v}${w}?${D}`;return x.config.emulator?at(x.config,k):`${x.config.apiScheme}://${k}`}class gi{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,D)=>{this.timer=setTimeout(()=>D(Xe(this.auth,"timeout")),cs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ti(x,v,w){const D={appName:x.name};w.email&&(D.email=w.email),w.phoneNumber&&(D.phoneNumber=w.phoneNumber);const k=Xe(x,v,D);return k.customData._tokenResponse=w,k}function Ri(){return(Ri=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function hs(x,v){return st.apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Kn(x,v){return ni.apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function jn(x){if(x)try{const v=new Date(Number(x));if(!isNaN(v.getTime()))return v.toUTCString()}catch(v){}}function Kt(){return(Kt=(0,f.Z)(function*(x,v=!1){const w=(0,$.m9)(x),D=yield w.getIdToken(v),k=Cr(D);De(k&&k.exp&&k.auth_time&&k.iat,w.auth,"internal-error");const P="object"==typeof k.firebase?k.firebase:void 0,ne=null==P?void 0:P.sign_in_provider;return{claims:k,token:D,authTime:jn($t(k.auth_time)),issuedAtTime:jn($t(k.iat)),expirationTime:jn($t(k.exp)),signInProvider:ne||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(x){return 1e3*Number(x)}function Cr(x){const[v,w,D]=x.split(".");if(void 0===v||void 0===w||void 0===D)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,$.tV)(w);return k?JSON.parse(k):(qe("Failed to decode base64 JWT payload"),null)}catch(k){return qe("Caught error parsing JWT payload as JSON",k),null}}function je(x,v){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(x,v,w=!1){if(w)return v;try{return yield v}catch(D){throw D instanceof $.ZR&&ll(D)&&x.auth.currentUser===x&&(yield x.auth.signOut()),D}})).apply(this,arguments)}function ll({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class ho{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const k=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const D=this.getInterval(v);this.timerId=setTimeout((0,f.Z)(function*(){yield w.iteration()}),D)}iteration(){var v=this;return(0,f.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&v.schedule(!0))}v.schedule()})()}}class mi{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function on(x){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(x){var v;const w=x.auth,D=yield x.getIdToken(),k=yield je(x,Kn(w,{idToken:D}));De(null==k?void 0:k.users.length,w,"internal-error");const P=k.users[0];x._notifyReloadListener(P);const ne=(null===(v=P.providerUserInfo)||void 0===v?void 0:v.length)?q(P.providerUserInfo):[],Me=W(x.providerData,ne),gt=!!x.isAnonymous&&!(x.email&&P.passwordHash||(null==Me?void 0:Me.length)),vt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Me,metadata:new mi(P.createdAt,P.lastLoginAt),isAnonymous:gt};Object.assign(x,vt)})).apply(this,arguments)}function an(){return(an=(0,f.Z)(function*(x){const v=(0,$.m9)(x);yield on(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function W(x,v){return[...x.filter(D=>!v.some(k=>k.providerId===D.providerId)),...v]}function q(x){return x.map(v=>{var{providerId:w}=v,D=(0,_e._T)(v,["providerId"]);return{providerId:w,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function ye(){return(ye=(0,f.Z)(function*(x,v){const w=yield pn(x,{},()=>{const D=(0,$.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:k,apiKey:P}=x.config,ne=Go(x,k,"/v1/token",`key=${P}`);return ft.fetch()(ne,{method:"POST",headers:{"X-Client-Version":x._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class de{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){De(v.idToken,"internal-error"),De(void 0!==v.idToken,"internal-error"),De(void 0!==v.refreshToken,"internal-error");const w="expiresIn"in v&&void 0!==v.expiresIn?Number(v.expiresIn):function(x){const v=Cr(x);return De(v,"internal-error"),De(void 0!==v.exp,"internal-error"),De(void 0!==v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var D=this;return(0,f.Z)(function*(){return De(!D.accessToken||D.refreshToken,v,"user-token-expired"),w||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(v,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var D=this;return(0,f.Z)(function*(){const{accessToken:k,refreshToken:P,expiresIn:ne}=yield function(x,v){return ye.apply(this,arguments)}(v,w);D.updateTokensAndExpiration(k,P,Number(ne))})()}updateTokensAndExpiration(v,w,D){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(v,w){const{refreshToken:D,accessToken:k,expirationTime:P}=w,ne=new de;return D&&(De("string"==typeof D,"internal-error",{appName:v}),ne.refreshToken=D),k&&(De("string"==typeof k,"internal-error",{appName:v}),ne.accessToken=k),P&&(De("number"==typeof P,"internal-error",{appName:v}),ne.expirationTime=P),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new de,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function Ge(x,v){De("string"==typeof x||void 0===x,"internal-error",{appName:v})}class nt{constructor(v){var{uid:w,auth:D,stsTokenManager:k}=v,P=(0,_e._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ho(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=D,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new mi(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,f.Z)(function*(){const D=yield je(w,w.stsTokenManager.getToken(w.auth,v));return De(D,w.auth,"internal-error"),w.accessToken!==D&&(w.accessToken=D,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),D})()}getIdTokenResult(v){return function(x){return Kt.apply(this,arguments)}(this,v)}reload(){return function(x){return an.apply(this,arguments)}(this)}_assign(v){this!==v&&(De(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new nt(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var D=this;return(0,f.Z)(function*(){let k=!1;v.idToken&&v.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(v),k=!0),w&&(yield on(D)),yield D.auth._persistUserIfCurrent(D),k&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var v=this;return(0,f.Z)(function*(){const w=yield v.getIdToken();return yield je(v,function(x,v){return Ri.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var D,k,P,ne,Me,Ye,et,gt;const vt=null!==(D=w.displayName)&&void 0!==D?D:void 0,_r=null!==(k=w.email)&&void 0!==k?k:void 0,ws=null!==(P=w.phoneNumber)&&void 0!==P?P:void 0,xd=null!==(ne=w.photoURL)&&void 0!==ne?ne:void 0,k0=null!==(Me=w.tenantId)&&void 0!==Me?Me:void 0,Wf=null!==(Ye=w._redirectEventId)&&void 0!==Ye?Ye:void 0,qv=null!==(et=w.createdAt)&&void 0!==et?et:void 0,Im=null!==(gt=w.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:Ad,emailVerified:cn,isAnonymous:dn,providerData:Yf,stsTokenManager:Tm}=w;De(Ad&&Tm,v,"internal-error");const Ln=de.fromJSON(this.name,Tm);De("string"==typeof Ad,v,"internal-error"),Ge(vt,v.name),Ge(_r,v.name),De("boolean"==typeof cn,v,"internal-error"),De("boolean"==typeof dn,v,"internal-error"),Ge(ws,v.name),Ge(xd,v.name),Ge(k0,v.name),Ge(Wf,v.name),Ge(qv,v.name),Ge(Im,v.name);const Kf=new nt({uid:Ad,auth:v,email:_r,emailVerified:cn,displayName:vt,isAnonymous:dn,photoURL:xd,phoneNumber:ws,tenantId:k0,stsTokenManager:Ln,createdAt:qv,lastLoginAt:Im});return Yf&&Array.isArray(Yf)&&(Kf.providerData=Yf.map(Qt=>Object.assign({},Qt))),Wf&&(Kf._redirectEventId=Wf),Kf}static _fromIdTokenResponse(v,w,D=!1){return(0,f.Z)(function*(){const k=new de;k.updateFromServerResponse(w);const P=new nt({uid:w.localId,auth:v,stsTokenManager:k,isAnonymous:D});return yield on(P),P})()}}const Jt=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(w,D){var k=this;return(0,f.Z)(function*(){k.storage[w]=D})()}_get(w){var D=this;return(0,f.Z)(function*(){const k=D.storage[w];return void 0===k?null:k})()}_remove(w){var D=this;return(0,f.Z)(function*(){delete D.storage[w]})()}_addListener(w,D){}_removeListener(w,D){}}return x.type="NONE",x})();function Vt(x,v,w){return`firebase:${x}:${v}:${w}`}class Bn{constructor(v,w,D){this.persistence=v,this.auth=w,this.userKey=D;const{config:k,name:P}=this.auth;this.fullUserKey=Vt(this.userKey,k.apiKey,P),this.fullPersistenceKey=Vt("persistence",k.apiKey,P),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,f.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?nt._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,f.Z)(function*(){if(w.persistence===v)return;const D=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,D?w.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,D="authUser"){return(0,f.Z)(function*(){if(!w.length)return new Bn(me(Jt),v,D);const k=(yield Promise.all(w.map(function(){var et=(0,f.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return et.apply(this,arguments)}}()))).filter(et=>et);let P=k[0]||me(Jt);const ne=Vt(D,v.config.apiKey,v.name);let Me=null;for(const et of w)try{const gt=yield et._get(ne);if(gt){const vt=nt._fromJSON(v,gt);et!==P&&(Me=vt),P=et;break}}catch(gt){}const Ye=k.filter(et=>et._shouldAllowMigration);return P._shouldAllowMigration&&Ye.length?(P=Ye[0],Me&&(yield P._set(ne,Me.toJSON())),yield Promise.all(w.map(function(){var et=(0,f.Z)(function*(gt){if(gt!==P)try{yield gt._remove(ne)}catch(vt){}});return function(gt){return et.apply(this,arguments)}}())),new Bn(P,v,D)):new Bn(P,v,D)})()}}function kr(x){const v=x.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(_u(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(pr(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ul(v))return"Blackberry";if(va(v))return"Webos";if(fs(v))return"Safari";if((v.includes("chrome/")||Bs(v))&&!v.includes("edge/"))return"Chrome";if(Us(v))return"Android";{const D=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function pr(x=(0,$.z$)()){return/firefox\//i.test(x)}function fs(x=(0,$.z$)()){const v=x.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Bs(x=(0,$.z$)()){return/crios\//i.test(x)}function _u(x=(0,$.z$)()){return/iemobile/i.test(x)}function Us(x=(0,$.z$)()){return/android/i.test(x)}function ul(x=(0,$.z$)()){return/blackberry/i.test(x)}function va(x=(0,$.z$)()){return/webos/i.test(x)}function Un(x=(0,$.z$)()){return/iphone|ipad|ipod/i.test(x)}function Zh(x=(0,$.z$)()){return Un(x)||Us(x)||va(x)||ul(x)||/windows phone/i.test(x)||_u(x)}function We(x,v=[]){let w;switch(x){case"Browser":w=kr((0,$.z$)());break;case"Worker":w=`${kr((0,$.z$)())}-${x}`;break;default:w=x}const D=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${ae.SDK_VERSION}/${D}`}class Bt{constructor(v,w){this.app=v,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vr(this),this.idTokenSubscription=new Vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(v,w){var D=this;return w&&(this._popupRedirectResolver=me(w)),this._initializationPromise=this.queue((0,f.Z)(function*(){var k;D._deleted||(D.persistenceManager=yield Bn.create(D,v),!D._deleted&&((null===(k=D._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(w),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,f.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w)}})()}initializeCurrentUser(v){var w=this;return(0,f.Z)(function*(){var D;let k=yield w.assertedPersistence.getCurrentUser();if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const P=null===(D=w.redirectUser)||void 0===D?void 0:D._redirectEventId,ne=null==k?void 0:k._redirectEventId,Me=yield w.tryRedirectSignIn(v);(!P||P===ne)&&(null==Me?void 0:Me.user)&&(k=Me.user)}return k?k._redirectEventId?(De(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===k._redirectEventId?w.directlySetCurrentUser(k):w.reloadAndSetCurrentUserOrClear(k)):w.reloadAndSetCurrentUserOrClear(k):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(v){var w=this;return(0,f.Z)(function*(){let D=null;try{D=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch(k){yield w._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,f.Z)(function*(){try{yield on(v)}catch(D){if("auth/network-request-failed"!==D.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var v=this;return(0,f.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,f.Z)(function*(){const D=v?(0,$.m9)(v):null;return D&&De(D.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(D&&D._clone(w))})()}_updateCurrentUser(v){var w=this;return(0,f.Z)(function*(){if(!w._deleted)return v&&De(w.tenantId===v.tenantId,w,"tenant-id-mismatch"),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(v),w.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,f.Z)(function*(){return(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null)})()}setPersistence(v){var w=this;return this.queue((0,f.Z)(function*(){yield w.assertedPersistence.setPersistence(me(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new $.LL("auth","Firebase",v())}onAuthStateChanged(v,w,D){return this.registerStateListener(this.authStateSubscription,v,w,D)}onIdTokenChanged(v,w,D){return this.registerStateListener(this.idTokenSubscription,v,w,D)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var D=this;return(0,f.Z)(function*(){const k=yield D.getOrInitRedirectPersistenceManager(w);return null===v?k.removeCurrentUser():k.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,f.Z)(function*(){if(!w.redirectPersistenceManager){const D=v&&me(v)||w._popupRedirectResolver;De(D,w,"argument-error"),w.redirectPersistenceManager=yield Bn.create(w,[me(D._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,f.Z)(function*(){var D,k;return w._isInitialized&&(yield w.queue((0,f.Z)(function*(){}))),(null===(D=w._currentUser)||void 0===D?void 0:D._redirectEventId)===v?w._currentUser:(null===(k=w.redirectUser)||void 0===k?void 0:k._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,f.Z)(function*(){if(v===w.currentUser)return w.queue((0,f.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,D,k){if(this._deleted)return()=>{};const P="function"==typeof w?w:w.next.bind(w),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return De(ne,this,"internal-error"),ne.then(()=>P(this.currentUser)),"function"==typeof w?v.addObserver(w,D,k):v.addObserver(w)}directlySetCurrentUser(v){var w=this;return(0,f.Z)(function*(){w.currentUser&&w.currentUser!==v&&(w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh()),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=We(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Rt(x){return(0,$.m9)(x)}class Vr{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,$.ne)(w=>this.observer=w)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zn(x){const v=x.indexOf(":");return v<0?"":x.substr(0,v+1)}function Fn(x){if(!x)return null;const v=Number(x);return isNaN(v)?null:v}class ki{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Yt("not implemented")}_getIdTokenResponse(v){return Yt("not implemented")}_linkToIdToken(v,w){return Yt("not implemented")}_getReauthenticationResolver(v){return Yt("not implemented")}}function It(x,v){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:resetPassword",yn(x,v))})).apply(this,arguments)}function Sn(x,v){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function wa(x,v){return gr.apply(this,arguments)}function gr(){return(gr=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:update",yn(x,v))})).apply(this,arguments)}function Ji(){return(Ji=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signInWithPassword",yn(x,v))})).apply(this,arguments)}function Br(x,v){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:sendOobCode",yn(x,v))})).apply(this,arguments)}function Lc(x,v){return yu.apply(this,arguments)}function yu(){return(yu=(0,f.Z)(function*(x,v){return Br(x,v)})).apply(this,arguments)}function Ho(x,v){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,f.Z)(function*(x,v){return Br(x,v)})).apply(this,arguments)}function sr(x,v){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(x,v){return Br(x,v)})).apply(this,arguments)}function Xi(x,v){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(x,v){return Br(x,v)})).apply(this,arguments)}function Ni(){return(Ni=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signInWithEmailLink",yn(x,v))})).apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signInWithEmailLink",yn(x,v))})).apply(this,arguments)}class Fi extends ki{constructor(v,w,D,k=null){super("password",D),this._email=v,this._password=w,this._tenantId=k}static _fromEmailAndPassword(v,w){return new Fi(v,w,"password")}static _fromEmailAndCode(v,w,D=null){return new Fi(v,w,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if((null==w?void 0:w.email)&&(null==w?void 0:w.password)){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return function(x,v){return Ji.apply(this,arguments)}(v,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(x,v){return Ni.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:Ue(v,"internal-error")}})()}_linkToIdToken(v,w){var D=this;return(0,f.Z)(function*(){switch(D.signInMethod){case"password":return Sn(v,{idToken:w,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(x,v){return go.apply(this,arguments)}(v,{idToken:w,email:D._email,oobCode:D._password});default:Ue(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Ur(x,v){return ii.apply(this,arguments)}function ii(){return(ii=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signInWithIdp",yn(x,v))})).apply(this,arguments)}class ps extends ki{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const w=new ps(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(w.idToken=v.idToken),v.accessToken&&(w.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(w.nonce=v.nonce),v.pendingToken&&(w.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(w.accessToken=v.oauthToken,w.secret=v.oauthTokenSecret):Ue("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:D,signInMethod:k}=w,P=(0,_e._T)(w,["providerId","signInMethod"]);if(!D||!k)return null;const ne=new ps(D,k);return Object.assign(ne,P),ne}_getIdTokenResponse(v){return Ur(v,this.buildRequest())}_linkToIdToken(v,w){const D=this.buildRequest();return D.idToken=w,Ur(v,D)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,Ur(v,w)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),v.postBody=(0,$.xO)(w)}return v}}function Qh(x,v){return vu.apply(this,arguments)}function vu(){return(vu=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:sendVerificationCode",yn(x,v))})).apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signInWithPhoneNumber",yn(x,v))})).apply(this,arguments)}function dl(){return(dl=(0,f.Z)(function*(x,v){const w=yield ir(x,"POST","/v1/accounts:signInWithPhoneNumber",yn(x,v));if(w.temporaryProof)throw ti(x,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const jg={USER_NOT_FOUND:"user-not-found"};function bu(){return(bu=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signInWithPhoneNumber",yn(x,Object.assign(Object.assign({},v),{operation:"REAUTH"})),jg)})).apply(this,arguments)}class mo extends ki{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,w){return new mo({verificationId:v,verificationCode:w})}static _fromTokenResponse(v,w){return new mo({phoneNumber:v,temporaryProof:w})}_getIdTokenResponse(v){return function(x,v){return cl.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,w){return function(x,v){return dl.apply(this,arguments)}(v,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function(x,v){return bu.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:w,verificationId:D,verificationCode:k}=this.params;return v&&w?{temporaryProof:v,phoneNumber:w}:{sessionInfo:D,code:k}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:w,verificationCode:D,phoneNumber:k,temporaryProof:P}=v;return D||w||k||P?new mo({verificationId:w,verificationCode:D,phoneNumber:k,temporaryProof:P}):null}}class Ca{constructor(v){var w,D,k,P,ne,Me;const Ye=(0,$.zd)((0,$.pd)(v)),et=null!==(w=Ye.apiKey)&&void 0!==w?w:null,gt=null!==(D=Ye.oobCode)&&void 0!==D?D:null,vt=function(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=Ye.mode)&&void 0!==k?k:null);De(et&&gt&&vt,"argument-error"),this.apiKey=et,this.operation=vt,this.code=gt,this.continueUrl=null!==(P=Ye.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ne=Ye.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Me=Ye.tenantId)&&void 0!==Me?Me:null}static parseLink(v){const w=function(x){const v=(0,$.zd)((0,$.pd)(x)).link,w=v?(0,$.zd)((0,$.pd)(v)).deep_link_id:null,D=(0,$.zd)((0,$.pd)(x)).deep_link_id;return(D?(0,$.zd)((0,$.pd)(D)).link:null)||D||w||v||x}(v);try{return new Ca(w)}catch(D){return null}}}let hl=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(w,D){return Fi._fromEmailAndPassword(w,D)}static credentialWithLink(w,D){const k=Ca.parseLink(D);return De(k,"argument-error"),Fi._fromEmailAndCode(w,k.code,k.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Hs{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class _o extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class $s extends _o{static credentialFromJSON(v){const w="string"==typeof v?JSON.parse(v):v;return De("providerId"in w&&"signInMethod"in w,"argument-error"),ps._fromParams(w)}credential(v){return this._credential(v)}_credential(v){return De(v.idToken||v.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return $s.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return $s.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:w,oauthAccessToken:D,oauthTokenSecret:k,pendingToken:P,nonce:ne,providerId:Me}=v;if(!D&&!k&&!w&&!P||!Me)return null;try{return new $s(Me)._credential({idToken:w,accessToken:D,rawNonce:ne,pendingToken:P})}catch(Ye){return null}}}let Xh=(()=>{class x extends _o{constructor(){super("facebook.com")}static credential(w){return ps._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return x.credential(w.oauthAccessToken)}catch(D){return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),xa=(()=>{class x extends _o{constructor(){super("google.com"),this.addScope("profile")}static credential(w,D){return ps._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:D})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:D,oauthAccessToken:k}=w;if(!D&&!k)return null;try{return x.credential(D,k)}catch(P){return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Cu=(()=>{class x extends _o{constructor(){super("github.com")}static credential(w){return ps._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return x.credential(w.oauthAccessToken)}catch(D){return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class $o extends ki{constructor(v,w){super(v,v),this.pendingToken=w}_getIdTokenResponse(v){return Ur(v,this.buildRequest())}_linkToIdToken(v,w){const D=this.buildRequest();return D.idToken=w,Ur(v,D)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,Ur(v,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:D,signInMethod:k,pendingToken:P}=w;return D&&k&&P&&D===k?new $o(D,P):null}static _create(v,w){return new $o(v,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let fl=(()=>{class x extends _o{constructor(){super("twitter.com")}static credential(w,D){return ps._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:D})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:D,oauthTokenSecret:k}=w;if(!D||!k)return null;try{return x.credential(D,k)}catch(P){return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Bc(x,v){return zo.apply(this,arguments)}function zo(){return(zo=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signUp",yn(x,v))})).apply(this,arguments)}class Hn{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,D,k=!1){return(0,f.Z)(function*(){const P=yield nt._fromIdTokenResponse(v,D,k),ne=ts(D);return new Hn({user:P,providerId:ne,_tokenResponse:D,operationType:w})})()}static _forOperation(v,w,D){return(0,f.Z)(function*(){yield v._updateTokensIfNecessary(D,!0);const k=ts(D);return new Hn({user:v,providerId:k,_tokenResponse:D,operationType:w})})()}}function ts(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function pl(){return(pl=(0,f.Z)(function*(x){var v;const w=Rt(x);if(yield w._initializationPromise,null===(v=w.currentUser)||void 0===v?void 0:v.isAnonymous)return new Hn({user:w.currentUser,providerId:null,operationType:"signIn"});const D=yield Bc(w,{returnSecureToken:!0}),k=yield Hn._fromIdTokenResponse(w,"signIn",D,!0);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}class Gr extends $.ZR{constructor(v,w,D,k){var P;super(w.code,w.message),this.operationType=D,this.user=k,this.name="FirebaseError",Object.setPrototypeOf(this,Gr.prototype),this.appName=v.name,this.code=w.code,this.tenantId=null!==(P=v.tenantId)&&void 0!==P?P:void 0,this.serverResponse=w.customData.serverResponse}static _fromErrorAndOperation(v,w,D,k){return new Gr(v,w,D,k)}}function gl(x,v,w,D){return("reauthenticate"===v?w._getReauthenticationResolver(x):w._getIdTokenResponse(x)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Gr._fromErrorAndOperation(x,P,v,D):P})}function xu(x){return new Set(x.map(({providerId:v})=>v).filter(v=>!!v))}function _l(){return(_l=(0,f.Z)(function*(x,v){const w=(0,$.m9)(x);yield En(!0,w,v);const{providerUserInfo:D}=yield hs(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[v]}),k=xu(D||[]);return w.providerData=w.providerData.filter(P=>k.has(P.providerId)),k.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function yl(x,v){return Au.apply(this,arguments)}function Au(){return(Au=(0,f.Z)(function*(x,v,w=!1){const D=yield je(x,v._linkToIdToken(x.auth,yield x.getIdToken()),w);return Hn._forOperation(x,"link",D)})).apply(this,arguments)}function En(x,v,w){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(x,v,w){yield on(v);const k=!1===x?"provider-already-linked":"no-such-provider";De(xu(v.providerData).has(w)===x,v.auth,k)})).apply(this,arguments)}function Y(x,v){return le.apply(this,arguments)}function le(){return(le=(0,f.Z)(function*(x,v,w=!1){const{auth:D}=x,k="reauthenticate";try{const P=yield je(x,gl(D,k,v,x),w);De(P.idToken,D,"internal-error");const ne=Cr(P.idToken);De(ne,D,"internal-error");const{sub:Me}=ne;return De(x.uid===Me,D,"user-mismatch"),Hn._forOperation(x,k,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ue(D,"user-mismatch"),P}})).apply(this,arguments)}function xe(x,v){return He.apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(x,v,w=!1){const D="signIn",k=yield gl(x,D,v),P=yield Hn._fromIdTokenResponse(x,D,k);return w||(yield x._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Qe(x,v){return ut.apply(this,arguments)}function ut(){return(ut=(0,f.Z)(function*(x,v){return xe(Rt(x),v)})).apply(this,arguments)}function ct(x,v){return hn.apply(this,arguments)}function hn(){return(hn=(0,f.Z)(function*(x,v){const w=(0,$.m9)(x);return yield En(!1,w,v.providerId),yl(w,v)})).apply(this,arguments)}function xr(x,v){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(x,v){return Y((0,$.m9)(x),v)})).apply(this,arguments)}function Ar(x,v){return qo.apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(x,v){return ir(x,"POST","/v1/accounts:signInWithCustomToken",yn(x,v))})).apply(this,arguments)}function vl(){return(vl=(0,f.Z)(function*(x,v){const w=Rt(x),D=yield Ar(w,{token:v,returnSecureToken:!0}),k=yield Hn._fromIdTokenResponse(w,"signIn",D);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}class zs{constructor(v,w){this.factorId=v,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(v,w){return"phoneInfo"in w?Gc._fromServerResponse(v,w):Ue(v,"internal-error")}}class Gc extends zs{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,w){return new Gc(w)}}function bl(x,v,w){var D;De((null===(D=w.url)||void 0===D?void 0:D.length)>0,x,"invalid-continue-uri"),De(void 0===w.dynamicLinkDomain||w.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(De(w.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),v.iosBundleId=w.iOS.bundleId),w.android&&(De(w.android.packageName.length>0,x,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}function ef(){return(ef=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x),k={requestType:"PASSWORD_RESET",email:v};w&&bl(D,k,w),yield Ho(D,k)})).apply(this,arguments)}function tf(){return(tf=(0,f.Z)(function*(x,v,w){yield It((0,$.m9)(x),{oobCode:v,newPassword:w})})).apply(this,arguments)}function nf(){return(nf=(0,f.Z)(function*(x,v){yield wa((0,$.m9)(x),{oobCode:v})})).apply(this,arguments)}function Hg(x,v){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,f.Z)(function*(x,v){const w=(0,$.m9)(x),D=yield It(w,{oobCode:v}),k=D.requestType;switch(De(k,w,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(D.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(D.mfaInfo,w,"internal-error");default:De(D.email,w,"internal-error")}let P=null;return D.mfaInfo&&(P=zs._fromServerResponse(Rt(w),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:P},operation:k}})).apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(x,v){const{data:w}=yield Hg((0,$.m9)(x),v);return w.email})).apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(x,v,w){const D=Rt(x),k=yield Bc(D,{returnSecureToken:!0,email:v,password:w}),P=yield Hn._fromIdTokenResponse(D,"signIn",k);return yield D._updateCurrentUser(P.user),P})).apply(this,arguments)}function vi(){return(vi=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x),k={requestType:"EMAIL_SIGNIN",email:v};De(w.handleCodeInApp,D,"argument-error"),w&&bl(D,k,w),yield sr(D,k)})).apply(this,arguments)}function $g(){return($g=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x),k=hl.credentialWithLink(v,w||Ce());return De(k._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Qe(D,k)})).apply(this,arguments)}function _v(x,v){return wl.apply(this,arguments)}function wl(){return(wl=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:createAuthUri",yn(x,v))})).apply(this,arguments)}function or(){return(or=(0,f.Z)(function*(x,v){const D={identifier:v,continueUri:ue()?Ce():"http://localhost"},{signinMethods:k}=yield _v((0,$.m9)(x),D);return k||[]})).apply(this,arguments)}function af(){return(af=(0,f.Z)(function*(x,v){const w=(0,$.m9)(x),k={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};v&&bl(w.auth,k,v);const{email:P}=yield Lc(w.auth,k);P!==x.email&&(yield x.reload())})).apply(this,arguments)}function Pi(){return(Pi=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:v};w&&bl(D.auth,P,w);const{email:ne}=yield Xi(D.auth,P);ne!==x.email&&(yield x.reload())})).apply(this,arguments)}function C0(x,v){return zc.apply(this,arguments)}function zc(){return(zc=(0,f.Z)(function*(x,v){return St(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function lf(){return(lf=(0,f.Z)(function*(x,{displayName:v,photoURL:w}){if(void 0===v&&void 0===w)return;const D=(0,$.m9)(x),P={idToken:yield D.getIdToken(),displayName:v,photoUrl:w,returnSecureToken:!0},ne=yield je(D,C0(D.auth,P));D.displayName=ne.displayName||null,D.photoURL=ne.photoUrl||null;const Me=D.providerData.find(({providerId:Ye})=>"password"===Ye);Me&&(Me.displayName=D.displayName,Me.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ne)})).apply(this,arguments)}function df(x,v,w){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,f.Z)(function*(x,v,w){const{auth:D}=x,P={idToken:yield x.getIdToken(),returnSecureToken:!0};v&&(P.email=v),w&&(P.password=w);const ne=yield je(x,Sn(D,P));yield x._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Ta{constructor(v,w,D={}){this.isNewUser=v,this.providerId=w,this.profile=D}}class Su extends Ta{constructor(v,w,D,k){super(v,w,D),this.username=k}}class Wg extends Ta{constructor(v,w){super(v,"facebook.com",w)}}class yv extends Su{constructor(v,w){super(v,"github.com",w,"string"==typeof(null==w?void 0:w.login)?null==w?void 0:w.login:null)}}class Yg extends Ta{constructor(v,w){super(v,"google.com",w)}}class vv extends Su{constructor(v,w,D){super(v,"twitter.com",w,D)}}function Du(x){const{user:v,_tokenResponse:w}=x;return v.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function(x){var v,w;if(!x)return null;const{providerId:D}=x,k=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},P=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!D&&(null==x?void 0:x.idToken)){const ne=null===(w=null===(v=Cr(x.idToken))||void 0===v?void 0:v.firebase)||void 0===w?void 0:w.sign_in_provider;if(ne)return new Ta(P,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!D)return null;switch(D){case"facebook.com":return new Wg(P,k);case"github.com":return new yv(P,k);case"google.com":return new Yg(P,k);case"twitter.com":return new vv(P,k,x.screenName||null);case"custom":case"anonymous":return new Ta(P,null);default:return new Ta(P,D,k)}}(w)}class Ma{constructor(v,w){this.type=v,this.credential=w}static _fromIdtoken(v){return new Ma("enroll",v)}static _fromMfaPendingCredential(v){return new Ma("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var w,D;if(null==v?void 0:v.multiFactorSession){if(null===(w=v.multiFactorSession)||void 0===w?void 0:w.pendingCredential)return Ma._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null===(D=v.multiFactorSession)||void 0===D?void 0:D.idToken)return Ma._fromIdtoken(v.multiFactorSession.idToken)}return null}}class hf{constructor(v,w,D){this.session=v,this.hints=w,this.signInResolver=D}static _fromError(v,w){const D=Rt(v),k=(w.serverResponse.mfaInfo||[]).map(ne=>zs._fromServerResponse(D,ne));De(w.serverResponse.mfaPendingCredential,D,"internal-error");const P=Ma._fromMfaPendingCredential(w.serverResponse.mfaPendingCredential);return new hf(P,k,function(){var ne=(0,f.Z)(function*(Me){const Ye=yield Me._process(D,P);delete w.serverResponse.mfaInfo,delete w.serverResponse.mfaPendingCredential;const et=Object.assign(Object.assign({},w.serverResponse),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(w.operationType){case"signIn":const gt=yield Hn._fromIdTokenResponse(D,w.operationType,et);return yield D._updateCurrentUser(gt.user),gt;case"reauthenticate":return De(w.user,D,"internal-error"),Hn._forOperation(w.user,w.operationType,et);default:Ue(D,"internal-error")}});return function(Me){return ne.apply(this,arguments)}}())}resolveSignIn(v){var w=this;return(0,f.Z)(function*(){return w.signInResolver(v)})()}}function Wc(x,v){return St(x,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:x.tenantId},v))}class Iu{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(D=>zs._fromServerResponse(v.auth,D)))})}static _fromUser(v){return new Iu(v)}getSession(){var v=this;return(0,f.Z)(function*(){return Ma._fromIdtoken(yield v.user.getIdToken())})()}enroll(v,w){var D=this;return(0,f.Z)(function*(){const k=v,P=yield D.getSession(),ne=yield je(D.user,k._process(D.user.auth,P,w));return yield D.user._updateTokensIfNecessary(ne),D.user.reload()})()}unenroll(v){var w=this;return(0,f.Z)(function*(){const D="string"==typeof v?v:v.uid,k=yield w.user.getIdToken(),P=yield je(w.user,function(x,v){return St(x,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:x.tenantId},v))}(w.user.auth,{idToken:k,mfaEnrollmentId:D}));w.enrolledFactors=w.enrolledFactors.filter(({uid:ne})=>ne!==D),yield w.user._updateTokensIfNecessary(P);try{yield w.user.reload()}catch(ne){if("auth/user-token-expired"!==ne.code)throw ne}})()}}const Kc=new WeakMap,ys="__sak";class Tu{constructor(v,w){this.storage=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(ys,"1"),this.storage.removeItem(ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(v){return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}}const xl=(()=>{class x extends Tu{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const x=(0,$.z$)();return fs(x)||Un(x)}()&&function(){try{return!(!window||window===window.top)}catch(x){return!1}}(),this.fallbackToPolling=Zh(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(w){for(const D of Object.keys(this.listeners)){const k=this.storage.getItem(D),P=this.localCache[D];k!==P&&w(D,P,k)}}onStorageEvent(w,D=!1){if(!w.key)return void this.forAllChangedKeys((Me,Ye,et)=>{this.notifyListeners(Me,et)});const k=w.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(k);if(w.newValue!==Me)null!==w.newValue?this.storage.setItem(k,w.newValue):this.storage.removeItem(k);else if(this.localCache[k]===w.newValue&&!D)return}const P=()=>{const Me=this.storage.getItem(k);!D&&this.localCache[k]===Me||this.notifyListeners(k,Me)},ne=this.storage.getItem(k);(0,$.w1)()&&10===document.documentMode&&ne!==w.newValue&&w.newValue!==w.oldValue?setTimeout(P,10):P()}notifyListeners(w,D){this.localCache[w]=D;const k=this.listeners[w];if(k)for(const P of Array.from(k))P(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,D,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:D,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(D)}_removeListener(w,D){this.listeners[w]&&(this.listeners[w].delete(D),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,D){var k=()=>super._set,P=this;return(0,f.Z)(function*(){yield k().call(P,w,D),P.localCache[w]=JSON.stringify(D)})()}_get(w){var D=()=>super._get,k=this;return(0,f.Z)(function*(){const P=yield D().call(k,w);return k.localCache[w]=JSON.stringify(P),P})()}_remove(w){var D=()=>super._remove,k=this;return(0,f.Z)(function*(){yield D().call(k,w),delete k.localCache[w]})()}}return x.type="LOCAL",x})(),Oa=(()=>{class x extends Tu{constructor(){super(window.sessionStorage,"SESSION")}_addListener(w,D){}_removeListener(w,D){}}return x.type="SESSION",x})();let Zc=(()=>{class x{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const D=this.receivers.find(P=>P.isListeningto(w));if(D)return D;const k=new x(w);return this.receivers.push(k),k}isListeningto(w){return this.eventTarget===w}handleEvent(w){var D=this;return(0,f.Z)(function*(){const k=w,{eventId:P,eventType:ne,data:Me}=k.data,Ye=D.handlersMap[ne];if(!(null==Ye?void 0:Ye.size))return;k.ports[0].postMessage({status:"ack",eventId:P,eventType:ne});const et=Array.from(Ye).map(function(){var vt=(0,f.Z)(function*(_r){return _r(k.origin,Me)});return function(_r){return vt.apply(this,arguments)}}()),gt=yield function(x){return Promise.all(x.map(function(){var v=(0,f.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(D){return{fulfilled:!1,reason:D}}});return function(w){return v.apply(this,arguments)}}()))}(et);k.ports[0].postMessage({status:"done",eventId:P,eventType:ne,response:gt})})()}_subscribe(w,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(D)}_unsubscribe(w,D){this.handlersMap[w]&&D&&this.handlersMap[w].delete(D),(!D||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function ka(x="",v=10){let w="";for(let D=0;D<v;D++)w+=Math.floor(10*Math.random());return x+w}class qs{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,D=50){var k=this;return(0,f.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ne,Me;return new Promise((Ye,et)=>{const gt=ka("",20);P.port1.start();const vt=setTimeout(()=>{et(new Error("unsupported_event"))},D);Me={messageChannel:P,onMessage(_r){const ws=_r;if(ws.data.eventId===gt)switch(ws.data.status){case"ack":clearTimeout(vt),ne=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Ye(ws.data.response);break;default:clearTimeout(vt),clearTimeout(ne),et(new Error("invalid_response"))}}},k.handlers.add(Me),P.port1.addEventListener("message",Me.onMessage),k.target.postMessage({eventType:v,eventId:gt,data:w},[P.port2])}).finally(()=>{Me&&k.removeMessageHandler(Me)})})()}}function $n(){return window}function Al(){return void 0!==$n().WorkerGlobalScope&&"function"==typeof $n().importScripts}function Qg(){return(Qg=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(x){return null}})).apply(this,arguments)}const Ou="firebaseLocalStorageDb",ku="firebaseLocalStorage",Xg="fbase_key";class Qc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function ff(x,v){return x.transaction([ku],v?"readwrite":"readonly").objectStore(ku)}function Jc(){const x=indexedDB.open(Ou,1);return new Promise((v,w)=>{x.addEventListener("error",()=>{w(x.error)}),x.addEventListener("upgradeneeded",()=>{const D=x.result;try{D.createObjectStore(ku,{keyPath:Xg})}catch(k){w(k)}}),x.addEventListener("success",(0,f.Z)(function*(){const D=x.result;D.objectStoreNames.contains(ku)?v(D):(D.close(),yield function(){const x=indexedDB.deleteDatabase(Ou);return new Qc(x).toPromise()}(),v(yield Jc()))}))})}function Rn(x,v,w){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,f.Z)(function*(x,v,w){const D=ff(x,!0).put({[Xg]:v,value:w});return new Qc(D).toPromise()})).apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(x,v){const w=ff(x,!1).get(v),D=yield new Qc(w).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function pf(x,v){const w=ff(x,!0).delete(v);return new Qc(w).toPromise()}const vs=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,f.Z)(function*(){return w.db||(w.db=yield Jc()),w.db})()}_withRetries(w){var D=this;return(0,f.Z)(function*(){let k=0;for(;;)try{const P=yield D._openDb();return yield w(P)}catch(P){if(k++>3)throw P;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,f.Z)(function*(){return Al()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,f.Z)(function*(){w.receiver=Zc._getInstance(Al()?self:null),w.receiver._subscribe("keyChanged",function(){var D=(0,f.Z)(function*(k,P){return{keyProcessed:(yield w._poll()).includes(P.key)}});return function(k,P){return D.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var D=(0,f.Z)(function*(k,P){return["keyChanged"]});return function(k,P){return D.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,f.Z)(function*(){var D,k;if(w.activeServiceWorker=yield function(){return Qg.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new qs(w.activeServiceWorker);const P=yield w.sender._send("ping",{},800);!P||(null===(D=P[0])||void 0===D?void 0:D.fulfilled)&&(null===(k=P[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var D=this;return(0,f.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var x;return(null===(x=null==navigator?void 0:navigator.serviceWorker)||void 0===x?void 0:x.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:w},D.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Jc();return yield Rn(w,ys,"1"),yield pf(w,ys),!0}catch(w){}return!1})()}_withPendingWrite(w){var D=this;return(0,f.Z)(function*(){D.pendingWrites++;try{yield w()}finally{D.pendingWrites--}})()}_set(w,D){var k=this;return(0,f.Z)(function*(){return k._withPendingWrite((0,f.Z)(function*(){return yield k._withRetries(P=>Rn(P,w,D)),k.localCache[w]=D,k.notifyServiceWorker(w)}))})()}_get(w){var D=this;return(0,f.Z)(function*(){const k=yield D._withRetries(P=>function(x,v){return bt.apply(this,arguments)}(P,w));return D.localCache[w]=k,k})()}_remove(w){var D=this;return(0,f.Z)(function*(){return D._withPendingWrite((0,f.Z)(function*(){return yield D._withRetries(k=>pf(k,w)),delete D.localCache[w],D.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,f.Z)(function*(){const D=yield w._withRetries(ne=>{const Me=ff(ne,!1).getAll();return new Qc(Me).toPromise()});if(!D)return[];if(0!==w.pendingWrites)return[];const k=[],P=new Set;for(const{fbase_key:ne,value:Me}of D)P.add(ne),JSON.stringify(w.localCache[ne])!==JSON.stringify(Me)&&(w.notifyListeners(ne,Me),k.push(ne));for(const ne of Object.keys(w.localCache))w.localCache[ne]&&!P.has(ne)&&(w.notifyListeners(ne,null),k.push(ne));return k})()}notifyListeners(w,D){this.localCache[w]=D;const k=this.listeners[w];if(k)for(const P of Array.from(k))P(D)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(D)}_removeListener(w,D){this.listeners[w]&&(this.listeners[w].delete(D),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function Ws(x,v){return St(x,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:x.tenantId},v))}function mf(){return(mf=(0,f.Z)(function*(x){return(yield St(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _f(x){return new Promise((v,w)=>{const D=document.createElement("script");D.setAttribute("src",x),D.onload=v,D.onerror=k=>{const P=Xe("internal-error");P.customData=k,w(P)},D.type="text/javascript",D.charset="UTF-8",function(){var x,v;return null!==(v=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==v?v:document}().appendChild(D)})}function vo(x){return`__${x}${Math.floor(1e6*Math.random())}`}const Jn=1e12;class Li{constructor(v){this.auth=v,this.counter=Jn,this._widgets=new Map}render(v,w){const D=this.counter;return this._widgets.set(D,new Dl(v,this.auth.name,w||{})),this.counter++,D}reset(v){var w;const D=v||Jn;null===(w=this._widgets.get(D))||void 0===w||w.delete(),this._widgets.delete(D)}getResponse(v){var w;return(null===(w=this._widgets.get(v||Jn))||void 0===w?void 0:w.getResponse())||""}execute(v){var w=this;return(0,f.Z)(function*(){var D;return null===(D=w._widgets.get(v||Jn))||void 0===D||D.execute(),""})()}}class Dl{constructor(v,w,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof v?document.getElementById(v):v;De(k,"argument-error",{appName:w}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(x){const v=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)v.push(w.charAt(Math.floor(Math.random()*w.length)));return v.join("")}();const{callback:v,"expired-callback":w}=this.params;if(v)try{v(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wo=vo("rcb"),td=new lt(3e4,6e4);class Ev{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!$n().grecaptcha}load(v,w=""){return De((x=w).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x),v,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve($n().grecaptcha):new Promise((D,k)=>{const P=$n().setTimeout(()=>{k(Xe(v,"network-request-failed"))},td.get());$n()[Wo]=()=>{$n().clearTimeout(P),delete $n()[Wo];const Me=$n().grecaptcha;if(!Me)return void k(Xe(v,"internal-error"));const Ye=Me.render;Me.render=(et,gt)=>{const vt=Ye(et,gt);return this.counter++,vt},this.hostLanguage=w,D(Me)},_f(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Wo,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(P),k(Xe(v,"internal-error"))})});var x}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){return!!$n().grecaptcha&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nm{load(v){return(0,f.Z)(function*(){return new Li(v)})()}clearedOneInstance(){}}const rm="recaptcha",im={theme:"light",type:"image"};class gn{constructor(v,w=Object.assign({},im),D){this.parameters=w,this.type=rm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rt(D),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof v?document.getElementById(v):v;De(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nm:new Ev,this.validateStartingState()}verify(){var v=this;return(0,f.Z)(function*(){v.assertNotDestroyed();const w=yield v.render(),D=v.getAssertedRecaptcha();return D.getResponse(w)||new Promise(P=>{const ne=Me=>{!Me||(v.tokenChangeListeners.delete(ne),P(Me))};v.tokenChangeListeners.add(ne),v.isInvisible&&D.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return w=>{if(this.tokenChangeListeners.forEach(D=>D(w)),"function"==typeof v)v(w);else if("string"==typeof v){const D=$n()[v];"function"==typeof D&&D(w)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,f.Z)(function*(){if(yield v.init(),!v.widgetId){let w=v.container;if(!v.isInvisible){const D=document.createElement("div");w.appendChild(D),w=D}v.widgetId=v.getAssertedRecaptcha().render(w,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,f.Z)(function*(){De(ue()&&!Al(),v.auth,"internal-error"),yield function(){let x=null;return new Promise(v=>{"complete"!==document.readyState?(x=()=>v(),window.addEventListener("load",x)):v()}).catch(v=>{throw x&&window.removeEventListener("load",x),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const w=yield function(x){return mf.apply(this,arguments)}(v.auth);De(w,v.auth,"internal-error"),v.parameters.sitekey=w})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Lu{constructor(v,w){this.verificationId=v,this.onConfirmation=w}confirm(v){const w=mo._fromVerification(this.verificationId,v);return this.onConfirmation(w)}}function yf(){return(yf=(0,f.Z)(function*(x,v,w){const D=Rt(x),k=yield rd(D,v,(0,$.m9)(w));return new Lu(k,P=>Qe(D,P))})).apply(this,arguments)}function vf(){return(vf=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x);yield En(!1,D,"phone");const k=yield rd(D.auth,v,(0,$.m9)(w));return new Lu(k,P=>ct(D,P))})).apply(this,arguments)}function nd(){return(nd=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x),k=yield rd(D.auth,v,(0,$.m9)(w));return new Lu(k,P=>xr(D,P))})).apply(this,arguments)}function rd(x,v,w){return id.apply(this,arguments)}function id(){return(id=(0,f.Z)(function*(x,v,w){var D;const k=yield w.verify();try{let P;if(De("string"==typeof k,x,"argument-error"),De(w.type===rm,x,"argument-error"),P="string"==typeof v?{phoneNumber:v}:v,"session"in P){const ne=P.session;if("phoneNumber"in P)return De("enroll"===ne.type,x,"internal-error"),(yield Wc(x,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{De("signin"===ne.type,x,"internal-error");const Me=(null===(D=P.multiFactorHint)||void 0===D?void 0:D.uid)||P.multiFactorUid;return De(Me,x,"missing-multi-factor-info"),(yield Ws(x,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Qh(x,{phoneNumber:P.phoneNumber,recaptchaToken:k});return ne}}finally{w._reset()}})).apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(x,v){yield yl((0,$.m9)(x),v)})).apply(this,arguments)}let Vu=(()=>{class x{constructor(w){this.providerId=x.PROVIDER_ID,this.auth=Rt(w)}verifyPhoneNumber(w,D){return rd(this.auth,w,(0,$.m9)(D))}static credential(w,D){return mo._fromVerification(w,D)}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:D,temporaryProof:k}=w;return D&&k?mo._fromTokenResponse(D,k):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function Cn(x,v){return v?me(v):(De(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class wo extends ki{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Ur(v,this._buildIdpRequest())}_linkToIdToken(v,w){return Ur(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return Ur(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function Bu(x){return xe(x.auth,new wo(x),x.bypassAuthState)}function Dv(x){const{auth:v,user:w}=x;return De(w,v,"internal-error"),Y(w,new wo(x),x.bypassAuthState)}function om(x){return vn.apply(this,arguments)}function vn(){return(vn=(0,f.Z)(function*(x){const{auth:v,user:w}=x;return De(w,v,"internal-error"),yl(w,new wo(x),x.bypassAuthState)})).apply(this,arguments)}class mr{constructor(v,w,D,k,P=!1){this.auth=v,this.resolver=D,this.user=k,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,f.Z)(function*(D,k){v.pendingPromise={resolve:D,reject:k};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(P){v.reject(P)}});return function(D,k){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,f.Z)(function*(){const{urlResponse:D,sessionId:k,postBody:P,tenantId:ne,error:Me,type:Ye}=v;if(Me)return void w.reject(Me);const et={auth:w.auth,requestUri:D,sessionId:k,tenantId:ne||void 0,postBody:P||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ye)(et))}catch(gt){w.reject(gt)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return Bu;case"linkViaPopup":case"linkViaRedirect":return om;case"reauthViaPopup":case"reauthViaRedirect":return Dv;default:Ue(this.auth,"internal-error")}}resolve(v){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uu=new lt(2e3,1e4);function Eo(){return(Eo=(0,f.Z)(function*(x,v,w){const D=Rt(x);De(v instanceof Hs,x,"argument-error");const k=Cn(D,w);return new Gu(D,"signInViaPopup",v,k).executeNotNull()})).apply(this,arguments)}function bf(){return(bf=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x);De(v instanceof Hs,D.auth,"argument-error");const k=Cn(D.auth,w);return new Gu(D.auth,"reauthViaPopup",v,k,D).executeNotNull()})).apply(this,arguments)}function lm(){return(lm=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x);De(v instanceof Hs,D.auth,"argument-error");const k=Cn(D.auth,w);return new Gu(D.auth,"linkViaPopup",v,k,D).executeNotNull()})).apply(this,arguments)}let Gu=(()=>{class x extends mr{constructor(w,D,k,P,ne){super(w,D,P,ne),this.provider=k,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var w=this;return(0,f.Z)(function*(){const D=yield w.execute();return De(D,w.auth,"internal-error"),D})()}onExecution(){var w=this;return(0,f.Z)(function*(){Ct(1===w.filter.length,"Popup operations only handle one event");const D=ka();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],D),w.authWindow.associatedEvent=D,w.resolver._originValidation(w.auth).catch(k=>{w.reject(k)}),w.resolver._isIframeWebStorageSupported(w.auth,k=>{k||w.reject(Xe(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const w=()=>{var D,k;this.pollId=(null===(k=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,Uu.get())};w()}}return x.currentPopupAction=null,x})();const Sr=new Map;class Ml extends mr{constructor(v,w,D=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,D),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,f.Z)(function*(){let D=Sr.get(w.auth._key());if(!D){try{const P=(yield function(x,v){return sd.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;D=()=>Promise.resolve(P)}catch(k){D=()=>Promise.reject(k)}Sr.set(w.auth._key(),D)}return D()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,D=this;return(0,f.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(D,v);if("unknown"!==v.type){if(v.eventId){const k=yield D.auth._redirectUserForId(v.eventId);if(k)return D.user=k,w().call(D,v);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function sd(){return(sd=(0,f.Z)(function*(x,v){const w=um(v),D="true"===(yield od(x)._get(w));return yield od(x)._remove(w),D})).apply(this,arguments)}function Pa(x,v){return wf.apply(this,arguments)}function wf(){return(wf=(0,f.Z)(function*(x,v){return od(x)._set(um(v),"true")})).apply(this,arguments)}function od(x){return me(x._redirectPersistence)}function um(x){return Vt("pendingRedirect",x.config.apiKey,x.name)}function ad(){return(ad=(0,f.Z)(function*(x,v,w){const D=Rt(x);De(v instanceof Hs,x,"argument-error");const k=Cn(D,w);return yield Pa(k,D),k._openRedirect(D,v,"signInViaRedirect")})).apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x);De(v instanceof Hs,D.auth,"argument-error");const k=Cn(D.auth,w);yield Pa(k,D.auth);const P=yield Qo(D);return k._openRedirect(D.auth,v,"reauthViaRedirect",P)})).apply(this,arguments)}function Ol(){return(Ol=(0,f.Z)(function*(x,v,w){const D=(0,$.m9)(x);De(v instanceof Hs,D.auth,"argument-error");const k=Cn(D.auth,w);yield En(!1,D,v.providerId),yield Pa(k,D.auth);const P=yield Qo(D);return k._openRedirect(D.auth,v,"linkViaRedirect",P)})).apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(x,v){return yield Rt(x)._initializationPromise,Co(x,v,!1)})).apply(this,arguments)}function Co(x,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,f.Z)(function*(x,v,w=!1){const D=Rt(x),k=Cn(D,v),ne=yield new Ml(D,k,w).execute();return ne&&!w&&(delete ne.user._redirectEventId,yield D._persistUserIfCurrent(ne.user),yield D._setRedirectUser(null,v)),ne})).apply(this,arguments)}function Qo(x){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,f.Z)(function*(x){const v=ka(`${x.uid}:::`);return x._redirectEventId=v,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),v})).apply(this,arguments)}class Ef{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(v,D)&&(w=!0,this.sendToConsumer(v,D),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cd(x);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var D;if(v.error&&!cd(v)){const k=(null===(D=v.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";w.onError(Xe(this.auth,k))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const D=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&D}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pn(v))}saveEventToCache(v){this.cachedEventUids.add(Pn(v)),this.lastProcessedEventTime=Date.now()}}function Pn(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(v=>v).join("-")}function cd({type:x,error:v}){return"unknown"===x&&"auth/no-auth-event"===(null==v?void 0:v.code)}function Ys(x){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(x,v={}){return St(x,"GET","/v1/projects",v)})).apply(this,arguments)}const xf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hm=/^https?/;function Tv(){return(Tv=(0,f.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:v}=yield Ys(x);for(const w of v)try{if(Zs(w))return}catch(D){}Ue(x,"unauthorized-domain")})).apply(this,arguments)}function Zs(x){const v=Ce(),{protocol:w,hostname:D}=new URL(v);if(x.startsWith("chrome-extension://")){const ne=new URL(x);return""===ne.hostname&&""===D?"chrome-extension:"===w&&x.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&ne.hostname===D}if(!hm.test(w))return!1;if(xf.test(x))return D===x;const k=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(D)}const rs=new lt(3e4,6e4);function kl(){const x=$n().___jsl;if(null==x?void 0:x.H)for(const v of Object.keys(x.H))if(x.H[v].r=x.H[v].r||[],x.H[v].L=x.H[v].L||[],x.H[v].r=[...x.H[v].L],x.CP)for(let w=0;w<x.CP.length;w++)x.CP[w]=null}let dd=null;function Af(x){return dd=dd||function(x){return new Promise((v,w)=>{var D,k,P;function ne(){kl(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{kl(),w(Xe(x,"network-request-failed"))},timeout:rs.get()})}if(null===(k=null===(D=$n().gapi)||void 0===D?void 0:D.iframes)||void 0===k?void 0:k.Iframe)v(gapi.iframes.getContext());else{if(!(null===(P=$n().gapi)||void 0===P?void 0:P.load)){const Me=vo("iframefcb");return $n()[Me]=()=>{gapi.load?ne():w(Xe(x,"network-request-failed"))},_f(`https://apis.google.com/js/api.js?onload=${Me}`)}ne()}}).catch(v=>{throw dd=null,v})}(x),dd}const Sf=new lt(5e3,15e3),pm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Mv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nl(x){const v=x.config;De(v.authDomain,x,"auth-domain-config-required");const w=v.emulator?at(v,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,D={apiKey:v.apiKey,appName:x.name,v:ae.SDK_VERSION},k=Mv.get(x.config.apiHost);k&&(D.eid=k);const P=x._getFrameworks();return P.length&&(D.fw=P.join(",")),`${w}?${(0,$.xO)(D).slice(1)}`}function Tf(){return(Tf=(0,f.Z)(function*(x){const v=yield Af(x),w=$n().gapi;return De(w,x,"internal-error"),v.open({where:document.body,url:Nl(x),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pm,dontclear:!0},D=>new Promise(function(){var k=(0,f.Z)(function*(P,ne){yield D.restyle({setHideOnLeave:!1});const Me=Xe(x,"network-request-failed"),Ye=$n().setTimeout(()=>{ne(Me)},Sf.get());function et(){$n().clearTimeout(Ye),P(D)}D.ping(et).then(et,()=>{ne(Me)})});return function(P,ne){return k.apply(this,arguments)}}()))})).apply(this,arguments)}const XT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rf{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(v){}}}function Ll(x,v,w,D,k,P){De(x.config.authDomain,x,"auth-domain-config-required"),De(x.config.apiKey,x,"invalid-api-key");const ne={apiKey:x.config.apiKey,appName:x.name,authType:w,redirectUrl:D,v:ae.SDK_VERSION,eventId:k};if(v instanceof Hs){v.setDefaultLanguage(x.languageCode),ne.providerId=v.providerId||"",(0,$.xb)(v.getCustomParameters())||(ne.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Ye,et]of Object.entries(P||{}))ne[Ye]=et}if(v instanceof _o){const Ye=v.getScopes().filter(et=>""!==et);Ye.length>0&&(ne.scopes=Ye.join(","))}x.tenantId&&(ne.tid=x.tenantId);const Me=ne;for(const Ye of Object.keys(Me))void 0===Me[Ye]&&delete Me[Ye];return`${function({config:x}){return x.emulator?at(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,$.xO)(Me).slice(1)}`}const pd="webStorageSupport";class md extends class{constructor(v){this.factorId=v}_process(v,w,D){switch(w.type){case"enroll":return this._finalizeEnroll(v,w.credential,D);case"signin":return this._finalizeSignIn(v,w.credential);default:return Yt("unexpected MultiFactorSessionType")}}}{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new md(v)}_finalizeEnroll(v,w,D){return function(x,v){return St(x,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:x.tenantId},v))}(v,{idToken:w,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,w){return function(x,v){return St(x,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:x.tenantId},v))}(v,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Nf{constructor(){}static assertion(v){return md._fromCredential(v)}}var x;class Fv{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,f.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(D=>{var k;v((null===(k=D)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);!w||(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hr(){return window}function Hu(){return(Hu=(0,f.Z)(function*(x,v,w){var D;const{BuildInfo:k}=Hr();Ct(v.sessionId,"AuthEvent did not contain a session ID");const P=yield _m(v.sessionId),ne={};return Un()?ne.ibi=k.packageName:Us()?ne.apn=k.packageName:Ue(x,"operation-not-supported-in-this-environment"),k.displayName&&(ne.appDisplayName=k.displayName),ne.sessionId=P,Ll(x,w,v.type,void 0,null!==(D=v.eventId)&&void 0!==D?D:void 0,ne)})).apply(this,arguments)}function _d(){return(_d=(0,f.Z)(function*(x){const{BuildInfo:v}=Hr(),w={};Un()?w.iosBundleId=v.packageName:Us()?w.androidPackageName=v.packageName:Ue(x,"operation-not-supported-in-this-environment"),yield Ys(x,w)})).apply(this,arguments)}function $u(){return($u=(0,f.Z)(function*(x,v,w){const{cordova:D}=Hr();let k=()=>{};try{yield new Promise((P,ne)=>{let Me=null;function Ye(){var vt;P();const _r=null===(vt=D.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof _r&&_r(),"function"==typeof(null==w?void 0:w.close)&&w.close()}function et(){Me||(Me=window.setTimeout(()=>{ne(Xe(x,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===(null==document?void 0:document.visibilityState)&&et()}v.addPassiveListener(Ye),document.addEventListener("resume",et,!1),Us()&&document.addEventListener("visibilitychange",gt,!1),k=()=>{v.removePassiveListener(Ye),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",gt,!1),Me&&window.clearTimeout(Me)}})}finally{k()}})).apply(this,arguments)}function _m(x){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,f.Z)(function*(x){const v=Gv(x),w=yield crypto.subtle.digest("SHA-256",v);return Array.from(new Uint8Array(w)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gv(x){if(Ct(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(x);const v=new ArrayBuffer(x.length),w=new Uint8Array(v);for(let D=0;D<x.length;D++)w[D]=x.charCodeAt(D);return w}x="Browser",(0,ae._registerComponent)(new re.wA("auth",(v,{options:w})=>{const D=v.getProvider("app").getImmediate(),{apiKey:k,authDomain:P}=D.options;return(ne=>{De(k&&!k.includes(":"),"invalid-api-key",{appName:ne.name}),De(!(null==P?void 0:P.includes(":")),"argument-error",{appName:ne.name});const Me={apiKey:k,authDomain:P,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:We(x)},Ye=new Bt(ne,Me);return function(x,v){const w=(null==v?void 0:v.persistence)||[],D=(Array.isArray(w)?w:[w]).map(me);(null==v?void 0:v.errorMap)&&x._updateErrorMap(v.errorMap),x._initializeWithPersistence(D,null==v?void 0:v.popupRedirectResolver)}(Ye,w),Ye})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,D)=>{v.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new re.wA("auth-internal",v=>{const w=Rt(v.getProvider("auth").getImmediate());return new Fv(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)("@firebase/auth","0.17.1",void 0);class vm extends Ef{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(v=>{this.resolveInialized=v})}addPassiveListener(v){this.passiveListeners.add(v)}removePassiveListener(v){this.passiveListeners.delete(v)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(v){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(v)),super.onEvent(v)}initialized(){var v=this;return(0,f.Z)(function*(){yield v.initPromise})()}}function bs(x){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,f.Z)(function*(x){const v=yield yd()._get(Bf(x));return v&&(yield yd()._remove(Bf(x))),v})).apply(this,arguments)}function Vf(){const x=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<20;w++){const D=Math.floor(Math.random()*v.length);x.push(v.charAt(D))}return x.join("")}function yd(){return me(xl)}function Bf(x){return Vt("authEvent",x.config.apiKey,x.name)}function qu(x){if(!(null==x?void 0:x.includes("?")))return{};const[v,...w]=x.split("?");return(0,$.zd)(w.join("?"))}function R0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xe("no-auth-event")}}function $r(){var x;return(null===(x=null==self?void 0:self.location)||void 0===x?void 0:x.protocol)||null}function lr(x=(0,$.z$)()){return!("file:"!==$r()&&"ionic:"!==$r()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Em(){try{const x=self.localStorage,v=ka();if(x)return x.setItem(v,"1"),x.removeItem(v),!function(x=(0,$.z$)()){return(0,$.w1)()&&11===(null==document?void 0:document.documentMode)||function(x=(0,$.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,$.hl)()}catch(x){return jf()&&(0,$.hl)()}return!1}function jf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gl(){return("http:"===$r()||"https:"===$r()||(0,$.ru)()||lr())&&!((0,$.b$)()||(0,$.UG)())&&Em()&&!jf()}function Wu(){return lr()&&"undefined"!=typeof document}function bd(){return(bd=(0,f.Z)(function*(){return!!Wu()&&new Promise(x=>{const v=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(v),x(!0)})})})).apply(this,arguments)}const ai={LOCAL:"local",NONE:"none",SESSION:"session"},li=De,ea="persistence";function Hf(x){return xo.apply(this,arguments)}function xo(){return(xo=(0,f.Z)(function*(x){yield x._initializationPromise;const v=wd(),w=Vt(ea,x.config.apiKey,x.name);(null==v?void 0:v.sessionStorage)&&v.sessionStorage.setItem(w,x._getPersistence())})).apply(this,arguments)}function wd(){return"undefined"!=typeof window?window:null}const xm=De;class Ao{constructor(){this.browserResolver=me(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oa,this._completeRedirectFn=Co}_openPopup(v,w,D,k){var P=this;return(0,f.Z)(function*(){var ne;Ct(null===(ne=P.eventManagers[v._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Me=Ll(v,w,D,Ce(),k);return function(x,v,w,D=500,k=600){const P=Math.max((window.screen.availHeight-k)/2,0).toString(),ne=Math.max((window.screen.availWidth-D)/2,0).toString();let Me="";const Ye=Object.assign(Object.assign({},XT),{width:D.toString(),height:k.toString(),top:P,left:ne}),et=(0,$.z$)().toLowerCase();w&&(Me=Bs(et)?"_blank":w),pr(et)&&(v=v||"http://localhost",Ye.scrollbars="yes");const gt=Object.entries(Ye).reduce((_r,[ws,xd])=>`${_r}${ws}=${xd},`,"");if(function(x=(0,$.z$)()){var v;return Un(x)&&!!(null===(v=window.navigator)||void 0===v?void 0:v.standalone)}(et)&&"_self"!==Me)return function(x,v){const w=document.createElement("a");w.href=x,w.target=v;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(D)}(v||"",Me),new Rf(null);const vt=window.open(v||"",Me,gt);De(vt,x,"popup-blocked");try{vt.focus()}catch(_r){}return new Rf(vt)}(v,Me,ka())})()}_openRedirect(v,w,D,k){var P=this;return(0,f.Z)(function*(){return yield P._originValidation(v),x=Ll(v,w,D,Ce(),k),$n().location.href=x,new Promise(()=>{});var x})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:k,promise:P}=this.eventManagers[w];return k?Promise.resolve(k):(Ct(P,"If manager is not set, promise should be"),P)}const D=this.initAndGetManager(v);return this.eventManagers[w]={promise:D},D}initAndGetManager(v){var w=this;return(0,f.Z)(function*(){const D=yield function(x){return Tf.apply(this,arguments)}(v),k=new Ef(v);return D.register("authEvent",P=>(De(null==P?void 0:P.authEvent,v,"invalid-auth-event"),{status:k.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:k},w.iframes[v._key()]=D,k})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(pd,{type:pd},k=>{var P;const ne=null===(P=null==k?void 0:k[0])||void 0===P?void 0:P[pd];void 0!==ne&&w(!!ne),Ue(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function(x){return Tv.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return Zh()||fs()||Un()}}),this.cordovaResolver=me(class{constructor(){this._redirectPersistence=Oa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Co}_initialize(v){var w=this;return(0,f.Z)(function*(){const D=v._key();let k=w.eventManagers.get(D);return k||(k=new vm(v),w.eventManagers.set(D,k),w.attachCallbackListeners(v,k)),k})()}_openPopup(v){Ue(v,"operation-not-supported-in-this-environment")}_openRedirect(v,w,D,k){var P=this;return(0,f.Z)(function*(){!function(x){var v,w,D,k,P,ne,Me,Ye,et,gt;const vt=Hr();De("function"==typeof(null===(v=null==vt?void 0:vt.universalLinks)||void 0===v?void 0:v.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(w=null==vt?void 0:vt.BuildInfo)||void 0===w?void 0:w.packageName),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(P=null===(k=null===(D=null==vt?void 0:vt.cordova)||void 0===D?void 0:D.plugins)||void 0===k?void 0:k.browsertab)||void 0===P?void 0:P.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Ye=null===(Me=null===(ne=null==vt?void 0:vt.cordova)||void 0===ne?void 0:ne.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===Ye?void 0:Ye.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(gt=null===(et=null==vt?void 0:vt.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===gt?void 0:gt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(v);const ne=yield P._initialize(v);yield ne.initialized(),ne.resetRedirect(),Sr.clear(),yield P._originValidation(v);const Me=function(x,v,w=null){return{type:v,eventId:w,urlResponse:null,sessionId:Vf(),postBody:null,tenantId:x.tenantId,error:Xe(x,"no-auth-event")}}(v,D,k);yield function(x,v){return yd()._set(Bf(x),v)}(v,Me);const Ye=yield function(x,v,w){return Hu.apply(this,arguments)}(v,Me,w),et=yield function(x){const{cordova:v}=Hr();return new Promise(w=>{v.plugins.browsertab.isAvailable(D=>{let k=null;D?v.plugins.browsertab.openUrl(x):k=v.InAppBrowser.open(x,function(x=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}()?"_blank":"_system","location=yes"),w(k)})})}(Ye);return function(x,v,w){return $u.apply(this,arguments)}(v,ne,et)})()}_isIframeWebStorageSupported(v,w){throw new Error("Method not implemented.")}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function(x){return _d.apply(this,arguments)}(v)),this.originValidationPromises[w]}attachCallbackListeners(v,w){const{universalLinks:D,handleOpenURL:k,BuildInfo:P}=Hr(),ne=setTimeout((0,f.Z)(function*(){yield bs(v),w.onEvent(R0())}),500),Me=function(){var gt=(0,f.Z)(function*(vt){clearTimeout(ne);const _r=yield bs(v);let ws=null;_r&&(null==vt?void 0:vt.url)&&(ws=function(x,v){var w,D;const k=function(x){const v=qu(x),w=v.link?decodeURIComponent(v.link):void 0,D=qu(w).link,k=v.deep_link_id?decodeURIComponent(v.deep_link_id):void 0;return qu(k).link||k||D||w||x}(v);if(k.includes("/__/auth/callback")){const P=qu(k),ne=P.firebaseError?function(x){try{return JSON.parse(x)}catch(v){return null}}(decodeURIComponent(P.firebaseError)):null,Me=null===(D=null===(w=null==ne?void 0:ne.code)||void 0===w?void 0:w.split("auth/"))||void 0===D?void 0:D[1],Ye=Me?Xe(Me):null;return Ye?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Ye,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:k,postBody:null}}return null}(_r,vt.url)),w.onEvent(ws||R0())});return function(_r){return gt.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Me);const Ye=k,et=`${P.packageName.toLowerCase()}://`;Hr().handleOpenURL=function(){var gt=(0,f.Z)(function*(vt){if(vt.toLowerCase().startsWith(et)&&Me({url:vt}),"function"==typeof Ye)try{Ye(vt)}catch(_r){console.error(_r)}});return function(vt){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Oa,this._completeRedirectFn=Co}_initialize(v){var w=this;return(0,f.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(v)})()}_openPopup(v,w,D,k){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(v,w,D,k)})()}_openRedirect(v,w,D,k){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(v,w,D,k)})()}_isIframeWebStorageSupported(v,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(v,w)}_originValidation(v){return this.assertedUnderlyingResolver._originValidation(v)}get _shouldInitProactively(){return Wu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var v=this;return(0,f.Z)(function*(){if(v.underlyingResolver)return;const w=yield function(){return bd.apply(this,arguments)}();v.underlyingResolver=w?v.cordovaResolver:v.browserResolver})()}}function Nr(x){return x.unwrap()}function $f(x){return zf(x)}function Am(x,v){var w;const D=null===(w=v.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===v.code)v.resolver=new Qs(x,function(x,v){var w;const D=(0,$.m9)(x),k=v;return De(v.operationType,D,"argument-error"),De(null===(w=k.serverResponse)||void 0===w?void 0:w.mfaPendingCredential,D,"argument-error"),hf._fromError(D,k)}(x,v));else if(D){const k=zf(v),P=v;k&&(P.credential=k,P.tenantId=D.tenantId||void 0,P.email=D.email||void 0,P.phoneNumber=D.phoneNumber||void 0)}}function zf(x){const{_tokenResponse:v}=x instanceof $.ZR?x.customData:x;if(!v)return null;if(!(x instanceof $.ZR)&&"temporaryProof"in v&&"phoneNumber"in v)return Vu.credentialFromResult(x);const w=v.providerId;if(!w||"password"===w)return null;let D;switch(w){case"google.com":D=xa;break;case"facebook.com":D=Xh;break;case"github.com":D=Cu;break;case"twitter.com":D=fl;break;default:const{oauthIdToken:k,oauthAccessToken:P,oauthTokenSecret:ne,pendingToken:Me,nonce:Ye}=v;return P||ne||k||Me?Me?w.startsWith("saml.")?$o._create(w,Me):ps._fromParams({providerId:w,signInMethod:w,pendingToken:Me,idToken:k,accessToken:P}):new $s(w).credential({idToken:k,accessToken:P,rawNonce:Ye}):null}return x instanceof $.ZR?D.credentialFromError(x):D.credentialFromResult(x)}function qr(x,v){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,f.Z)(function*(x,v){let w;try{w=yield v}catch(P){throw P instanceof $.ZR&&Am(x,P),P}const{operationType:D,user:k}=w;return{operationType:D,credential:$f(w),additionalUserInfo:Du(w),user:So.getOrCreate(k)}})).apply(this,arguments)}function Yu(x,v){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,f.Z)(function*(x,v){const w=yield v;return{verificationId:w.verificationId,confirm:D=>qr(x,w.confirm(D))}})).apply(this,arguments)}class Qs{constructor(v,w){this.resolver=w,this.auth=function(x){return x.wrapped()}(v)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(v){return qr(Nr(this.auth),this.resolver.resolveSignIn(v))}}class So{constructor(v){this._delegate=v,this.multiFactor=function(x){const v=(0,$.m9)(x);return Kc.has(v)||Kc.set(v,Iu._fromUser(v)),Kc.get(v)}(v)}static getOrCreate(v){return So.USER_MAP.has(v)||So.USER_MAP.set(v,new So(v)),So.USER_MAP.get(v)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(v){return this._delegate.getIdTokenResult(v)}getIdToken(v){return this._delegate.getIdToken(v)}linkAndRetrieveDataWithCredential(v){return this.linkWithCredential(v)}linkWithCredential(v){var w=this;return(0,f.Z)(function*(){return qr(w.auth,ct(w._delegate,v))})()}linkWithPhoneNumber(v,w){var D=this;return(0,f.Z)(function*(){return Yu(D.auth,function(x,v,w){return vf.apply(this,arguments)}(D._delegate,v,w))})()}linkWithPopup(v){var w=this;return(0,f.Z)(function*(){return qr(w.auth,function(x,v,w){return lm.apply(this,arguments)}(w._delegate,v,Ao))})()}linkWithRedirect(v){var w=this;return(0,f.Z)(function*(){return yield Hf(Rt(w.auth)),function(x,v,w){return function(x,v,w){return Ol.apply(this,arguments)}(x,v,w)}(w._delegate,v,Ao)})()}reauthenticateAndRetrieveDataWithCredential(v){return this.reauthenticateWithCredential(v)}reauthenticateWithCredential(v){var w=this;return(0,f.Z)(function*(){return qr(w.auth,xr(w._delegate,v))})()}reauthenticateWithPhoneNumber(v,w){return Yu(this.auth,function(x,v,w){return nd.apply(this,arguments)}(this._delegate,v,w))}reauthenticateWithPopup(v){return qr(this.auth,function(x,v,w){return bf.apply(this,arguments)}(this._delegate,v,Ao))}reauthenticateWithRedirect(v){var w=this;return(0,f.Z)(function*(){return yield Hf(Rt(w.auth)),function(x,v,w){return function(x,v,w){return La.apply(this,arguments)}(x,v,w)}(w._delegate,v,Ao)})()}sendEmailVerification(v){return function(x,v){return af.apply(this,arguments)}(this._delegate,v)}unlink(v){var w=this;return(0,f.Z)(function*(){return yield function(x,v){return _l.apply(this,arguments)}(w._delegate,v),w})()}updateEmail(v){return function(x,v){return df((0,$.m9)(x),v,null)}(this._delegate,v)}updatePassword(v){return function(x,v){return df((0,$.m9)(x),null,v)}(this._delegate,v)}updatePhoneNumber(v){return function(x,v){return Ko.apply(this,arguments)}(this._delegate,v)}updateProfile(v){return function(x,v){return lf.apply(this,arguments)}(this._delegate,v)}verifyBeforeUpdateEmail(v,w){return function(x,v,w){return Pi.apply(this,arguments)}(this._delegate,v,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}So.USER_MAP=new WeakMap;const Ku=De;let Sm=(()=>{class x{constructor(w,D){if(this.app=w,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=w.options;Ku(k,"invalid-api-key",{appName:w.name});let P=[Jt];if("undefined"!=typeof window){P=function(x,v){const w=wd();if(!(null==w?void 0:w.sessionStorage))return[];const D=Vt(ea,x,v);switch(w.sessionStorage.getItem(D)){case ai.NONE:return[Jt];case ai.LOCAL:return[vs,Oa];case ai.SESSION:return[Oa];default:return[]}}(k,w.name);for(const Me of[vs,xl,Oa])P.includes(Me)||P.push(Me)}Ku(k,"invalid-api-key",{appName:w.name});const ne="undefined"!=typeof window?Ao:void 0;this._delegate=D.initialize({options:{persistence:P,popupRedirectResolver:ne}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?So.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,D){!function(x,v,w){const D=Rt(x);De(D._canInitEmulator,D,"emulator-config-failed"),De(/^https?:\/\//.test(v),D,"invalid-emulator-scheme");const k=!!(null==w?void 0:w.disableWarnings),P=Zn(v),{host:ne,port:Me}=function(x){const v=Zn(x),w=/(\/\/)?([^?#/]+)/.exec(x.substr(v.length));if(!w)return{host:"",port:null};const D=w[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(D);if(k){const P=k[1];return{host:P,port:Fn(D.substr(P.length+1))}}{const[P,ne]=D.split(":");return{host:P,port:Fn(ne)}}}(v);D.config.emulator={url:`${P}//${ne}${null===Me?"":`:${Me}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ne,port:Me,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:k})}),function(x){function v(){const w=document.createElement("p"),D=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!x&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}(k)}(this._delegate,w,D)}applyActionCode(w){return function(x,v){return nf.apply(this,arguments)}(this._delegate,w)}checkActionCode(w){return Hg(this._delegate,w)}confirmPasswordReset(w,D){return function(x,v,w){return tf.apply(this,arguments)}(this._delegate,w,D)}createUserWithEmailAndPassword(w,D){var k=this;return(0,f.Z)(function*(){return qr(k._delegate,function(x,v,w){return Mn.apply(this,arguments)}(k._delegate,w,D))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return function(x,v){return or.apply(this,arguments)}(this._delegate,w)}isSignInWithEmailLink(w){return function(x,v){const w=Ca.parseLink(v);return"EMAIL_SIGNIN"===(null==w?void 0:w.operation)}(0,w)}getRedirectResult(){var w=this;return(0,f.Z)(function*(){Ku(Gl(),w._delegate,"operation-not-supported-in-this-environment");const D=yield function(x,v){return Va.apply(this,arguments)}(w._delegate,Ao);return D?qr(w._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function(x,v){Rt(x)._logFramework(v)}(this._delegate,w)}onAuthStateChanged(w,D,k){const{next:P,error:ne,complete:Me}=qf(w,D,k);return this._delegate.onAuthStateChanged(P,ne,Me)}onIdTokenChanged(w,D,k){const{next:P,error:ne,complete:Me}=qf(w,D,k);return this._delegate.onIdTokenChanged(P,ne,Me)}sendSignInLinkToEmail(w,D){return function(x,v,w){return vi.apply(this,arguments)}(this._delegate,w,D)}sendPasswordResetEmail(w,D){return function(x,v,w){return ef.apply(this,arguments)}(this._delegate,w,D||void 0)}setPersistence(w){var D=this;return(0,f.Z)(function*(){let k;switch(function(x,v){li(Object.values(ai).includes(v),x,"invalid-persistence-type"),(0,$.b$)()?li(v!==ai.SESSION,x,"unsupported-persistence-type"):(0,$.UG)()?li(v===ai.NONE,x,"unsupported-persistence-type"):jf()?li(v===ai.NONE||v===ai.LOCAL&&(0,$.hl)(),x,"unsupported-persistence-type"):li(v===ai.NONE||Em(),x,"unsupported-persistence-type")}(D._delegate,w),w){case ai.SESSION:k=Oa;break;case ai.LOCAL:k=(yield me(vs)._isAvailable())?vs:xl;break;case ai.NONE:k=Jt;break;default:return Ue("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return qr(this._delegate,function(x){return pl.apply(this,arguments)}(this._delegate))}signInWithCredential(w){return qr(this._delegate,Qe(this._delegate,w))}signInWithCustomToken(w){return qr(this._delegate,function(x,v){return vl.apply(this,arguments)}(this._delegate,w))}signInWithEmailAndPassword(w,D){return qr(this._delegate,function(x,v,w){return Qe((0,$.m9)(x),hl.credential(v,w))}(this._delegate,w,D))}signInWithEmailLink(w,D){return qr(this._delegate,function(x,v,w){return $g.apply(this,arguments)}(this._delegate,w,D))}signInWithPhoneNumber(w,D){return Yu(this._delegate,function(x,v,w){return yf.apply(this,arguments)}(this._delegate,w,D))}signInWithPopup(w){var D=this;return(0,f.Z)(function*(){return Ku(Gl(),D._delegate,"operation-not-supported-in-this-environment"),qr(D._delegate,function(x,v,w){return Eo.apply(this,arguments)}(D._delegate,w,Ao))})()}signInWithRedirect(w){var D=this;return(0,f.Z)(function*(){return Ku(Gl(),D._delegate,"operation-not-supported-in-this-environment"),yield Hf(D._delegate),function(x,v,w){return function(x,v,w){return ad.apply(this,arguments)}(x,v,w)}(D._delegate,w,Ao)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return function(x,v){return zt.apply(this,arguments)}(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=ai,x})();function qf(x,v,w){let D=x;"function"!=typeof x&&({next:D,error:v,complete:w}=x);const k=D;return{next:ne=>k(ne&&So.getOrCreate(ne)),error:v,complete:w}}class Zu{constructor(){this.providerId="phone",this._delegate=new Vu(Nr(pe.Z.auth()))}static credential(v,w){return Vu.credential(v,w)}verifyPhoneNumber(v,w){return this._delegate.verifyPhoneNumber(v,w)}unwrap(){return this._delegate}}Zu.PHONE_SIGN_IN_METHOD=Vu.PHONE_SIGN_IN_METHOD,Zu.PROVIDER_ID=Vu.PROVIDER_ID;const Dm=De;class $v{constructor(v,w,D=pe.Z.app()){var k;Dm(null===(k=D.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new gn(v,w,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(x){x.INTERNAL.registerComponent(new re.wA("auth-compat",v=>{const w=v.getProvider("app-compat").getImmediate(),D=v.getProvider("auth");return new Sm(w,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hl,FacebookAuthProvider:Xh,GithubAuthProvider:Cu,GoogleAuthProvider:xa,OAuthProvider:$s,PhoneAuthProvider:Zu,PhoneMultiFactorGenerator:Nf,RecaptchaVerifier:$v,TwitterAuthProvider:fl,Auth:Sm,AuthCredential:ki,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.1.1")}(pe.Z)},6676:function(tt,Oe){!function(U){"use strict";function f(ge){return Array.prototype.slice.call(ge)}function pe(ge){return new Promise(function(fe,Se){ge.onsuccess=function(){fe(ge.result)},ge.onerror=function(){Se(ge.error)}})}function $(ge,fe,Se){var qe,Ue=new Promise(function(Xe,Dt){pe(qe=ge[fe].apply(ge,Se)).then(Xe,Dt)});return Ue.request=qe,Ue}function ae(ge,fe,Se){var qe=$(ge,fe,Se);return qe.then(function(Ue){if(Ue)return new j(Ue,qe.request)})}function _e(ge,fe,Se){Se.forEach(function(qe){Object.defineProperty(ge.prototype,qe,{get:function(){return this[fe][qe]},set:function(Ue){this[fe][qe]=Ue}})})}function ee(ge,fe,Se,qe){qe.forEach(function(Ue){Ue in Se.prototype&&(ge.prototype[Ue]=function(){return $(this[fe],Ue,arguments)})})}function re(ge,fe,Se,qe){qe.forEach(function(Ue){Ue in Se.prototype&&(ge.prototype[Ue]=function(){return this[fe][Ue].apply(this[fe],arguments)})})}function se(ge,fe,Se,qe){qe.forEach(function(Ue){Ue in Se.prototype&&(ge.prototype[Ue]=function(){return ae(this[fe],Ue,arguments)})})}function K(ge){this._index=ge}function j(ge,fe){this._cursor=ge,this._request=fe}function Q(ge){this._store=ge}function V(ge){this._tx=ge,this.complete=new Promise(function(fe,Se){ge.oncomplete=function(){fe()},ge.onerror=function(){Se(ge.error)},ge.onabort=function(){Se(ge.error)}})}function J(ge,fe,Se){this._db=ge,this.oldVersion=fe,this.transaction=new V(Se)}function te(ge){this._db=ge}_e(K,"_index",["name","keyPath","multiEntry","unique"]),ee(K,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),se(K,"_index",IDBIndex,["openCursor","openKeyCursor"]),_e(j,"_cursor",["direction","key","primaryKey","value"]),ee(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(j.prototype[ge]=function(){var fe=this,Se=arguments;return Promise.resolve().then(function(){return fe._cursor[ge].apply(fe._cursor,Se),pe(fe._request).then(function(qe){if(qe)return new j(qe,fe._request)})})})}),Q.prototype.createIndex=function(){return new K(this._store.createIndex.apply(this._store,arguments))},Q.prototype.index=function(){return new K(this._store.index.apply(this._store,arguments))},_e(Q,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(Q,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),se(Q,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(Q,"_store",IDBObjectStore,["deleteIndex"]),V.prototype.objectStore=function(){return new Q(this._tx.objectStore.apply(this._tx,arguments))},_e(V,"_tx",["objectStoreNames","mode"]),re(V,"_tx",IDBTransaction,["abort"]),J.prototype.createObjectStore=function(){return new Q(this._db.createObjectStore.apply(this._db,arguments))},_e(J,"_db",["name","version","objectStoreNames"]),re(J,"_db",IDBDatabase,["deleteObjectStore","close"]),te.prototype.transaction=function(){return new V(this._db.transaction.apply(this._db,arguments))},_e(te,"_db",["name","version","objectStoreNames"]),re(te,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[Q,K].forEach(function(fe){ge in fe.prototype&&(fe.prototype[ge.replace("open","iterate")]=function(){var Se=f(arguments),qe=Se[Se.length-1],Ue=this._store||this._index,Xe=Ue[ge].apply(Ue,Se.slice(0,-1));Xe.onsuccess=function(){qe(Xe.result)}})})}),[K,Q].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(fe,Se){var qe=this,Ue=[];return new Promise(function(Xe){qe.iterateCursor(fe,function(Dt){Dt?(Ue.push(Dt.value),void 0===Se||Ue.length!=Se?Dt.continue():Xe(Ue)):Xe(Ue)})})})}),U.openDb=function(ge,fe,Se){var qe=$(indexedDB,"open",[ge,fe]),Ue=qe.request;return Ue&&(Ue.onupgradeneeded=function(Xe){Se&&Se(new J(Ue.result,Xe.oldVersion,Ue.transaction))}),qe.then(function(Xe){return new te(Xe)})},U.deleteDb=function(ge){return $(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(U,"__esModule",{value:!0})}(Oe)},7574:(tt,Oe,U)=>{"use strict";U.d(Oe,{y:()=>Q});var f=U(7393),$=U(9181),ae=U(6490),ee=U(6554),re=U(4487);var j=U(2494);let Q=(()=>{class J{constructor(Ae){this._isScalar=!1,Ae&&(this._subscribe=Ae)}lift(Ae){const be=new J;return be.source=this,be.operator=Ae,be}subscribe(Ae,be,ge){const{operator:fe}=this,Se=function(J,te,Ae){if(J){if(J instanceof f.L)return J;if(J[$.b])return J[$.b]()}return J||te||Ae?new f.L(J,te,Ae):new f.L(ae.c)}(Ae,be,ge);if(Se.add(fe?fe.call(Se,this.source):this.source||j.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),j.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(be){j.v.useDeprecatedSynchronousErrorHandling&&(Ae.syncErrorThrown=!0,Ae.syncErrorValue=be),function(J){for(;J;){const{closed:te,destination:Ae,isStopped:be}=J;if(te||be)return!1;J=Ae&&Ae instanceof f.L?Ae:null}return!0}(Ae)?Ae.error(be):console.warn(be)}}forEach(Ae,be){return new(be=V(be))((ge,fe)=>{let Se;Se=this.subscribe(qe=>{try{Ae(qe)}catch(Ue){fe(Ue),Se&&Se.unsubscribe()}},fe,ge)})}_subscribe(Ae){const{source:be}=this;return be&&be.subscribe(Ae)}[ee.L](){return this}pipe(...Ae){return 0===Ae.length?this:function(J){return 0===J.length?re.y:1===J.length?J[0]:function(Ae){return J.reduce((be,ge)=>ge(be),Ae)}}(Ae)(this)}toPromise(Ae){return new(Ae=V(Ae))((be,ge)=>{let fe;this.subscribe(Se=>fe=Se,Se=>ge(Se),()=>be(fe))})}}return J.create=te=>new J(te),J})();function V(J){if(J||(J=j.v.Promise||Promise),!J)throw new Error("no Promise impl found");return J}},6490:(tt,Oe,U)=>{"use strict";U.d(Oe,{c:()=>$});var f=U(2494),pe=U(4449);const $={closed:!0,next(ae){},error(ae){if(f.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,pe.z)(ae)},complete(){}}},9765:(tt,Oe,U)=>{"use strict";U.d(Oe,{Yc:()=>re,xQ:()=>se});var f=U(7574),pe=U(7393),$=U(5319),ae=U(7971),_e=U(8858),ee=U(9181);class re extends pe.L{constructor(Q){super(Q),this.destination=Q}}let se=(()=>{class j extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new re(this)}lift(V){const J=new K(this,this);return J.operator=V,J}next(V){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:J}=this,te=J.length,Ae=J.slice();for(let be=0;be<te;be++)Ae[be].next(V)}}error(V){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:J}=this,te=J.length,Ae=J.slice();for(let be=0;be<te;be++)Ae[be].error(V);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:V}=this,J=V.length,te=V.slice();for(let Ae=0;Ae<J;Ae++)te[Ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new ae.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new ae.N;return this.hasError?(V.error(this.thrownError),$.w.EMPTY):this.isStopped?(V.complete(),$.w.EMPTY):(this.observers.push(V),new _e.W(this,V))}asObservable(){const V=new f.y;return V.source=this,V}}return j.create=(Q,V)=>new K(Q,V),j})();class K extends se{constructor(Q,V){super(),this.destination=Q,this.source=V}next(Q){const{destination:V}=this;V&&V.next&&V.next(Q)}error(Q){const{destination:V}=this;V&&V.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:V}=this;return V?this.source.subscribe(Q):$.w.EMPTY}}},8858:(tt,Oe,U)=>{"use strict";U.d(Oe,{W:()=>pe});var f=U(5319);class pe extends f.w{constructor(ae,_e){super(),this.subject=ae,this.subscriber=_e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,_e=ae.observers;if(this.subject=null,!_e||0===_e.length||ae.isStopped||ae.closed)return;const ee=_e.indexOf(this.subscriber);-1!==ee&&_e.splice(ee,1)}}},7393:(tt,Oe,U)=>{"use strict";U.d(Oe,{L:()=>re});var f=U(9105),pe=U(6490),$=U(5319),ae=U(9181),_e=U(2494),ee=U(4449);class re extends $.w{constructor(j,Q,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=pe.c;break;case 1:if(!j){this.destination=pe.c;break}if("object"==typeof j){j instanceof re?(this.syncErrorThrowable=j.syncErrorThrowable,this.destination=j,j.add(this)):(this.syncErrorThrowable=!0,this.destination=new se(this,j));break}default:this.syncErrorThrowable=!0,this.destination=new se(this,j,Q,V)}}[ae.b](){return this}static create(j,Q,V){const J=new re(j,Q,V);return J.syncErrorThrowable=!1,J}next(j){this.isStopped||this._next(j)}error(j){this.isStopped||(this.isStopped=!0,this._error(j))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(j){this.destination.next(j)}_error(j){this.destination.error(j),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:j}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=j,this}}class se extends re{constructor(j,Q,V,J){super(),this._parentSubscriber=j;let te,Ae=this;(0,f.m)(Q)?te=Q:Q&&(te=Q.next,V=Q.error,J=Q.complete,Q!==pe.c&&(Ae=Object.create(Q),(0,f.m)(Ae.unsubscribe)&&this.add(Ae.unsubscribe.bind(Ae)),Ae.unsubscribe=this.unsubscribe.bind(this))),this._context=Ae,this._next=te,this._error=V,this._complete=J}next(j){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;_e.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,j)&&this.unsubscribe():this.__tryOrUnsub(this._next,j)}}error(j){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:V}=_e.v;if(this._error)V&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,j),this.unsubscribe()):(this.__tryOrUnsub(this._error,j),this.unsubscribe());else if(Q.syncErrorThrowable)V?(Q.syncErrorValue=j,Q.syncErrorThrown=!0):(0,ee.z)(j),this.unsubscribe();else{if(this.unsubscribe(),V)throw j;(0,ee.z)(j)}}}complete(){if(!this.isStopped){const{_parentSubscriber:j}=this;if(this._complete){const Q=()=>this._complete.call(this._context);_e.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?(this.__tryOrSetError(j,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(j,Q){try{j.call(this._context,Q)}catch(V){if(this.unsubscribe(),_e.v.useDeprecatedSynchronousErrorHandling)throw V;(0,ee.z)(V)}}__tryOrSetError(j,Q,V){if(!_e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,V)}catch(J){return _e.v.useDeprecatedSynchronousErrorHandling?(j.syncErrorValue=J,j.syncErrorThrown=!0,!0):((0,ee.z)(J),!0)}return!1}_unsubscribe(){const{_parentSubscriber:j}=this;this._context=null,this._parentSubscriber=null,j.unsubscribe()}}},5319:(tt,Oe,U)=>{"use strict";U.d(Oe,{w:()=>ee});var f=U(9796),pe=U(1555),$=U(9105);const _e=(()=>{function se(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((j,Q)=>`${Q+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return se.prototype=Object.create(Error.prototype),se})();class ee{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:j,_ctorUnsubscribe:Q,_unsubscribe:V,_subscriptions:J}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,j instanceof ee)j.remove(this);else if(null!==j)for(let te=0;te<j.length;++te)j[te].remove(this);if((0,$.m)(V)){Q&&(this._unsubscribe=void 0);try{V.call(this)}catch(te){K=te instanceof _e?re(te.errors):[te]}}if((0,f.k)(J)){let te=-1,Ae=J.length;for(;++te<Ae;){const be=J[te];if((0,pe.K)(be))try{be.unsubscribe()}catch(ge){K=K||[],ge instanceof _e?K=K.concat(re(ge.errors)):K.push(ge)}}}if(K)throw new _e(K)}add(K){let j=K;if(!K)return ee.EMPTY;switch(typeof K){case"function":j=new ee(K);case"object":if(j===this||j.closed||"function"!=typeof j.unsubscribe)return j;if(this.closed)return j.unsubscribe(),j;if(!(j instanceof ee)){const J=j;j=new ee,j._subscriptions=[J]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:Q}=j;if(null===Q)j._parentOrParents=this;else if(Q instanceof ee){if(Q===this)return j;j._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return j;Q.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[j]:V.push(j),j}remove(K){const j=this._subscriptions;if(j){const Q=j.indexOf(K);-1!==Q&&j.splice(Q,1)}}}var se;function re(se){return se.reduce((K,j)=>K.concat(j instanceof _e?j.errors:j),[])}ee.EMPTY=((se=new ee).closed=!0,se)},2494:(tt,Oe,U)=>{"use strict";U.d(Oe,{v:()=>pe});let f=!1;const pe={Promise:void 0,set useDeprecatedSynchronousErrorHandling($){if($){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=$},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(tt,Oe,U)=>{"use strict";U.d(Oe,{IY:()=>ae,Ds:()=>ee,ft:()=>se});var f=U(7393),pe=U(7574),$=U(7444);class ae extends f.L{constructor(j){super(),this.parent=j}_next(j){this.parent.notifyNext(j)}_error(j){this.parent.notifyError(j),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends f.L{notifyNext(j){this.destination.next(j)}notifyError(j){this.destination.error(j)}notifyComplete(){this.destination.complete()}}function se(K,j){if(j.closed)return;if(K instanceof pe.y)return K.subscribe(j);let Q;try{Q=(0,$.s)(K)(j)}catch(V){j.error(V)}return Q}},2441:(tt,Oe,U)=>{"use strict";U.d(Oe,{c:()=>_e,N:()=>ee});var f=U(9765),pe=U(7574),$=U(5319),ae=U(1307);class _e extends pe.y{constructor(Q,V){super(),this.source=Q,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new $.w,Q.add(this.source.subscribe(new re(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=$.w.EMPTY)),Q}refCount(){return(0,ae.x)()(this)}}const ee=(()=>{const j=_e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:j._subscribe},_isComplete:{value:j._isComplete,writable:!0},getSubject:{value:j.getSubject},connect:{value:j.connect},refCount:{value:j.refCount}}})();class re extends f.Yc{constructor(Q,V){super(Q),this.connectable=V}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const V=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,V&&V.unsubscribe()}}}},9193:(tt,Oe,U)=>{"use strict";U.d(Oe,{E:()=>pe,c:()=>$});var f=U(7574);const pe=new f.y(_e=>_e.complete());function $(_e){return _e?function(_e){return new f.y(ee=>_e.schedule(()=>ee.complete()))}(_e):pe}},4402:(tt,Oe,U)=>{"use strict";U.d(Oe,{D:()=>Ae});var f=U(7574),pe=U(7444),$=U(5319),ae=U(6554),re=U(4087),se=U(377),Q=U(4072),V=U(9489);function Ae(be,ge){return ge?function(be,ge){if(null!=be){if(function(be){return be&&"function"==typeof be[ae.L]}(be))return function(be,ge){return new f.y(fe=>{const Se=new $.w;return Se.add(ge.schedule(()=>{const qe=be[ae.L]();Se.add(qe.subscribe({next(Ue){Se.add(ge.schedule(()=>fe.next(Ue)))},error(Ue){Se.add(ge.schedule(()=>fe.error(Ue)))},complete(){Se.add(ge.schedule(()=>fe.complete()))}}))})),Se})}(be,ge);if((0,Q.t)(be))return function(be,ge){return new f.y(fe=>{const Se=new $.w;return Se.add(ge.schedule(()=>be.then(qe=>{Se.add(ge.schedule(()=>{fe.next(qe),Se.add(ge.schedule(()=>fe.complete()))}))},qe=>{Se.add(ge.schedule(()=>fe.error(qe)))}))),Se})}(be,ge);if((0,V.z)(be))return(0,re.r)(be,ge);if(function(be){return be&&"function"==typeof be[se.hZ]}(be)||"string"==typeof be)return function(be,ge){if(!be)throw new Error("Iterable cannot be null");return new f.y(fe=>{const Se=new $.w;let qe;return Se.add(()=>{qe&&"function"==typeof qe.return&&qe.return()}),Se.add(ge.schedule(()=>{qe=be[se.hZ](),Se.add(ge.schedule(function(){if(fe.closed)return;let Ue,Xe;try{const Dt=qe.next();Ue=Dt.value,Xe=Dt.done}catch(Dt){return void fe.error(Dt)}Xe?fe.complete():(fe.next(Ue),this.schedule())}))})),Se})}(be,ge)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,ge):be instanceof f.y?be:new f.y((0,pe.s)(be))}},6693:(tt,Oe,U)=>{"use strict";U.d(Oe,{n:()=>ae});var f=U(7574),pe=U(5015),$=U(4087);function ae(_e,ee){return ee?(0,$.r)(_e,ee):new f.y((0,pe.V)(_e))}},6682:(tt,Oe,U)=>{"use strict";U.d(Oe,{T:()=>_e});var f=U(7574),pe=U(4869),$=U(3282),ae=U(6693);function _e(...ee){let re=Number.POSITIVE_INFINITY,se=null,K=ee[ee.length-1];return(0,pe.K)(K)?(se=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(re=ee.pop())):"number"==typeof K&&(re=ee.pop()),null===se&&1===ee.length&&ee[0]instanceof f.y?ee[0]:(0,$.J)(re)((0,ae.n)(ee,se))}},5917:(tt,Oe,U)=>{"use strict";U.d(Oe,{of:()=>ae});var f=U(4869),pe=U(6693),$=U(4087);function ae(..._e){let ee=_e[_e.length-1];return(0,f.K)(ee)?(_e.pop(),(0,$.r)(_e,ee)):(0,pe.n)(_e)}},205:(tt,Oe,U)=>{"use strict";U.d(Oe,{_:()=>pe});var f=U(7574);function pe(ae,_e){return new f.y(_e?ee=>_e.schedule($,0,{error:ae,subscriber:ee}):ee=>ee.error(ae))}function $({error:ae,subscriber:_e}){_e.error(ae)}},8002:(tt,Oe,U)=>{"use strict";U.d(Oe,{U:()=>pe});var f=U(7393);function pe(_e,ee){return function(se){if("function"!=typeof _e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return se.lift(new $(_e,ee))}}class ${constructor(ee,re){this.project=ee,this.thisArg=re}call(ee,re){return re.subscribe(new ae(ee,this.project,this.thisArg))}}class ae extends f.L{constructor(ee,re,se){super(ee),this.project=re,this.count=0,this.thisArg=se||this}_next(ee){let re;try{re=this.project.call(this.thisArg,ee,this.count++)}catch(se){return void this.destination.error(se)}this.destination.next(re)}}},3282:(tt,Oe,U)=>{"use strict";U.d(Oe,{J:()=>$});var f=U(9773),pe=U(4487);function $(ae=Number.POSITIVE_INFINITY){return(0,f.zg)(pe.y,ae)}},9773:(tt,Oe,U)=>{"use strict";U.d(Oe,{zg:()=>ae});var f=U(8002),pe=U(4402),$=U(5345);function ae(se,K,j=Number.POSITIVE_INFINITY){return"function"==typeof K?Q=>Q.pipe(ae((V,J)=>(0,pe.D)(se(V,J)).pipe((0,f.U)((te,Ae)=>K(V,te,J,Ae))),j)):("number"==typeof K&&(j=K),Q=>Q.lift(new _e(se,j)))}class _e{constructor(K,j=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=j}call(K,j){return j.subscribe(new ee(K,this.project,this.concurrent))}}class ee extends $.Ds{constructor(K,j,Q=Number.POSITIVE_INFINITY){super(K),this.project=j,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let j;const Q=this.index++;try{j=this.project(K,Q)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(j)}_innerSub(K){const j=new $.IY(this),Q=this.destination;Q.add(j);const V=(0,$.ft)(K,j);V!==j&&Q.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(tt,Oe,U)=>{"use strict";U.d(Oe,{ht:()=>K,QV:()=>re});var f=U(7393),pe=U(9193),$=U(5917),ae=U(205);class ee{constructor(V,J,te){this.kind=V,this.value=J,this.error=te,this.hasValue="N"===V}observe(V){switch(this.kind){case"N":return V.next&&V.next(this.value);case"E":return V.error&&V.error(this.error);case"C":return V.complete&&V.complete()}}do(V,J,te){switch(this.kind){case"N":return V&&V(this.value);case"E":return J&&J(this.error);case"C":return te&&te()}}accept(V,J,te){return V&&"function"==typeof V.next?this.observe(V):this.do(V,J,te)}toObservable(){switch(this.kind){case"N":return(0,$.of)(this.value);case"E":return(0,ae._)(this.error);case"C":return(0,pe.c)()}throw new Error("unexpected notification kind value")}static createNext(V){return void 0!==V?new ee("N",V):ee.undefinedValueNotification}static createError(V){return new ee("E",void 0,V)}static createComplete(){return ee.completeNotification}}function re(Q,V=0){return function(te){return te.lift(new se(Q,V))}}ee.completeNotification=new ee("C"),ee.undefinedValueNotification=new ee("N",void 0);class se{constructor(V,J=0){this.scheduler=V,this.delay=J}call(V,J){return J.subscribe(new K(V,this.scheduler,this.delay))}}class K extends f.L{constructor(V,J,te=0){super(V),this.scheduler=J,this.delay=te}static dispatch(V){const{notification:J,destination:te}=V;J.observe(te),this.unsubscribe()}scheduleMessage(V){this.destination.add(this.scheduler.schedule(K.dispatch,this.delay,new j(V,this.destination)))}_next(V){this.scheduleMessage(ee.createNext(V))}_error(V){this.scheduleMessage(ee.createError(V)),this.unsubscribe()}_complete(){this.scheduleMessage(ee.createComplete()),this.unsubscribe()}}class j{constructor(V,J){this.notification=V,this.destination=J}}},1307:(tt,Oe,U)=>{"use strict";U.d(Oe,{x:()=>pe});var f=U(7393);function pe(){return function(ee){return ee.lift(new $(ee))}}class ${constructor(ee){this.connectable=ee}call(ee,re){const{connectable:se}=this;se._refCount++;const K=new ae(ee,se),j=re.subscribe(K);return K.closed||(K.connection=se.connect()),j}}class ae extends f.L{constructor(ee,re){super(ee),this.connectable=re}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const re=ee._refCount;if(re<=0)return void(this.connection=null);if(ee._refCount=re-1,re>1)return void(this.connection=null);const{connection:se}=this,K=ee._connection;this.connection=null,K&&(!se||K===se)&&K.unsubscribe()}}},8819:(tt,Oe,U)=>{"use strict";U.d(Oe,{B:()=>re});var f=U(2441);var ae=U(1307),_e=U(9765);function ee(){return new _e.xQ}function re(){return se=>(0,ae.x)()(function(se,K){return function(Q){let V;V="function"==typeof se?se:function(){return se};const J=Object.create(Q,f.N);return J.source=Q,J.subjectFactory=V,J}}(ee)(se))}},9673:(tt,Oe,U)=>{"use strict";U.d(Oe,{R:()=>_e});var f=U(7574),pe=U(4581),$=U(6561);class ae extends f.y{constructor(se,K=0,j=pe.e){super(),this.source=se,this.delayTime=K,this.scheduler=j,(!(0,$.k)(K)||K<0)&&(this.delayTime=0),(!j||"function"!=typeof j.schedule)&&(this.scheduler=pe.e)}static create(se,K=0,j=pe.e){return new ae(se,K,j)}static dispatch(se){const{source:K,subscriber:j}=se;return this.add(K.subscribe(j))}_subscribe(se){return this.scheduler.schedule(ae.dispatch,this.delayTime,{source:this.source,subscriber:se})}}function _e(re,se=0){return function(j){return j.lift(new ee(re,se))}}class ee{constructor(se,K){this.scheduler=se,this.delay=K}call(se,K){return new ae(K,this.delay,this.scheduler).subscribe(se)}}},3342:(tt,Oe,U)=>{"use strict";U.d(Oe,{b:()=>ae});var f=U(7393);function pe(){}var $=U(9105);function ae(re,se,K){return function(Q){return Q.lift(new _e(re,se,K))}}class _e{constructor(se,K,j){this.nextOrObserver=se,this.error=K,this.complete=j}call(se,K){return K.subscribe(new ee(se,this.nextOrObserver,this.error,this.complete))}}class ee extends f.L{constructor(se,K,j,Q){super(se),this._tapNext=pe,this._tapError=pe,this._tapComplete=pe,this._tapError=j||pe,this._tapComplete=Q||pe,(0,$.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||pe,this._tapError=K.error||pe,this._tapComplete=K.complete||pe)}_next(se){try{this._tapNext.call(this._context,se)}catch(K){return void this.destination.error(K)}this.destination.next(se)}_error(se){try{this._tapError.call(this._context,se)}catch(K){return void this.destination.error(K)}this.destination.error(se)}_complete(){try{this._tapComplete.call(this._context)}catch(se){return void this.destination.error(se)}return this.destination.complete()}}},4087:(tt,Oe,U)=>{"use strict";U.d(Oe,{r:()=>$});var f=U(7574),pe=U(5319);function $(ae,_e){return new f.y(ee=>{const re=new pe.w;let se=0;return re.add(_e.schedule(function(){se!==ae.length?(ee.next(ae[se++]),ee.closed||re.add(this.schedule())):ee.complete()})),re})}},6465:(tt,Oe,U)=>{"use strict";U.d(Oe,{o:()=>$});var f=U(5319);class pe extends f.w{constructor(_e,ee){super()}schedule(_e,ee=0){return this}}class $ extends pe{constructor(_e,ee){super(_e,ee),this.scheduler=_e,this.work=ee,this.pending=!1}schedule(_e,ee=0){if(this.closed)return this;this.state=_e;const re=this.id,se=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(se,re,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(se,this.id,ee),this}requestAsyncId(_e,ee,re=0){return setInterval(_e.flush.bind(_e,this),re)}recycleAsyncId(_e,ee,re=0){if(null!==re&&this.delay===re&&!1===this.pending)return ee;clearInterval(ee)}execute(_e,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(_e,ee);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,ee){let se,re=!1;try{this.work(_e)}catch(K){re=!0,se=!!K&&K||new Error(K)}if(re)return this.unsubscribe(),se}_unsubscribe(){const _e=this.id,ee=this.scheduler,re=ee.actions,se=re.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==se&&re.splice(se,1),null!=_e&&(this.id=this.recycleAsyncId(ee,_e,null)),this.delay=null}}},6102:(tt,Oe,U)=>{"use strict";U.d(Oe,{v:()=>pe});let f=(()=>{class ${constructor(_e,ee=$.now){this.SchedulerAction=_e,this.now=ee}schedule(_e,ee=0,re){return new this.SchedulerAction(this,_e).schedule(re,ee)}}return $.now=()=>Date.now(),$})();class pe extends f{constructor(ae,_e=f.now){super(ae,()=>pe.delegate&&pe.delegate!==this?pe.delegate.now():_e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,_e=0,ee){return pe.delegate&&pe.delegate!==this?pe.delegate.schedule(ae,_e,ee):super.schedule(ae,_e,ee)}flush(ae){const{actions:_e}=this;if(this.active)return void _e.push(ae);let ee;this.active=!0;do{if(ee=ae.execute(ae.state,ae.delay))break}while(ae=_e.shift());if(this.active=!1,ee){for(;ae=_e.shift();)ae.unsubscribe();throw ee}}}},4581:(tt,Oe,U)=>{"use strict";U.d(Oe,{e:()=>V,E:()=>Q});let f=1;const pe=Promise.resolve(),$={};function ae(J){return J in $&&(delete $[J],!0)}const _e={setImmediate(J){const te=f++;return $[te]=!0,pe.then(()=>ae(te)&&J()),te},clearImmediate(J){ae(J)}};var re=U(6465),K=U(6102);const Q=new class extends K.v{flush(te){this.active=!0,this.scheduled=void 0;const{actions:Ae}=this;let be,ge=-1,fe=Ae.length;te=te||Ae.shift();do{if(be=te.execute(te.state,te.delay))break}while(++ge<fe&&(te=Ae.shift()));if(this.active=!1,be){for(;++ge<fe&&(te=Ae.shift());)te.unsubscribe();throw be}}}(class extends re.o{constructor(te,Ae){super(te,Ae),this.scheduler=te,this.work=Ae}requestAsyncId(te,Ae,be=0){return null!==be&&be>0?super.requestAsyncId(te,Ae,be):(te.actions.push(this),te.scheduled||(te.scheduled=_e.setImmediate(te.flush.bind(te,null))))}recycleAsyncId(te,Ae,be=0){if(null!==be&&be>0||null===be&&this.delay>0)return super.recycleAsyncId(te,Ae,be);0===te.actions.length&&(_e.clearImmediate(Ae),te.scheduled=void 0)}}),V=Q},3637:(tt,Oe,U)=>{"use strict";U.d(Oe,{z:()=>$,P:()=>ae});var f=U(6465);const $=new(U(6102).v)(f.o),ae=$},7771:(tt,Oe,U)=>{"use strict";U.d(Oe,{c:()=>ee,N:()=>_e});var f=U(6465),$=U(6102);const _e=new class extends $.v{}(class extends f.o{constructor(se,K){super(se,K),this.scheduler=se,this.work=K}schedule(se,K=0){return K>0?super.schedule(se,K):(this.delay=K,this.state=se,this.scheduler.flush(this),this)}execute(se,K){return K>0||this.closed?super.execute(se,K):this._execute(se,K)}requestAsyncId(se,K,j=0){return null!==j&&j>0||null===j&&this.delay>0?super.requestAsyncId(se,K,j):se.flush(this)}}),ee=_e},377:(tt,Oe,U)=>{"use strict";U.d(Oe,{hZ:()=>pe});const pe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(tt,Oe,U)=>{"use strict";U.d(Oe,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(tt,Oe,U)=>{"use strict";U.d(Oe,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(tt,Oe,U)=>{"use strict";U.d(Oe,{N:()=>pe});const pe=(()=>{function $(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return $.prototype=Object.create(Error.prototype),$})()},4449:(tt,Oe,U)=>{"use strict";function f(pe){setTimeout(()=>{throw pe},0)}U.d(Oe,{z:()=>f})},4487:(tt,Oe,U)=>{"use strict";function f(pe){return pe}U.d(Oe,{y:()=>f})},9796:(tt,Oe,U)=>{"use strict";U.d(Oe,{k:()=>f});const f=Array.isArray||(pe=>pe&&"number"==typeof pe.length)},9489:(tt,Oe,U)=>{"use strict";U.d(Oe,{z:()=>f});const f=pe=>pe&&"number"==typeof pe.length&&"function"!=typeof pe},9105:(tt,Oe,U)=>{"use strict";function f(pe){return"function"==typeof pe}U.d(Oe,{m:()=>f})},6561:(tt,Oe,U)=>{"use strict";U.d(Oe,{k:()=>pe});var f=U(9796);function pe($){return!(0,f.k)($)&&$-parseFloat($)+1>=0}},1555:(tt,Oe,U)=>{"use strict";function f(pe){return null!==pe&&"object"==typeof pe}U.d(Oe,{K:()=>f})},4072:(tt,Oe,U)=>{"use strict";function f(pe){return!!pe&&"function"!=typeof pe.subscribe&&"function"==typeof pe.then}U.d(Oe,{t:()=>f})},4869:(tt,Oe,U)=>{"use strict";function f(pe){return pe&&"function"==typeof pe.schedule}U.d(Oe,{K:()=>f})},7444:(tt,Oe,U)=>{"use strict";U.d(Oe,{s:()=>Q});var f=U(5015),pe=U(4449),ae=U(377),ee=U(6554),se=U(9489),K=U(4072),j=U(1555);const Q=V=>{if(V&&"function"==typeof V[ee.L])return(V=>J=>{const te=V[ee.L]();if("function"!=typeof te.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return te.subscribe(J)})(V);if((0,se.z)(V))return(0,f.V)(V);if((0,K.t)(V))return(V=>J=>(V.then(te=>{J.closed||(J.next(te),J.complete())},te=>J.error(te)).then(null,pe.z),J))(V);if(V&&"function"==typeof V[ae.hZ])return(V=>J=>{const te=V[ae.hZ]();for(;;){let Ae;try{Ae=te.next()}catch(be){return J.error(be),J}if(Ae.done){J.complete();break}if(J.next(Ae.value),J.closed)break}return"function"==typeof te.return&&J.add(()=>{te.return&&te.return()}),J})(V);{const te=`You provided ${(0,j.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(te)}}},5015:(tt,Oe,U)=>{"use strict";U.d(Oe,{V:()=>f});const f=pe=>$=>{for(let ae=0,_e=pe.length;ae<_e&&!$.closed;ae++)$.next(pe[ae]);$.complete()}},6859:(tt,Oe,U)=>{"use strict";var f=U(7716);let pe=null;function $(){return pe}const re=new f.OlP("DocumentToken");let se=(()=>{class s{historyGo(r){throw new Error("Not implemented")}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,f.Yz7)({factory:K,token:s,providedIn:"platform"}),s})();function K(){return(0,f.LFG)(Q)}const j=new f.OlP("Location Initialized");let Q=(()=>{class s extends se{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(r){const o=$().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){const o=$().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,o,a){V()?this._history.pushState(r,o,a):this.location.hash=a}replaceState(r,o,a){V()?this._history.replaceState(r,o,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=(0,f.Yz7)({factory:J,token:s,providedIn:"platform"}),s})();function V(){return!!window.history.pushState}function J(){return new Q((0,f.LFG)(re))}function te(s,i){if(0==s.length)return i;if(0==i.length)return s;let r=0;return s.endsWith("/")&&r++,i.startsWith("/")&&r++,2==r?s+i.substring(1):1==r?s+i:s+"/"+i}function Ae(s){const i=s.match(/#|\?|$/),r=i&&i.index||s.length;return s.slice(0,r-("/"===s[r-1]?1:0))+s.slice(r)}function be(s){return s&&"?"!==s[0]?"?"+s:s}let ge=(()=>{class s{historyGo(r){throw new Error("Not implemented")}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,f.Yz7)({factory:fe,token:s,providedIn:"root"}),s})();function fe(s){const i=(0,f.LFG)(re).location;return new qe((0,f.LFG)(se),i&&i.origin||"")}const Se=new f.OlP("appBaseHref");let qe=(()=>{class s extends ge{constructor(r,o){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return te(this._baseHref,r)}path(r=!1){const o=this._platformLocation.pathname+be(this._platformLocation.search),a=this._platformLocation.hash;return a&&r?`${o}${a}`:o}pushState(r,o,a,c){const g=this.prepareExternalUrl(a+be(c));this._platformLocation.pushState(r,o,g)}replaceState(r,o,a,c){const g=this.prepareExternalUrl(a+be(c));this._platformLocation.replaceState(r,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var o,a;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,r)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(se),f.LFG(Se,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Ue=(()=>{class s extends ge{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(r){const o=te(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,a,c){let g=this.prepareExternalUrl(a+be(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(r,o,g)}replaceState(r,o,a,c){let g=this.prepareExternalUrl(a+be(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var o,a;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,r)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(se),f.LFG(Se,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Xe=(()=>{class s{constructor(r,o){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const a=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ae(Yt(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+be(o))}normalize(r){return s.stripTrailingSlash(function(s,i){return s&&i.startsWith(s)?i.substring(s.length):i}(this._baseHref,Yt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,o="",a=null){this._platformStrategy.pushState(a,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+be(o)),a)}replaceState(r,o="",a=null){this._platformStrategy.replaceState(a,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+be(o)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var o,a;null===(a=(o=this._platformStrategy).historyGo)||void 0===a||a.call(o,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(a=>a(r,o))}subscribe(r,o,a){return this._subject.subscribe({next:r,error:o,complete:a})}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(ge),f.LFG(se))},s.normalizeQueryParams=be,s.joinWithSlash=te,s.stripTrailingSlash=Ae,s.\u0275prov=(0,f.Yz7)({factory:Dt,token:s,providedIn:"root"}),s})();function Dt(){return new Xe((0,f.LFG)(ge),(0,f.LFG)(se))}function Yt(s){return s.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Zero=0]="Zero",me[me.One=1]="One",me[me.Two=2]="Two",me[me.Few=3]="Few",me[me.Many=4]="Many",me[me.Other=5]="Other",me))();const ti=f.kL8;class Qi{}let jo=(()=>{class s extends Qi{constructor(r){super(),this.locale=r}getPluralCategory(r,o){switch(ti(o||this.locale)(r)){case me.Zero:return"zero";case me.One:return"one";case me.Two:return"two";case me.Few:return"few";case me.Many:return"many";default:return"other"}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.soG))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Br{constructor(i,r,o,a){this.$implicit=i,this.ngForOf=r,this.index=o,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class s{constructor(r,o,a){this._viewContainer=r,this._template=o,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(s){return s.name||typeof s}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=[];r.forEachOperation((a,c,g)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new Br(null,this._ngForOf,-1,-1),null===g?void 0:g),b=new Lc(a,_);o.push(b)}else if(null==g)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const _=this._viewContainer.get(c);this._viewContainer.move(_,g);const b=new Lc(a,_);o.push(b)}});for(let a=0;a<o.length;a++)this._perViewChange(o[a].view,o[a].record);for(let a=0,c=this._viewContainer.length;a<c;a++){const g=this._viewContainer.get(a);g.context.index=a,g.context.count=c,g.context.ngForOf=this._ngForOf}r.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(r,o){r.context.$implicit=o.item}static ngTemplateContextGuard(r,o){return!0}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class Lc{constructor(i,r){this.record=i,this.view=r}}let Ho=(()=>{class s{constructor(r,o){this._viewContainer=r,this._context=new Ea,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){sr("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){sr("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.s_b),f.Y36(f.Rgc))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class Ea{constructor(){this.$implicit=null,this.ngIf=null}}function sr(s,i){if(i&&!i.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,f.AaK)(i)}'.`)}class Gs{constructor(i,r){this._viewContainerRef=i,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Xi=(()=>{class s{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(r)}_matchCase(r){const o=r==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(r){if(this._defaultViews&&r!==this._defaultUsed){this._defaultUsed=r;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(r)}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),s})(),Qn=(()=>{class s{constructor(r,o,a){this.ngSwitch=a,a._addCase(),this._view=new Gs(r,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Xi,9))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),s})(),Fi=(()=>{class s{constructor(r,o,a){this._ngEl=r,this._differs=o,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){const r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,o){const[a,c]=r.split(".");null!=(o=null!=o&&c?`${o}${c}`:o)?this._renderer.setStyle(this._ngEl.nativeElement,a,o):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(r){r.forEachRemovedItem(o=>this._setStyle(o.key,null)),r.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),r.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),s})();let es=(()=>{class s{transform(r,o,a){if(null==r)return null;if(!this.supports(r))throw function(s,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,f.AaK)(s)}'`)}(s,r);return r.slice(o,a)}supports(r){return"string"==typeof r||Array.isArray(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=f.Yjl({name:"slice",type:s,pure:!1}),s})(),gs=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[{provide:Qi,useClass:jo}]}),s})();function Hn(s){return"browser"===s}function ts(s){return"server"===s}let gl=(()=>{class s{}return s.\u0275prov=(0,f.Yz7)({token:s,providedIn:"root",factory:()=>new xu((0,f.LFG)(re),window)}),s})();class xu{constructor(i,r){this.document=i,this.window=r,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const r=function(s,i){const r=s.getElementById(i)||s.getElementsByName(i)[0];if(r)return r;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const c=a.shadowRoot;if(c){const g=c.getElementById(i)||c.querySelector(`[name="${i}"]`);if(g)return g}a=o.nextNode()}}return null}(this.document,i);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=i)}}scrollToElement(i){const r=i.getBoundingClientRect(),o=r.left+this.window.pageXOffset,a=r.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(o-c[0],a-c[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=ml(this.window.history)||ml(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function ml(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class G extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new G,pe||(pe=s)}onAndCancel(i,r,o){return i.addEventListener(r,o,!1),()=>{i.removeEventListener(r,o,!1)}}dispatchEvent(i,r){i.dispatchEvent(r)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,r){return(r=r||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,r){return"window"===r?window:"document"===r?i:"body"===r?i.body:null}getBaseHref(i){const r=(Y=Y||document.querySelector("base"),Y?Y.getAttribute("href"):null);return null==r?null:function(s){xe=xe||document.createElement("a"),xe.setAttribute("href",s);const i=xe.pathname;return"/"===i.charAt(0)?i:`/${i}`}(r)}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(s,i){i=encodeURIComponent(i);for(const r of s.split(";")){const o=r.indexOf("="),[a,c]=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)];if(a.trim()===i)return decodeURIComponent(c)}return null}(document.cookie,i)}}let xe,Y=null;const Qe=new f.OlP("TRANSITION_ID"),ct=[{provide:f.ip1,useFactory:function(s,i,r){return()=>{r.get(f.CZH).donePromise.then(()=>{const o=$(),a=i.querySelectorAll(`style[ng-transition="${s}"]`);for(let c=0;c<a.length;c++)o.remove(a[c])})}},deps:[Qe,re,f.zs3],multi:!0}];class hn{static init(){(0,f.VLi)(new hn)}addToWindow(i){f.dqk.getAngularTestability=(o,a=!0)=>{const c=i.findTestabilityInTree(o,a);if(null==c)throw new Error("Could not find testability for element.");return c},f.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(o=>{const a=f.dqk.getAllAngularTestabilities();let c=a.length,g=!1;const _=function(b){g=g||b,c--,0==c&&o(g)};a.forEach(function(b){b.whenStable(_)})})}findTestabilityInTree(i,r,o){if(null==r)return null;const a=i.getTestability(r);return null!=a?a:o?$().isShadowRoot(r)?this.findTestabilityInTree(i,r.host,!0):this.findTestabilityInTree(i,r.parentElement,!0):null}}let xr=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Sa=new f.OlP("EventManagerPlugins");let Fe=(()=>{class s{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(a=>a.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,o,a){return this._findPluginFor(o).addEventListener(r,o,a)}addGlobalEventListener(r,o,a){return this._findPluginFor(o).addGlobalEventListener(r,o,a)}getZone(){return this._zone}_findPluginFor(r){const o=this._eventNameToPlugin.get(r);if(o)return o;const a=this._plugins;for(let c=0;c<a.length;c++){const g=a[c];if(g.supports(r))return this._eventNameToPlugin.set(r,g),g}throw new Error(`No event manager plugin found for event ${r}`)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(Sa),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class zt{constructor(i){this._doc=i}addGlobalEventListener(i,r,o){const a=$().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${r}`);return this.addEventListener(a,r,o)}}let rf=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(r){const o=new Set;r.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),o.add(a))}),this.onStylesAdded(o)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Mn=(()=>{class s extends rf{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,o,a){r.forEach(c=>{const g=this._doc.createElement("style");g.textContent=c,a.push(o.appendChild(g))})}addHost(r){const o=[];this._addStylesToHost(this._stylesSet,r,o),this._hostNodes.set(r,o)}removeHost(r){const o=this._hostNodes.get(r);o&&o.forEach(sf),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((o,a)=>{this._addStylesToHost(r,a,o)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(sf))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function sf(s){$().remove(s)}const Da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vi=/%COMP%/g;function or(s,i,r){for(let o=0;o<i.length;o++){let a=i[o];Array.isArray(a)?or(s,a,r):(a=a.replace(vi,s),r.push(a))}return r}function _s(s){return i=>{if("__ngUnwrap__"===i)return s;!1===s(i)&&(i.preventDefault(),i.returnValue=!1)}}let yo=(()=>{class s{constructor(r,o,a){this.eventManager=r,this.sharedStylesHost=o,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Pi(r)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;switch(o.encapsulation){case f.ifc.Emulated:{let a=this.rendererByCompId.get(o.id);return a||(a=new lf(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,a)),a.applyToHost(r),a}case 1:case f.ifc.ShadowDom:return new uf(this.eventManager,this.sharedStylesHost,r,o);default:if(!this.rendererByCompId.has(o.id)){const a=or(o.id,o.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(Fe),f.LFG(Mn),f.LFG(f.AFp))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Pi{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,r){return r?document.createElementNS(Da[r]||r,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,r){i.appendChild(r)}insertBefore(i,r,o){i&&i.insertBefore(r,o)}removeChild(i,r){i&&i.removeChild(r)}selectRootElement(i,r){let o="string"==typeof i?document.querySelector(i):i;if(!o)throw new Error(`The selector "${i}" did not match any elements`);return r||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,r,o,a){if(a){r=a+":"+r;const c=Da[a];c?i.setAttributeNS(c,r,o):i.setAttribute(r,o)}else i.setAttribute(r,o)}removeAttribute(i,r,o){if(o){const a=Da[o];a?i.removeAttributeNS(a,r):i.removeAttribute(`${o}:${r}`)}else i.removeAttribute(r)}addClass(i,r){i.classList.add(r)}removeClass(i,r){i.classList.remove(r)}setStyle(i,r,o,a){a&(f.JOm.DashCase|f.JOm.Important)?i.style.setProperty(r,o,a&f.JOm.Important?"important":""):i.style[r]=o}removeStyle(i,r,o){o&f.JOm.DashCase?i.style.removeProperty(r):i.style[r]=""}setProperty(i,r,o){i[r]=o}setValue(i,r){i.nodeValue=r}listen(i,r,o){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,r,_s(o)):this.eventManager.addEventListener(i,r,_s(o))}}class lf extends Pi{constructor(i,r,o,a){super(i),this.component=o;const c=or(a+"-"+o.id,o.styles,[]);r.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(vi,a+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(vi,s)}(a+"-"+o.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,r){const o=super.createElement(i,r);return super.setAttribute(o,this.contentAttr,""),o}}class uf extends Pi{constructor(i,r,o,a){super(i),this.sharedStylesHost=r,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=or(a.id,a.styles,[]);for(let g=0;g<c.length;g++){const _=document.createElement("style");_.textContent=c[g],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,r){return super.appendChild(this.nodeOrShadowRoot(i),r)}insertBefore(i,r,o){return super.insertBefore(this.nodeOrShadowRoot(i),r,o)}removeChild(i,r){return super.removeChild(this.nodeOrShadowRoot(i),r)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let cf=(()=>{class s extends zt{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,a){return r.addEventListener(o,a,!1),()=>this.removeEventListener(r,o,a)}removeEventListener(r,o,a){return r.removeEventListener(o,a)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Du=["alt","control","meta","shift"],A0={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qc={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Ma=(()=>{class s extends zt{constructor(r){super(r)}supports(r){return null!=s.parseEventName(r)}addEventListener(r,o,a){const c=s.parseEventName(o),g=s.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(r,c.domEventName,g))}static parseEventName(r){const o=r.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const c=s._normalizeKey(o.pop());let g="";if(Du.forEach(b=>{const S=o.indexOf(b);S>-1&&(o.splice(S,1),g+=b+".")}),g+=c,0!=o.length||0===c.length)return null;const _={};return _.domEventName=a,_.fullKey=g,_}static getEventFullKey(r){let o="",a=function(s){let i=s.key;if(null==i){if(i=s.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===s.location&&oi.hasOwnProperty(i)&&(i=oi[i]))}return A0[i]||i}(r);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Du.forEach(c=>{c!=a&&qc[c](r)&&(o+=c+".")}),o+=a,o}static eventCallback(r,o,a){return c=>{s.getEventFullKey(c)===r&&a.runGuarded(()=>o(c))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Ra=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,f.Yz7)({factory:function(){return(0,f.LFG)(Cl)},token:s,providedIn:"root"}),s})(),Cl=(()=>{class s extends Ra{constructor(r){super(),this._doc=r}sanitize(r,o){if(null==o)return null;switch(r){case f.q3G.NONE:return o;case f.q3G.HTML:return(0,f.qzn)(o,"HTML")?(0,f.z3N)(o):(0,f.EiD)(this._doc,String(o)).toString();case f.q3G.STYLE:return(0,f.qzn)(o,"Style")?(0,f.z3N)(o):o;case f.q3G.SCRIPT:if((0,f.qzn)(o,"Script"))return(0,f.z3N)(o);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(o),(0,f.qzn)(o,"URL")?(0,f.z3N)(o):(0,f.mCW)(String(o));case f.q3G.RESOURCE_URL:if((0,f.qzn)(o,"ResourceURL"))return(0,f.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${r} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(r){return(0,f.JVY)(r)}bypassSecurityTrustStyle(r){return(0,f.L6k)(r)}bypassSecurityTrustScript(r){return(0,f.eBb)(r)}bypassSecurityTrustUrl(r){return(0,f.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,f.pB0)(r)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=(0,f.Yz7)({factory:function(){return function(s){return new Cl(s.get(re))}((0,f.LFG)(f.gxx))},token:s,providedIn:"root"}),s})();const Mu=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){G.makeCurrent(),hn.init()},multi:!0},{provide:re,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),Kg=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Sa,useClass:cf,multi:!0,deps:[re,f.R0b,f.Lbi]},{provide:Sa,useClass:Ma,multi:!0,deps:[re]},[],{provide:yo,useClass:yo,deps:[Fe,Mn,f.AFp]},{provide:f.FYo,useExisting:yo},{provide:rf,useExisting:Mn},{provide:Mn,useClass:Mn,deps:[re]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Fe,useClass:Fe,deps:[Sa,f.R0b]},{provide:class{},useClass:xr,deps:[]},[]];let xl=(()=>{class s{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:s,providers:[{provide:f.AFp,useValue:r.appId},{provide:Qe,useExisting:f.AFp},ct]}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(s,12))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:Kg,imports:[gs,f.hGG]}),s})();function Zc(){return new ka((0,f.LFG)(re))}let ka=(()=>{class s{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=(0,f.Yz7)({factory:Zc,token:s,providedIn:"root"}),s})();"undefined"!=typeof window&&window;var Rn=U(4402),Dn=U(7574),Fa=U(9796),bt=U(8002),pf=U(1555);function gf(...s){if(1===s.length){const i=s[0];if((0,Fa.k)(i))return Fu(i,null);if((0,pf.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const r=Object.keys(i);return Fu(r.map(o=>i[o]),r)}}if("function"==typeof s[s.length-1]){const i=s.pop();return Fu(s=1===s.length&&(0,Fa.k)(s[0])?s[0]:s,null).pipe((0,bt.U)(r=>i(...r)))}return Fu(s,null)}function Fu(s,i){return new Dn.y(r=>{const o=s.length;if(0===o)return void r.complete();const a=new Array(o);let c=0,g=0;for(let _=0;_<o;_++){const b=(0,Rn.D)(s[_]);let S=!1;r.add(b.subscribe({next:T=>{S||(S=!0,g++),a[_]=T},error:T=>r.error(T),complete:()=>{c++,(c===o||!S)&&(g===o&&r.next(i?i.reduce((T,R,N)=>(T[R]=a[N],T),{}):a),r.complete())}}))}})}const Jn=new f.OlP("NgValidators"),Li=new f.OlP("NgAsyncValidators");function sm(s){return null!=s}function Lu(s){const i=(0,f.QGY)(s)?(0,Rn.D)(s):s;return(0,f.CqO)(i),i}function xv(s){let i={};return s.forEach(r=>{i=null!=r?Object.assign(Object.assign({},i),r):i}),0===Object.keys(i).length?null:i}function yf(s,i){return i.map(r=>r(s))}function vf(s){return s.map(i=>function(s){return!s.validate}(i)?i:r=>i.validate(r))}function nd(s){return null!=s?function(s){if(!s)return null;const i=s.filter(sm);return 0==i.length?null:function(r){return xv(yf(r,i))}}(vf(s)):null}function id(s){return null!=s?function(s){if(!s)return null;const i=s.filter(sm);return 0==i.length?null:function(r){return gf(yf(r,i).map(Lu)).pipe((0,bt.U)(xv))}}(vf(s)):null}function Sv(s,i){return null===s?[i]:Array.isArray(s)?[...s,i]:[s,i]}function Ko(s){return s._rawValidators}function Vu(s){return s._rawAsyncValidators}function Cn(s){return s?Array.isArray(s)?s:[s]:[]}function wo(s,i){return Array.isArray(s)?s.includes(i):s===i}function Bu(s,i){const r=Cn(i);return Cn(s).forEach(a=>{wo(r,a)||r.push(a)}),r}function Dv(s,i){return Cn(i).filter(r=>!wo(s,r))}let om=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=nd(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=id(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,o){return!!this.control&&this.control.hasError(r,o)}getError(r,o){return this.control?this.control.getError(r,o):null}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s}),s})(),vn=(()=>{class s extends om{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let i;return function(o){return(i||(i=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})();class mr extends om{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}function Tl(s,i){sd(s,i),i.valueAccessor.writeValue(s.value),function(s,i){i.valueAccessor.registerOnChange(r=>{s._pendingValue=r,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&od(s,i)})}(s,i),function(s,i){const r=(o,a)=>{i.valueAccessor.writeValue(o),a&&i.viewToModelUpdate(o)};s.registerOnChange(r),i._registerOnDestroy(()=>{s._unregisterOnChange(r)})}(s,i),function(s,i){i.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&od(s,i),"submit"!==s.updateOn&&s.markAsTouched()})}(s,i),function(s,i){if(i.valueAccessor.setDisabledState){const r=o=>{i.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(r),i._registerOnDestroy(()=>{s._unregisterOnDisabledChange(r)})}}(s,i)}function Sr(s,i,r=!0){const o=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(o),i.valueAccessor.registerOnTouched(o)),Pa(s,i),s&&(i._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function Ml(s,i){s.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(i)})}function sd(s,i){const r=Ko(s);null!==i.validator?s.setValidators(Sv(r,i.validator)):"function"==typeof r&&s.setValidators([r]);const o=Vu(s);null!==i.asyncValidator?s.setAsyncValidators(Sv(o,i.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const a=()=>s.updateValueAndValidity();Ml(i._rawValidators,a),Ml(i._rawAsyncValidators,a)}function Pa(s,i){let r=!1;if(null!==s){if(null!==i.validator){const a=Ko(s);if(Array.isArray(a)&&a.length>0){const c=a.filter(g=>g!==i.validator);c.length!==a.length&&(r=!0,s.setValidators(c))}}if(null!==i.asyncValidator){const a=Vu(s);if(Array.isArray(a)&&a.length>0){const c=a.filter(g=>g!==i.asyncValidator);c.length!==a.length&&(r=!0,s.setAsyncValidators(c))}}}const o=()=>{};return Ml(i._rawValidators,o),Ml(i._rawAsyncValidators,o),r}function od(s,i){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function cm(s,i){sd(s,i)}function ud(s,i){s._syncPendingControls(),i.forEach(r=>{const o=r.control;"submit"===o.updateOn&&o._pendingChange&&(r.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function Ol(s,i){const r=s.indexOf(i);r>-1&&s.splice(r,1)}const Va="VALID",Co="INVALID",Ba="PENDING",Qo="DISABLED";function Jo(s){return(Cf(s)?s.validators:s)||null}function Ef(s){return Array.isArray(s)?nd(s):s||null}function Pn(s,i){return(Cf(i)?i.asyncValidators:s)||null}function cd(s){return Array.isArray(s)?id(s):s||null}function Cf(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Ys{constructor(i,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=r,this._composedValidatorFn=Ef(this._rawValidators),this._composedAsyncValidatorFn=cd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Va}get invalid(){return this.status===Co}get pending(){return this.status==Ba}get disabled(){return this.status===Qo}get enabled(){return this.status!==Qo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Ef(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=cd(i)}addValidators(i){this.setValidators(Bu(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Bu(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Dv(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Dv(i,this._rawAsyncValidators))}hasValidator(i){return wo(this._rawValidators,i)}hasAsyncValidator(i){return wo(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Ba,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const r=this._parentMarkedDirty(i.onlySelf);this.status=Qo,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:r})),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){const r=this._parentMarkedDirty(i.onlySelf);this.status=Va,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:r})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===Ba)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qo:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Ba,this._hasOwnPendingAsyncValidator=!0;const r=Lu(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,r={}){this.errors=i,this._updateControlsErrors(!1!==r.emitEvent)}get(i){return function(s,i,r){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let o=s;return i.forEach(a=>{o=o instanceof xf?o.controls.hasOwnProperty(a)?o.controls[a]:null:o instanceof hm&&o.at(a)||null}),o}(this,i)}getError(i,r){const o=r?this.get(r):this;return o&&o.errors?o.errors[i]:null}hasError(i,r){return!!this.getError(i,r)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Qo:this.errors?Co:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ba)?Ba:this._anyControlsHaveStatus(Co)?Co:Va}_anyControlsHaveStatus(i){return this._anyControls(r=>r.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Cf(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ks extends Ys{constructor(i=null,r,o){super(Jo(r),Pn(o,r)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,r={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(i,r={}){this.setValue(i,r)}reset(i=null,r={}){this._applyFormState(i),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Ol(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Ol(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class xf extends Ys{constructor(i,r,o){super(Jo(r),Pn(o,r)),this.controls=i,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,r){return this.controls[i]?this.controls[i]:(this.controls[i]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(i,r,o={}){this.registerControl(i,r),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(i,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(i,r,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],r&&this.registerControl(i,r),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,r={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(i[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(i,r={}){null!=i&&(Object.keys(i).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(i[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(i={},r={}){this._forEachChild((o,a)=>{o.reset(i[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(i,r,o)=>(i[o]=r instanceof Ks?r.value:r.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(r,o)=>!!o._syncPendingControls()||r);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(r=>{const o=this.controls[r];o&&i(o,r)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const r of Object.keys(this.controls)){const o=this.controls[r];if(this.contains(r)&&i(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,r,o)=>((r.enabled||this.disabled)&&(i[o]=r.value),i))}_reduceChildren(i,r){let o=i;return this._forEachChild((a,c)=>{o=r(o,a,c)}),o}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((r,o)=>{if(void 0===i[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class hm extends Ys{constructor(i,r,o){super(Jo(r),Pn(o,r)),this.controls=i,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,r={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(i,r,o={}){this.controls.splice(i,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(i,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(i,r,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,r={}){this._checkAllValuesPresent(i),i.forEach((o,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(o,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(i,r={}){null!=i&&(i.forEach((o,a)=>{this.at(a)&&this.at(a).patchValue(o,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(i=[],r={}){this._forEachChild((o,a)=>{o.reset(i[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(i=>i instanceof Ks?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((r,o)=>!!o._syncPendingControls()||r,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((r,o)=>{i(r,o)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(r=>r.enabled&&i(r))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((r,o)=>{if(void 0===i[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const fm={provide:vn,useExisting:(0,f.Gpc)(()=>rs)},Zs=(()=>Promise.resolve(null))();let rs=(()=>{class s extends vn{constructor(r,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new xf({},nd(r),id(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Zs.then(()=>{const o=this._findContainer(r.path);r.control=o.registerControl(r.name,r.control),Tl(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Zs.then(()=>{const o=this._findContainer(r.path);o&&o.removeControl(r.name),Ol(this._directives,r)})}addFormGroup(r){Zs.then(()=>{const o=this._findContainer(r.path),a=new xf({});cm(a,r),o.registerControl(r.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Zs.then(()=>{const o=this._findContainer(r.path);o&&o.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,o){Zs.then(()=>{this.form.get(r.path).setValue(o)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,ud(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(Jn,10),f.Y36(Li,10))},s.\u0275dir=f.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&f.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([fm]),f.qOj]}),s})(),Mf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const Pl={provide:vn,useExisting:(0,f.Gpc)(()=>Ll)};let Ll=(()=>{class s extends vn{constructor(r,o){super(),this.validators=r,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(r),this._setAsyncValidators(o)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pa(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const o=this.form.get(r.path);return Tl(o,r),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),o}getControl(r){return this.form.get(r.path)}removeControl(r){Sr(r.control||null,r,!1),Ol(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,o){this.form.get(r.path).setValue(o)}onSubmit(r){return this.submitted=!0,ud(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const o=r.control,a=this.form.get(r.path);o!==a&&(Sr(o||null,r),a instanceof Ks&&(Tl(a,r),r.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const o=this.form.get(r.path);cm(o,r),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const o=this.form.get(r.path);o&&function(s,i){return Pa(s,i)}(o,r)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sd(this.form,this),this._oldForm&&Pa(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(Jn,10),f.Y36(Li,10))},s.\u0275dir=f.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&f.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Pl]),f.qOj,f.TTD]}),s})(),vd=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Mf]]}),s})(),Uf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[vd]}),s})();var Pt=U(9765),wm=U(7971);class $r extends Pt.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const r=super._subscribe(i);return r&&!r.closed&&i.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new wm.N;return this._value}next(i){super.next(this._value=i)}}var Ul=U(6682),lr=U(7393);function zn(s,i){return function(o){return o.lift(new Gf(s,i))}}class Gf{constructor(i,r){this.predicate=i,this.thisArg=r}call(i,r){return r.subscribe(new Hv(i,this.predicate,this.thisArg))}}class Hv extends lr.L{constructor(i,r,o){super(i),this.predicate=r,this.thisArg=o,this.count=0}_next(i){let r;try{r=this.predicate.call(this.thisArg,i,this.count++)}catch(o){return void this.destination.error(o)}r&&this.destination.next(i)}}var qt=U(3342);const jf={provide:f.tb,useFactory:function(s,i){return()=>{if(Hn(i)){const r=Array.from(s.querySelectorAll(`[class*=${Gl}]`)),o=/\bflex-layout-.+?\b/g;r.forEach(a=>{a.classList.contains(`${Gl}ssr`)&&a.parentNode?a.parentNode.removeChild(a):a.className.replace(o,"")})}}},deps:[re,f.Lbi],multi:!0},Gl="flex-layout-";let Wu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[jf]}),s})();class Ha{constructor(i=!1,r="all",o="",a="",c=0){this.matches=i,this.mediaQuery=r,this.mqAlias=o,this.suffix=a,this.priority=c,this.property=""}clone(){return new Ha(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let bd=(()=>{class s{constructor(){this.stylesheet=new Map}addStyleToElement(r,o,a){const c=this.stylesheet.get(r);c?c.set(o,a):this.stylesheet.set(r,new Map([[o,a]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(r,o){const a=this.stylesheet.get(r);let c="";if(a){const g=a.get(o);("number"==typeof g||"string"==typeof g)&&(c=g+"")}return c}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s},token:s,providedIn:"root"}),s})();const ai={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},li=new f.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>ai}),ea=new f.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Cm=new f.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Hf(s,i){return s=s?s.clone():new Ha,i&&(s.mqAlias=i.alias,s.mediaQuery=i.mediaQuery,s.suffix=i.suffix,s.priority=i.priority),s}const xo="inline",zr=["row","column","row-reverse","column-reverse"];function Ao(s){if(s)switch(s.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":s="wrap-reverse";break;case"no":case"none":case"nowrap":s="nowrap";break;default:s="wrap"}return s}let xn=(()=>{class s{constructor(r,o,a,c){this.elementRef=r,this.styleBuilder=o,this.styler=a,this.marshal=c,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Pt.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,r,this.marshal.activatedAlias)}ngOnChanges(r){Object.keys(r).forEach(o=>{if(-1!==this.inputs.indexOf(o)){const a=o.split(".").slice(1).join(".");this.setValue(r[o].currentValue,a)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(r=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),r)}addStyles(r,o){const a=this.styleBuilder,c=a.shouldCache;let g=this.styleCache.get(r);(!g||!c)&&(g=a.buildStyles(r,o),c&&this.styleCache.set(r,g)),this.mru=Object.assign({},g),this.applyStyleToElement(g),a.sideEffect(r,g,o)}clearStyles(){Object.keys(this.mru).forEach(r=>{this.mru[r]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(r,o=!1){if(r){const[a,c]=this.styler.getFlowDirection(r);if(!c&&o){const g=function(s){let[i,r,o]=function(s){s=s?s.toLowerCase():"";let[i,r,o]=s.split(" ");return zr.find(a=>a===i)||(i=zr[0]),r===xo&&(r=o!==xo?o:"",o=xo),[i,Ao(r),!!o]}(s);return function(s,i=null,r=!1){return{display:r?"inline-flex":"flex","box-sizing":"border-box","flex-direction":s,"flex-wrap":i||null}}(i,r,o)}(a);this.styler.applyStyleToElements(g,[r])}return a.trim()}return"row"}hasWrap(r){return this.styler.hasWrap(r)}applyStyleToElement(r,o,a=this.nativeElement){this.styler.applyStyleToElement(a,r,o)}setValue(r,o){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,r,o)}updateWithValue(r){this.currentValue!==r&&(this.addStyles(r),this.currentValue=r)}}return s.\u0275fac=function(r){f.$Z()},s.\u0275dir=f.lG2({type:s,features:[f.TTD]}),s})();const $f=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Am="(orientation: portrait) and (max-width: 599.98px)",zf="(orientation: landscape) and (max-width: 959.98px)",qr="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Ed="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Yu="(orientation: portrait) and (min-width: 840px)",Cd="(orientation: landscape) and (min-width: 1280px)",Qs={HANDSET:`${Am}, ${zf}`,TABLET:`${qr} , ${Ed}`,WEB:`${Yu}, ${Cd} `,HANDSET_PORTRAIT:`${Am}`,TABLET_PORTRAIT:`${qr} `,WEB_PORTRAIT:`${Yu}`,HANDSET_LANDSCAPE:`${zf}`,TABLET_LANDSCAPE:`${Ed}`,WEB_LANDSCAPE:`${Cd}`},So=[{alias:"handset",priority:2e3,mediaQuery:Qs.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Qs.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Qs.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Qs.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Qs.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Qs.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Qs.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Qs.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Qs.WEB_PORTRAIT,overlapping:!0}],Sm=/(\.|-|_)/g;function qf(s){let i=s.length>0?s.charAt(0):"",r=s.length>1?s.slice(1):"";return i.toUpperCase()+r}function $v(s,i=[]){const r={};return s.forEach(o=>{r[o.alias]=o}),i.forEach(o=>{r[o.alias]?function(s,...i){if(null==s)throw TypeError("Cannot convert undefined or null to object");for(let r of i)if(null!=r)for(let o in r)r.hasOwnProperty(o)&&(s[o]=r[o])}(r[o.alias],o):r[o.alias]=o}),function(s){return s.forEach(i=>{i.suffix||(i.suffix=function(s){return s.replace(Sm,"|").split("|").map(qf).join("")}(i.alias),i.overlapping=!!i.overlapping)}),s}(Object.keys(r).map(o=>r[o]))}const zv=new f.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const s=(0,f.f3M)(Cm),i=(0,f.f3M)(li),r=[].concat.apply([],(s||[]).map(a=>Array.isArray(a)?a:[a]));return $v((i.disableDefaultBps?[]:$f).concat(i.addOrientationBps?So:[]),r)}});function jl(s,i){return(i&&i.priority||0)-(s&&s.priority||0)}function x(s,i){return(s.priority||0)-(i.priority||0)}let v=(()=>{class s{constructor(r){this.findByMap=new Map,this.items=[...r].sort(x)}findByAlias(r){return r?this.findWithPredicate(r,o=>o.alias==r):null}findByQuery(r){return this.findWithPredicate(r,o=>o.mediaQuery==r)}get overlappings(){return this.items.filter(r=>1==r.overlapping)}get aliases(){return this.items.map(r=>r.alias)}get suffixes(){return this.items.map(r=>r.suffix?r.suffix:"")}findWithPredicate(r,o){let a=this.findByMap.get(r);return a||(a=this.items.find(o)||null,this.findByMap.set(r,a)),a||null}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(zv))},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s((0,f.LFG)(zv))},token:s,providedIn:"root"}),s})(),w=(()=>{class s{constructor(r,o,a){this._zone=r,this._platformId=o,this._document=a,this.source=new $r(new Ha(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const r=[];return this.registry.forEach((o,a)=>{o.matches&&r.push(a)}),r}isActive(r){const o=this.registry.get(r);return o?o.matches:this.registerQuery(r).some(a=>a.matches)}observe(r,o=!1){if(r&&r.length){const a=this._observable$.pipe(zn(g=>!o||r.indexOf(g.mediaQuery)>-1)),c=new Dn.y(g=>{const _=this.registerQuery(r);if(_.length){const b=_.pop();_.forEach(S=>{g.next(S)}),this.source.next(b)}g.complete()});return(0,Ul.T)(c,a)}return this._observable$}registerQuery(r){const o=Array.isArray(r)?r:[r],a=[];return function(s,i){const r=s.filter(o=>!D[o]);if(r.length>0){const o=r.join(", ");try{const a=i.createElement("style");a.setAttribute("type","text/css"),a.styleSheet||a.appendChild(i.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${o} {.fx-query-test{ }}\n`)),i.head.appendChild(a),r.forEach(c=>D[c]=a)}catch(a){console.error(a)}}}(o,this._document),o.forEach(c=>{const g=b=>{this._zone.run(()=>this.source.next(new Ha(b.matches,c)))};let _=this.registry.get(c);_||(_=this.buildMQL(c),_.addListener(g),this.pendingRemoveListenerFns.push(()=>_.removeListener(g)),this.registry.set(c,_)),_.matches&&a.push(new Ha(!0,c))}),a}ngOnDestroy(){let r;for(;r=this.pendingRemoveListenerFns.pop();)r()}buildMQL(r){return function(s,i){return i&&window.matchMedia("all").addListener?window.matchMedia(s):{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(r,Hn(this._platformId))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.R0b),f.LFG(f.Lbi),f.LFG(re))},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s((0,f.LFG)(f.R0b),(0,f.LFG)(f.Lbi),(0,f.LFG)(re))},token:s,providedIn:"root"}),s})();const D={},et="print",gt={alias:et,mediaQuery:et,priority:1e3};let vt=(()=>{class s{constructor(r,o,a){this.breakpoints=r,this.layoutConfig=o,this._document=a,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new _r,this.deactivations=[]}withPrintQuery(r){return[...r,et]}isPrintEvent(r){return r.mediaQuery.startsWith(et)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(r=>this.breakpoints.findByAlias(r)).filter(r=>null!==r)}getEventBreakpoints({mediaQuery:r}){const o=this.breakpoints.findByQuery(r);return(o?[...this.printBreakPoints,o]:this.printBreakPoints).sort(jl)}updateEvent(r){let o=this.breakpoints.findByQuery(r.mediaQuery);return this.isPrintEvent(r)&&(o=this.getEventBreakpoints(r)[0],r.mediaQuery=o?o.mediaQuery:""),Hf(r,o)}registerBeforeAfterPrintHooks(r){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const o=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(r,this.getEventBreakpoints(new Ha(!0,et))),r.updateStyles())},a=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(r),r.updateStyles())};this._document.defaultView.addEventListener("beforeprint",o),this._document.defaultView.addEventListener("afterprint",a),this.beforePrintEventListeners.push(o),this.afterPrintEventListeners.push(a)}interceptEvents(r){return this.registerBeforeAfterPrintHooks(r),o=>{this.isPrintEvent(o)?o.matches&&!this.isPrinting?(this.startPrinting(r,this.getEventBreakpoints(o)),r.updateStyles()):!o.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(r),r.updateStyles()):this.collectActivations(o)}}blockPropagation(){return r=>!(this.isPrinting||this.isPrintEvent(r))}startPrinting(r,o){this.isPrinting=!0,r.activatedBreakpoints=this.queue.addPrintBreakpoints(o)}stopPrinting(r){r.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(r.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const o=this.breakpoints.findByQuery(r.mediaQuery);o&&(this.deactivations.push(o),this.deactivations.sort(jl))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(r=>this._document.defaultView.removeEventListener("beforeprint",r)),this.afterPrintEventListeners.forEach(r=>this._document.defaultView.removeEventListener("afterprint",r)))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(v),f.LFG(li),f.LFG(re))},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s((0,f.LFG)(v),(0,f.LFG)(li),(0,f.LFG)(re))},token:s,providedIn:"root"}),s})();class _r{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(i){return i.push(gt),i.sort(jl),i.forEach(r=>this.addBreakpoint(r)),this.printBreakpoints}addBreakpoint(i){var s;i&&void 0===this.printBreakpoints.find(o=>o.mediaQuery===i.mediaQuery)&&(this.printBreakpoints=(s=i)&&s.mediaQuery.startsWith(et)?[i,...this.printBreakpoints]:[...this.printBreakpoints,i])}clear(){this.printBreakpoints=[]}}function Ad(s){for(let i in s){let r=s[i]||"";switch(i){case"display":s.display="flex"===r?["-webkit-flex","flex"]:"inline-flex"===r?["-webkit-inline-flex","inline-flex"]:r;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":s["-webkit-"+i]=r;break;case"flex-direction":r=r||"row",s["-webkit-flex-direction"]=r,s["flex-direction"]=r;break;case"order":s.order=s["-webkit-"+i]=isNaN(+r)?"0":r}}return s}let cn=(()=>{class s{constructor(r,o,a,c){this._serverStylesheet=r,this._serverModuleLoaded=o,this._platformId=a,this.layoutConfig=c}applyStyleToElement(r,o,a=null){let c={};"string"==typeof o&&(c[o]=a,o=c),c=this.layoutConfig.disableVendorPrefixes?o:Ad(o),this._applyMultiValueStyleToElement(c,r)}applyStyleToElements(r,o=[]){const a=this.layoutConfig.disableVendorPrefixes?r:Ad(r);o.forEach(c=>{this._applyMultiValueStyleToElement(a,c)})}getFlowDirection(r){const o="flex-direction";let a=this.lookupStyle(r,o);return[a||"row",this.lookupInlineStyle(r,o)||ts(this._platformId)&&this._serverModuleLoaded?a:""]}hasWrap(r){return"wrap"===this.lookupStyle(r,"flex-wrap")}lookupAttributeValue(r,o){return r.getAttribute(o)||""}lookupInlineStyle(r,o){return Hn(this._platformId)?r.style.getPropertyValue(o):this._getServerStyle(r,o)}lookupStyle(r,o,a=!1){let c="";return r&&((c=this.lookupInlineStyle(r,o))||(Hn(this._platformId)?a||(c=getComputedStyle(r).getPropertyValue(o)):this._serverModuleLoaded&&(c=this._serverStylesheet.getStyleForElement(r,o)))),c?c.trim():""}_applyMultiValueStyleToElement(r,o){Object.keys(r).sort().forEach(a=>{const c=r[a],g=Array.isArray(c)?c:[c];g.sort();for(let _ of g)_=_?_+"":"",Hn(this._platformId)||!this._serverModuleLoaded?Hn(this._platformId)?o.style.setProperty(a,_):this._setServerStyle(o,a,_):this._serverStylesheet.addStyleToElement(o,a,_)})}_setServerStyle(r,o,a){o=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const c=this._readStyleAttribute(r);c[o]=a||"",this._writeStyleAttribute(r,c)}_getServerStyle(r,o){return this._readStyleAttribute(r)[o]||""}_readStyleAttribute(r){const o={},a=r.getAttribute("style");if(a){const c=a.split(/;+/g);for(let g=0;g<c.length;g++){const _=c[g].trim();if(_.length>0){const b=_.indexOf(":");if(-1===b)throw new Error(`Invalid CSS style: ${_}`);o[_.substr(0,b).trim()]=_.substr(b+1).trim()}}}return o}_writeStyleAttribute(r,o){let a="";for(const c in o)o[c]&&(a+=c+":"+o[c]+";");r.setAttribute("style",a)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(bd),f.LFG(ea),f.LFG(f.Lbi),f.LFG(li))},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s((0,f.LFG)(bd),(0,f.LFG)(ea),(0,f.LFG)(f.Lbi),(0,f.LFG)(li))},token:s,providedIn:"root"}),s})();class dn{constructor(){this.shouldCache=!0}sideEffect(i,r,o){}}let Ln=(()=>{class s{constructor(r,o,a){this.matchMedia=r,this.breakpoints=o,this.hook=a,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Pt.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(r){const o=this.findByQuery(r.mediaQuery);o&&((r=Hf(r,o)).matches&&-1===this.activatedBreakpoints.indexOf(o)?(this.activatedBreakpoints.push(o),this.activatedBreakpoints.sort(jl),this.updateStyles()):!r.matches&&-1!==this.activatedBreakpoints.indexOf(o)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(o),1),this.activatedBreakpoints.sort(jl),this.updateStyles()))}init(r,o,a,c,g=[]){Kf(this.updateMap,r,o,a),Kf(this.clearMap,r,o,c),this.buildElementKeyMap(r,o),this.watchExtraTriggers(r,o,g)}getValue(r,o,a){const c=this.elementMap.get(r);if(c){const g=void 0!==a?c.get(a):this.getActivatedValues(c,o);if(g)return g.get(o)}}hasValue(r,o){const a=this.elementMap.get(r);if(a){const c=this.getActivatedValues(a,o);if(c)return void 0!==c.get(o)||!1}return!1}setValue(r,o,a,c){let g=this.elementMap.get(r);if(g){const b=(g.get(c)||new Map).set(o,a);g.set(c,b),this.elementMap.set(r,g)}else g=(new Map).set(c,(new Map).set(o,a)),this.elementMap.set(r,g);const _=this.getValue(r,o);void 0!==_&&this.updateElement(r,o,_)}trackValue(r,o){return this.subject.asObservable().pipe(zn(a=>a.element===r&&a.key===o))}updateStyles(){this.elementMap.forEach((r,o)=>{const a=new Set(this.elementKeyMap.get(o));let c=this.getActivatedValues(r);c&&c.forEach((g,_)=>{this.updateElement(o,_,g),a.delete(_)}),a.forEach(g=>{if(c=this.getActivatedValues(r,g),c){const _=c.get(g);this.updateElement(o,g,_)}else this.clearElement(o,g)})})}clearElement(r,o){const a=this.clearMap.get(r);if(a){const c=a.get(o);c&&(c(),this.subject.next({element:r,key:o,value:""}))}}updateElement(r,o,a){const c=this.updateMap.get(r);if(c){const g=c.get(o);g&&(g(a),this.subject.next({element:r,key:o,value:a}))}}releaseElement(r){const o=this.watcherMap.get(r);o&&(o.forEach(c=>c.unsubscribe()),this.watcherMap.delete(r));const a=this.elementMap.get(r);a&&(a.forEach((c,g)=>a.delete(g)),this.elementMap.delete(r))}triggerUpdate(r,o){const a=this.elementMap.get(r);if(a){const c=this.getActivatedValues(a,o);c&&(o?this.updateElement(r,o,c.get(o)):c.forEach((g,_)=>this.updateElement(r,_,g)))}}buildElementKeyMap(r,o){let a=this.elementKeyMap.get(r);a||(a=new Set,this.elementKeyMap.set(r,a)),a.add(o)}watchExtraTriggers(r,o,a){if(a&&a.length){let c=this.watcherMap.get(r);if(c||(c=new Map,this.watcherMap.set(r,c)),!c.get(o)){const _=(0,Ul.T)(...a).subscribe(()=>{const b=this.getValue(r,o);this.updateElement(r,o,b)});c.set(o,_)}}}findByQuery(r){return this.breakpoints.findByQuery(r)}getActivatedValues(r,o){for(let c=0;c<this.activatedBreakpoints.length;c++){const _=r.get(this.activatedBreakpoints[c].alias);if(_&&(void 0===o||_.has(o)&&null!=_.get(o)))return _}const a=r.get("");return void 0===o||a&&a.has(o)?a:void 0}observeActivations(){const o=this.breakpoints.items.map(a=>a.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(o)).pipe((0,qt.b)(this.hook.interceptEvents(this)),zn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(w),f.LFG(v),f.LFG(vt))},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s((0,f.LFG)(w),(0,f.LFG)(v),(0,f.LFG)(vt))},token:s,providedIn:"root"}),s})();function Kf(s,i,r,o){if(void 0!==o){let a=s.get(i);a||(a=new Map,s.set(i,a)),a.set(r,o)}}function Qt(s){return null!=s&&"false"!=`${s}`}function ta(s,i=0){return function(s){return!isNaN(parseFloat(s))&&!isNaN(Number(s))}(s)?Number(s):i}function N0(s){return Array.isArray(s)?s:[s]}function yr(s){return null==s?"":"string"==typeof s?s:`${s}px`}function Es(s){return s instanceof f.SBq?s.nativeElement:s}var Cs=U(5345);function ui(s){return i=>i.lift(new Yv(s))}class Yv{constructor(i){this.notifier=i}call(i,r){const o=new F0(i),a=(0,Cs.ft)(this.notifier,new Cs.IY(o));return a&&!o.seenValue?(o.add(a),r.subscribe(o)):o}}class F0 extends Cs.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Om=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Wu]]}),s})();const nb=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,f.f3M)(re)}});let xs=(()=>{class s{constructor(r){if(this.value="ltr",this.change=new f.vpe,r){const a=r.documentElement?r.documentElement.dir:null,c=(r.body?r.body.dir:null)||a;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(nb,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(nb,8))},token:s,providedIn:"root"}),s})(),$l=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const Nm="inline",Dd=["row","column","row-reverse","column-reverse"];function G0(s){s=s?s.toLowerCase():"";let[i,r,o]=s.split(" ");return Dd.find(a=>a===i)||(i=Dd[0]),r===Nm&&(r=o!==Nm?o:"",o=Nm),[i,pM(r),!!o]}function Id(s){let[i]=G0(s);return i.indexOf("row")>-1}function pM(s){if(s)switch(s.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":s="wrap-reverse";break;case"no":case"none":case"nowrap":s="nowrap";break;default:s="wrap"}return s}let j0=(()=>{class s extends dn{buildStyles(r){return function(s){let[i,r,o]=G0(s);return function(s,i=null,r=!1){return{display:r?"inline-flex":"flex","box-sizing":"border-box","flex-direction":s,"flex-wrap":i||null}}(i,r,o)}(r)}}return s.\u0275fac=function(){let i;return function(o){return(i||(i=f.n5z(s)))(o||s)}}(),s.\u0275prov=(0,f.Yz7)({factory:function(){return new s},token:s,providedIn:"root"}),s})();const rb=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let MV=(()=>{class s extends xn{constructor(r,o,a,c){super(r,a,o,c),this.DIRECTIVE_KEY="layout",this.styleCache=_M,this.init()}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(cn),f.Y36(j0),f.Y36(Ln))},s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})(),Fm=(()=>{class s extends MV{constructor(){super(...arguments),this.inputs=rb}}return s.\u0275fac=function(){let i;return function(o){return(i||(i=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[f.qOj]}),s})();const _M=new Map,ib={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let yM=(()=>{class s extends dn{constructor(r){super(),this._styler=r}buildStyles(r,o){return r.endsWith(Qf)?function(s,i){const[r,o]=s.split(" "),c=S=>`-${S}`;let g="0px",_=c(o||r),b="0px";return"rtl"===i?b=c(r):g=c(r),{margin:`0px ${g} ${_} ${b}`}}(r=r.slice(0,r.indexOf(Qf)),o.directionality):{}}sideEffect(r,o,a){const c=a.items;if(r.endsWith(Qf)){const g=function(s,i){const[r,o]=s.split(" ");let c="0px",_="0px";return"rtl"===i?_=r:c=r,{padding:`0px ${c} ${o||r} ${_}`}}(r=r.slice(0,r.indexOf(Qf)),a.directionality);this._styler.applyStyleToElements(g,a.items)}else{const g=c.pop(),_=function(s,i){const r=H0(i.directionality,i.layout),o=Object.assign({},ib);return o[r]=s,o}(r,a);this._styler.applyStyleToElements(_,c),this._styler.applyStyleToElements(ib,[g])}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(cn))},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s((0,f.LFG)(cn))},token:s,providedIn:"root"}),s})();const vM=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let bM=(()=>{class s extends xn{constructor(r,o,a,c,g,_){super(r,g,c,_),this.zone=o,this.directionality=a,this.styleUtils=c,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Pt.xQ;const b=[this.directionality.change,this.observerSubject.asObservable()];this.init(b),this.marshal.trackValue(this.nativeElement,"layout").pipe(ui(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const r=this.nativeElement.children,o=[];for(let a=r.length;a--;)o[a]=r[a];return o}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(r){const a=r.value.split(" ");this.layout=a[0],Dd.find(c=>c===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(r){const o=this.childrenNodes.filter(a=>1===a.nodeType&&this.willDisplay(a)).sort((a,c)=>{const g=+this.styler.lookupStyle(a,"order"),_=+this.styler.lookupStyle(c,"order");return isNaN(g)||isNaN(_)||g===_?0:g>_?1:-1});if(o.length>0){const a=this.directionality.value,c=this.layout;"row"===c&&"rtl"===a?this.styleCache=wM:"row"===c&&"rtl"!==a?this.styleCache=CM:"column"===c&&"rtl"===a?this.styleCache=EM:"column"===c&&"rtl"!==a&&(this.styleCache=xM),this.addStyles(r,{directionality:a,items:o,layout:c})}}clearStyles(){const r=Object.keys(this.mru).length>0,o=r?"padding":H0(this.directionality.value,this.layout);r&&super.clearStyles(),this.styleUtils.applyStyleToElements({[o]:""},this.childrenNodes)}willDisplay(r){const o=this.marshal.getValue(r,"show-hide");return!0===o||void 0===o&&"none"!==this.styleUtils.lookupStyle(r,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(r=>{r.some(a=>a.addedNodes&&a.addedNodes.length>0||a.removedNodes&&a.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(xs),f.Y36(cn),f.Y36(yM),f.Y36(Ln))},s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})(),sb=(()=>{class s extends bM{constructor(){super(...arguments),this.inputs=vM}}return s.\u0275fac=function(){let i;return function(o){return(i||(i=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[f.qOj]}),s})();const wM=new Map,EM=new Map,CM=new Map,xM=new Map,Qf=" grid";function H0(s,i){switch(i){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===s?"margin-left":"margin-right";case"row-reverse":return"rtl"===s?"margin-right":"margin-left";default:return"rtl"===s?"margin-left":"margin-right"}}let jV=(()=>{class s extends dn{buildStyles(r,o){const a={},[c,g]=r.split(" ");switch(c){case"center":a["justify-content"]="center";break;case"space-around":a["justify-content"]="space-around";break;case"space-between":a["justify-content"]="space-between";break;case"space-evenly":a["justify-content"]="space-evenly";break;case"end":case"flex-end":a["justify-content"]="flex-end";break;case"start":case"flex-start":default:a["justify-content"]="flex-start"}switch(g){case"start":case"flex-start":a["align-items"]=a["align-content"]="flex-start";break;case"center":a["align-items"]=a["align-content"]="center";break;case"end":case"flex-end":a["align-items"]=a["align-content"]="flex-end";break;case"space-between":a["align-content"]="space-between",a["align-items"]="stretch";break;case"space-around":a["align-content"]="space-around",a["align-items"]="stretch";break;case"baseline":a["align-content"]="stretch",a["align-items"]="baseline";break;case"stretch":default:a["align-items"]=a["align-content"]="stretch"}return function(s,...i){if(null==s)throw TypeError("Cannot convert undefined or null to object");for(let r of i)if(null!=r)for(let o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return s}(a,{display:o.inline?"inline-flex":"flex","flex-direction":o.layout,"box-sizing":"border-box","max-width":"stretch"===g?Id(o.layout)?null:"100%":null,"max-height":"stretch"===g&&Id(o.layout)?"100%":null})}}return s.\u0275fac=function(){let i;return function(o){return(i||(i=f.n5z(s)))(o||s)}}(),s.\u0275prov=(0,f.Yz7)({factory:function(){return new s},token:s,providedIn:"root"}),s})();const HV=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let $V=(()=>{class s extends xn{constructor(r,o,a,c){super(r,a,o,c),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(ui(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(r){const o=this.layout||"row",a=this.inline;"row"===o&&a?this.styleCache=J0:"row"!==o||a?"row-reverse"===o&&a?this.styleCache=kM:"row-reverse"!==o||a?"column"===o&&a?this.styleCache=hb:"column"!==o||a?"column-reverse"===o&&a?this.styleCache=zl:"column-reverse"===o&&!a&&(this.styleCache=db):this.styleCache=OM:this.styleCache=Q0:this.styleCache=cb,this.addStyles(r,{layout:o,inline:a})}onLayoutChange(r){const o=r.value.split(" ");this.layout=o[0],this.inline=r.value.includes("inline"),Dd.find(a=>a===this.layout)||(this.layout="row"),this.triggerUpdate()}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(cn),f.Y36(jV),f.Y36(Ln))},s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})(),ia=(()=>{class s extends $V{constructor(){super(...arguments),this.inputs=HV}}return s.\u0275fac=function(){let i;return function(o){return(i||(i=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[f.qOj]}),s})();const cb=new Map,OM=new Map,Q0=new Map,db=new Map,J0=new Map,hb=new Map,kM=new Map,zl=new Map;let X0=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Wu,$l]]}),s})(),Ax=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Wu]]}),s})(),kd=(()=>{class s{constructor(r,o){ts(o)&&!r&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(r,o=[]){return{ngModule:s,providers:r.serverLoaded?[{provide:li,useValue:Object.assign(Object.assign({},ai),r)},{provide:Cm,useValue:o,multi:!0},{provide:ea,useValue:!0}]:[{provide:li,useValue:Object.assign(Object.assign({},ai),r)},{provide:Cm,useValue:o,multi:!0}]}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(ea),f.LFG(f.Lbi))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[X0,Om,Ax],X0,Om,Ax]}),s})();var it=U(5917),jm=U(4869);class pR extends lr.L{notifyNext(i,r,o,a,c){this.destination.next(r)}notifyError(i,r){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class Nd extends lr.L{constructor(i,r,o){super(),this.parent=i,this.outerValue=r,this.outerIndex=o,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var gR=U(7444);function mR(s,i,r,o,a=new Nd(s,r,o)){if(!a.closed)return i instanceof Dn.y?i.subscribe(a):(0,gR.s)(i)(a)}var _R=U(6693);const Sx={};class yR{constructor(i){this.resultSelector=i}call(i,r){return r.subscribe(new Dx(i,this.resultSelector))}}class Dx extends pR{constructor(i,r){super(i),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(Sx),this.observables.push(i)}_complete(){const i=this.observables,r=i.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let o=0;o<r;o++)this.add(mR(this,i[o],void 0,o))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,r,o){const a=this.values,g=this.toRespond?a[o]===Sx?--this.toRespond:this.toRespond:0;a[o]=r,0===g&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(i){let r;try{r=this.resultSelector.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(r)}}const Fd=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var xb=U(3282);function tp(...s){return(0,xb.J)(1)((0,it.of)(...s))}var Js=U(9193);function Ix(s){return new Dn.y(i=>{let r;try{r=s()}catch(a){return void i.error(a)}return(r?(0,Rn.D)(r):(0,Js.c)()).subscribe(i)})}var vR=U(2441);function vr(s,i){return"function"==typeof i?r=>r.pipe(vr((o,a)=>(0,Rn.D)(s(o,a)).pipe((0,bt.U)((c,g)=>i(o,c,a,g))))):r=>r.lift(new Tx(s))}class Tx{constructor(i){this.project=i}call(i,r){return r.subscribe(new Mx(i,this.project))}}class Mx extends Cs.Ds{constructor(i,r){super(i),this.project=r,this.index=0}_next(i){let r;const o=this.index++;try{r=this.project(i,o)}catch(a){return void this.destination.error(a)}this._innerSub(r)}_innerSub(i){const r=this.innerSubscription;r&&r.unsubscribe();const o=new Cs.IY(this),a=this.destination;a.add(o),this.innerSubscription=(0,Cs.ft)(i,o),this.innerSubscription!==o&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}const Ab=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();function oa(s){return i=>0===s?(0,Js.c)():i.lift(new wR(s))}class wR{constructor(i){if(this.total=i,this.total<0)throw new Ab}call(i,r){return r.subscribe(new np(i,this.total))}}class np extends lr.L{constructor(i,r){super(i),this.total=r,this.count=0}_next(i){const r=this.total,o=++this.count;o<=r&&(this.destination.next(i),o===r&&(this.destination.complete(),this.unsubscribe()))}}function Ss(...s){const i=s[s.length-1];return(0,jm.K)(i)?(s.pop(),r=>tp(s,r,i)):r=>tp(s,r)}function Pd(s,i){let r=!1;return arguments.length>=2&&(r=!0),function(a){return a.lift(new Rx(s,i,r))}}class Rx{constructor(i,r,o=!1){this.accumulator=i,this.seed=r,this.hasSeed=o}call(i,r){return r.subscribe(new Ox(i,this.accumulator,this.seed,this.hasSeed))}}class Ox extends lr.L{constructor(i,r,o,a){super(i),this.accumulator=r,this._seed=o,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const r=this.index++;let o;try{o=this.accumulator(this.seed,i,r)}catch(a){this.destination.error(a)}this.seed=o,this.destination.next(o)}}function Ka(s){return function(r){const o=new ER(s),a=r.lift(o);return o.caught=a}}class ER{constructor(i){this.selector=i}call(i,r){return r.subscribe(new CR(i,this.selector,this.caught))}}class CR extends Cs.Ds{constructor(i,r,o){super(i),this.selector=r,this.caught=o}error(i){if(!this.isStopped){let r;try{r=this.selector(i,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const o=new Cs.IY(this);this.add(o);const a=(0,Cs.ft)(r,o);a!==o&&this.add(a)}}}var bi=U(9773);function Ld(s,i){return(0,bi.zg)(s,i,1)}function Hm(s){return function(r){return 0===s?(0,Js.c)():r.lift(new rB(s))}}class rB{constructor(i){if(this.total=i,this.total<0)throw new Ab}call(i,r){return r.subscribe(new kx(i,this.total))}}class kx extends lr.L{constructor(i,r){super(i),this.total=r,this.ring=new Array,this.count=0}_next(i){const r=this.ring,o=this.total,a=this.count++;r.length<o?r.push(i):r[a%o]=i}_complete(){const i=this.destination;let r=this.count;if(r>0){const o=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<o;c++){const g=r++%o;i.next(a[g])}}i.complete()}}function Nx(s=sB){return i=>i.lift(new xR(s))}class xR{constructor(i){this.errorFactory=i}call(i,r){return r.subscribe(new iB(i,this.errorFactory))}}class iB extends lr.L{constructor(i,r){super(i),this.errorFactory=r,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(r){i=r}this.destination.error(i)}}}function sB(){return new Fd}function $m(s=null){return i=>i.lift(new AR(s))}class AR{constructor(i){this.defaultValue=i}call(i,r){return r.subscribe(new Fx(i,this.defaultValue))}}class Fx extends lr.L{constructor(i,r){super(i),this.defaultValue=r,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Sb=U(4487);function ci(s,i){const r=arguments.length>=2;return o=>o.pipe(s?zn((a,c)=>s(a,c,o)):Sb.y,oa(1),r?$m(i):Nx(()=>new Fd))}var aB=U(1307),Xs=U(5319);function SR(s){return i=>i.lift(new Px(s))}class Px{constructor(i){this.callback=i}call(i,r){return r.subscribe(new Lx(i,this.callback))}}class Lx extends lr.L{constructor(i,r){super(i),this.add(new Xs.w(r))}}class aa{constructor(i,r){this.id=i,this.url=r}}class Db extends aa{constructor(i,r,o="imperative",a=null){super(i,r),this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zm extends aa{constructor(i,r,o){super(i,r),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ib extends aa{constructor(i,r,o){super(i,r),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tb extends aa{constructor(i,r,o){super(i,r),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DR extends aa{constructor(i,r,o,a){super(i,r),this.urlAfterRedirects=o,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mb extends aa{constructor(i,r,o,a){super(i,r),this.urlAfterRedirects=o,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IR extends aa{constructor(i,r,o,a,c){super(i,r),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TR extends aa{constructor(i,r,o,a){super(i,r),this.urlAfterRedirects=o,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MR extends aa{constructor(i,r,o,a){super(i,r),this.urlAfterRedirects=o,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vx{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bx{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RR{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qm{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vd{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rb{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(i,r,o){this.routerEvent=i,this.position=r,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class OR{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const r=this.params[i];return Array.isArray(r)?r[0]:r}return null}getAll(i){if(this.has(i)){const r=this.params[i];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Bd(s){return new OR(s)}const Wm="ngNavigationCancelingError";function to(s){const i=Error("NavigationCancelingError: "+s);return i[Wm]=!0,i}function wi(s,i,r){const o=r.path.split("/");if(o.length>s.length||"full"===r.pathMatch&&(i.hasChildren()||o.length<s.length))return null;const a={};for(let c=0;c<o.length;c++){const g=o[c],_=s[c];if(g.startsWith(":"))a[g.substring(1)]=_;else if(g!==_.path)return null}return{consumed:s.slice(0,o.length),posParams:a}}function Ds(s,i){const r=s?Object.keys(s):void 0,o=i?Object.keys(i):void 0;if(!r||!o||r.length!=o.length)return!1;let a;for(let c=0;c<r.length;c++)if(a=r[c],!Is(s[a],i[a]))return!1;return!0}function Is(s,i){if(Array.isArray(s)&&Array.isArray(i)){if(s.length!==i.length)return!1;const r=[...s].sort(),o=[...i].sort();return r.every((a,c)=>o[c]===a)}return s===i}function Ym(s){return Array.prototype.concat.apply([],s)}function Xu(s){return s.length>0?s[s.length-1]:null}function ur(s,i){for(const r in s)s.hasOwnProperty(r)&&i(s[r],r)}function Vi(s){return(0,f.CqO)(s)?s:(0,f.QGY)(s)?(0,Rn.D)(Promise.resolve(s)):(0,it.of)(s)}const Gd={exact:function Ob(s,i,r){if(!nc(s.segments,i.segments)||!sp(s.segments,i.segments,r)||s.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!s.children[o]||!Ob(s.children[o],i.children[o],r))return!1;return!0},subset:kb},ec={exact:function(s,i){return Ds(s,i)},subset:function(s,i){return Object.keys(i).length<=Object.keys(s).length&&Object.keys(i).every(r=>Is(s[r],i[r]))},ignored:()=>!0};function tc(s,i,r){return Gd[r.paths](s.root,i.root,r.matrixParams)&&ec[r.queryParams](s.queryParams,i.queryParams)&&!("exact"===r.fragment&&s.fragment!==i.fragment)}function kb(s,i,r){return Nb(s,i,i.segments,r)}function Nb(s,i,r,o){if(s.segments.length>r.length){const a=s.segments.slice(0,r.length);return!(!nc(a,r)||i.hasChildren()||!sp(a,r,o))}if(s.segments.length===r.length){if(!nc(s.segments,r)||!sp(s.segments,r,o))return!1;for(const a in i.children)if(!s.children[a]||!kb(s.children[a],i.children[a],o))return!1;return!0}{const a=r.slice(0,s.segments.length),c=r.slice(s.segments.length);return!!(nc(s.segments,a)&&sp(s.segments,a,o)&&s.children[jt])&&Nb(s.children[jt],i,c,o)}}function sp(s,i,r){return i.every((o,a)=>ec[r](s[a].parameters,o.parameters))}class ql{constructor(i,r,o){this.root=i,this.queryParams=r,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bd(this.queryParams)),this._queryParamMap}toString(){return $x.serialize(this)}}class Xt{constructor(i,r){this.segments=i,this.children=r,this.parent=null,ur(r,(o,a)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Km(this)}}class Hd{constructor(i,r){this.path=i,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Bd(this.parameters)),this._parameterMap}toString(){return NR(this)}}function nc(s,i){return s.length===i.length&&s.every((r,o)=>r.path===i[o].path)}class Fb{}class Hx{parse(i){const r=new VR(i);return new ql(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(i){var s;return`${`/${Zm(i.root,!0)}`}${function(s){const i=Object.keys(s).map(r=>{const o=s[r];return Array.isArray(o)?o.map(a=>`${op(r)}=${op(a)}`).join("&"):`${op(r)}=${op(o)}`}).filter(r=>!!r);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${s=i.fragment,encodeURI(s)}`:""}`}}const $x=new Hx;function Km(s){return s.segments.map(i=>NR(i)).join("/")}function Zm(s,i){if(!s.hasChildren())return Km(s);if(i){const r=s.children[jt]?Zm(s.children[jt],!1):"",o=[];return ur(s.children,(a,c)=>{c!==jt&&o.push(`${c}:${Zm(a,!1)}`)}),o.length>0?`${r}(${o.join("//")})`:r}{const r=function(s,i){let r=[];return ur(s.children,(o,a)=>{a===jt&&(r=r.concat(i(o,a)))}),ur(s.children,(o,a)=>{a!==jt&&(r=r.concat(i(o,a)))}),r}(s,(o,a)=>a===jt?[Zm(s.children[jt],!1)]:[`${a}:${Zm(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[jt]?`${Km(s)}/${r[0]}`:`${Km(s)}/(${r.join("//")})`}}function zx(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function op(s){return zx(s).replace(/%3B/gi,";")}function Qm(s){return zx(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jm(s){return decodeURIComponent(s)}function qx(s){return Jm(s.replace(/\+/g,"%20"))}function NR(s){return`${Qm(s.path)}${function(s){return Object.keys(s).map(i=>`;${Qm(i)}=${Qm(s[i])}`).join("")}(s.parameters)}`}const lB=/^[^\/()?;=#]+/;function Pb(s){const i=s.match(lB);return i?i[0]:""}const uB=/^[^=?&#]+/,cB=/^[^?&#]+/;class VR{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(r).length>0)&&(o[jt]=new Xt(i,r)),o}parseSegment(){const i=Pb(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new Hd(Jm(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const r=Pb(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){const a=Pb(this.remaining);a&&(o=a,this.capture(o))}i[Jm(r)]=Jm(o)}parseQueryParam(i){const r=function(s){const i=s.match(uB);return i?i[0]:""}(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){const g=function(s){const i=s.match(cB);return i?i[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const a=qx(r),c=qx(o);if(i.hasOwnProperty(a)){let g=i[a];Array.isArray(g)||(g=[g],i[a]=g),g.push(c)}else i[a]=c}parseParens(i){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Pb(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;o.indexOf(":")>-1?(c=o.substr(0,o.indexOf(":")),this.capture(c),this.capture(":")):i&&(c=jt);const g=this.parseChildren();r[c]=1===Object.keys(g).length?g[jt]:new Xt([],g),this.consumeOptional("//")}return r}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class Xm{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const r=this.pathFromRoot(i);return r.length>1?r[r.length-2]:null}children(i){const r=ap(i,this._root);return r?r.children.map(o=>o.value):[]}firstChild(i){const r=ap(i,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(i){const r=Lb(i,this._root);return r.length<2?[]:r[r.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return Lb(i,this._root).map(r=>r.value)}}function ap(s,i){if(s===i.value)return i;for(const r of i.children){const o=ap(s,r);if(o)return o}return null}function Lb(s,i){if(s===i.value)return[i];for(const r of i.children){const o=Lb(s,r);if(o.length)return o.unshift(i),o}return[]}class Wl{constructor(i,r){this.value=i,this.children=r}toString(){return`TreeNode(${this.value})`}}function e_(s){const i={};return s&&s.children.forEach(r=>i[r.value.outlet]=r),i}class BR extends Xm{constructor(i,r){super(i),this.snapshot=r,Bb(this,i)}toString(){return this.snapshot.toString()}}function Yx(s,i){const r=function(s,i){const g=new t_([],{},{},"",{},jt,i,null,s.root,-1,{});return new Vb("",new Wl(g,[]))}(s,i),o=new $r([new Hd("",{})]),a=new $r({}),c=new $r({}),g=new $r({}),_=new $r(""),b=new lp(o,a,g,_,c,jt,i,r.root);return b.snapshot=r.root,new BR(new Wl(b,[]),r)}class lp{constructor(i,r,o,a,c,g,_,b){this.url=i,this.params=r,this.queryParams=o,this.fragment=a,this.data=c,this.outlet=g,this.component=_,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(i=>Bd(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(i=>Bd(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zx(s,i="emptyOnly"){const r=s.pathFromRoot;let o=0;if("always"!==i)for(o=r.length-1;o>=1;){const a=r[o],c=r[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(c.component)break;o--}}return function(s){return s.reduce((i,r)=>({params:Object.assign(Object.assign({},i.params),r.params),data:Object.assign(Object.assign({},i.data),r.data),resolve:Object.assign(Object.assign({},i.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(o))}class t_{constructor(i,r,o,a,c,g,_,b,S,T,R){this.url=i,this.params=r,this.queryParams=o,this.fragment=a,this.data=c,this.outlet=g,this.component=_,this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vb extends Xm{constructor(i,r){super(r),this.url=i,Bb(this,r)}toString(){return Ub(this._root)}}function Bb(s,i){i.value._routerState=s,i.children.forEach(r=>Bb(s,r))}function Ub(s){const i=s.children.length>0?` { ${s.children.map(Ub).join(", ")} } `:"";return`${s.value}${i}`}function zd(s){if(s.snapshot){const i=s.snapshot,r=s._futureSnapshot;s.snapshot=r,Ds(i.queryParams,r.queryParams)||s.queryParams.next(r.queryParams),i.fragment!==r.fragment&&s.fragment.next(r.fragment),Ds(i.params,r.params)||s.params.next(r.params),function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(!Ds(s[r],i[r]))return!1;return!0}(i.url,r.url)||s.url.next(r.url),Ds(i.data,r.data)||s.data.next(r.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function Gb(s,i){return Ds(s.params,i.params)&&function(s,i){return nc(s,i)&&s.every((r,o)=>Ds(r.parameters,i[o].parameters))}(s.url,i.url)&&!(!s.parent!=!i.parent)&&(!s.parent||Gb(s.parent,i.parent))}function n_(s,i,r){if(r&&s.shouldReuseRoute(i.value,r.value.snapshot)){const o=r.value;o._futureSnapshot=i.value;const a=function(s,i,r){return i.children.map(o=>{for(const a of r.children)if(s.shouldReuseRoute(o.value,a.value.snapshot))return n_(s,o,a);return n_(s,o)})}(s,i,r);return new Wl(o,a)}{if(s.shouldAttach(i.value)){const c=s.retrieve(i.value);if(null!==c){const g=c.route;return Jx(i,g),g}}const o=function(s){return new lp(new $r(s.url),new $r(s.params),new $r(s.queryParams),new $r(s.fragment),new $r(s.data),s.outlet,s.component,s)}(i.value),a=i.children.map(c=>n_(s,c));return new Wl(o,a)}}function Jx(s,i){if(s.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=s.value;for(let r=0;r<s.children.length;++r)Jx(s.children[r],i.children[r])}function up(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function cp(s){return"object"==typeof s&&null!=s&&s.outlets}function r_(s,i,r,o,a){let c={};return o&&ur(o,(g,_)=>{c[_]=Array.isArray(g)?g.map(b=>`${b}`):`${g}`}),new ql(r.root===s?i:jb(r.root,s,i),c,a)}function jb(s,i,r){const o={};return ur(s.children,(a,c)=>{o[c]=a===i?r:jb(a,i,r)}),new Xt(s.segments,o)}class i_{constructor(i,r,o){if(this.isAbsolute=i,this.numberOfDoubleDots=r,this.commands=o,i&&o.length>0&&up(o[0]))throw new Error("Root segment cannot have matrix parameters");const a=o.find(cp);if(a&&a!==Xu(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dp{constructor(i,r,o){this.segmentGroup=i,this.processChildren=r,this.index=o}}function Hb(s,i,r){if(s||(s=new Xt([],{})),0===s.segments.length&&s.hasChildren())return qd(s,i,r);const o=function(s,i,r){let o=0,a=i;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<s.segments.length;){if(o>=r.length)return c;const g=s.segments[a],_=r[o];if(cp(_))break;const b=`${_}`,S=o<r.length-1?r[o+1]:null;if(a>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!Wb(b,S,g))return c;o+=2}else{if(!Wb(b,{},g))return c;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(s,i,r),a=r.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const c=new Xt(s.segments.slice(0,o.pathIndex),{});return c.children[jt]=new Xt(s.segments.slice(o.pathIndex),s.children),qd(c,0,a)}return o.match&&0===a.length?new Xt(s.segments,{}):o.match&&!s.hasChildren()?zb(s,i,r):o.match?qd(s,0,a):zb(s,i,r)}function qd(s,i,r){if(0===r.length)return new Xt(s.segments,{});{const o=function(s){return cp(s[0])?s[0].outlets:{[jt]:s}}(r),a={};return ur(o,(c,g)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[g]=Hb(s.children[g],i,c))}),ur(s.children,(c,g)=>{void 0===o[g]&&(a[g]=c)}),new Xt(s.segments,a)}}function zb(s,i,r){const o=s.segments.slice(0,i);let a=0;for(;a<r.length;){const c=r[a];if(cp(c)){const b=qb(c.outlets);return new Xt(o,b)}if(0===a&&up(r[0])){o.push(new Hd(s.segments[i].path,s_(r[0]))),a++;continue}const g=cp(c)?c.outlets[jt]:`${c}`,_=a<r.length-1?r[a+1]:null;g&&_&&up(_)?(o.push(new Hd(g,s_(_))),a+=2):(o.push(new Hd(g,{})),a++)}return new Xt(o,{})}function qb(s){const i={};return ur(s,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(i[o]=zb(new Xt([],{}),0,r))}),i}function s_(s){const i={};return ur(s,(r,o)=>i[o]=`${r}`),i}function Wb(s,i,r){return s==r.path&&Ds(i,r.parameters)}class $R{constructor(i,r,o,a){this.routeReuseStrategy=i,this.futureState=r,this.currState=o,this.forwardEvent=a}activate(i){const r=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,o,i),zd(this.futureState.root),this.activateChildRoutes(r,o,i)}deactivateChildRoutes(i,r,o){const a=e_(r);i.children.forEach(c=>{const g=c.value.outlet;this.deactivateRoutes(c,a[g],o),delete a[g]}),ur(a,(c,g)=>{this.deactivateRouteAndItsChildren(c,o)})}deactivateRoutes(i,r,o){const a=i.value,c=r?r.value:null;if(a===c)if(a.component){const g=o.getContext(a.outlet);g&&this.deactivateChildRoutes(i,r,g.children)}else this.deactivateChildRoutes(i,r,o);else c&&this.deactivateRouteAndItsChildren(r,o)}deactivateRouteAndItsChildren(i,r){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,r):this.deactivateRouteAndOutlet(i,r)}detachAndStoreRouteSubtree(i,r){const o=r.getContext(i.value.outlet);if(o&&o.outlet){const a=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:c})}}deactivateRouteAndOutlet(i,r){const o=r.getContext(i.value.outlet),a=o&&i.value.component?o.children:r,c=e_(i);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(i,r,o){const a=e_(r);i.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],o),this.forwardEvent(new Rb(c.value.snapshot))}),i.children.length&&this.forwardEvent(new qm(i.value.snapshot))}activateRoutes(i,r,o){const a=i.value,c=r?r.value:null;if(zd(a),a===c)if(a.component){const g=o.getOrCreateContext(a.outlet);this.activateChildRoutes(i,r,g.children)}else this.activateChildRoutes(i,r,o);else if(a.component){const g=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(_.contexts),g.attachRef=_.componentRef,g.route=_.route.value,g.outlet&&g.outlet.attach(_.componentRef,_.route.value),o_(_.route)}else{const _=function(s){for(let i=s.parent;i;i=i.parent){const r=i.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(a.snapshot),b=_?_.module.componentFactoryResolver:null;g.attachRef=null,g.route=a,g.resolver=b,g.outlet&&g.outlet.activateWith(a,b),this.activateChildRoutes(i,null,g.children)}}else this.activateChildRoutes(i,null,o)}}function o_(s){zd(s.value),s.children.forEach(o_)}class Kb{constructor(i,r){this.routes=i,this.module=r}}function Za(s){return"function"==typeof s}function Yl(s){return s instanceof ql}const Wd=Symbol("INITIAL_VALUE");function Yd(){return vr(s=>function(...s){let i,r;return(0,jm.K)(s[s.length-1])&&(r=s.pop()),"function"==typeof s[s.length-1]&&(i=s.pop()),1===s.length&&(0,Fa.k)(s[0])&&(s=s[0]),(0,_R.n)(s,r).lift(new yR(i))}(s.map(i=>i.pipe(oa(1),Ss(Wd)))).pipe(Pd((i,r)=>{let o=!1;return r.reduce((a,c,g)=>a!==Wd?a:(c===Wd&&(o=!0),o||!1!==c&&g!==r.length-1&&!Yl(c)?a:c),i)},Wd),zn(i=>i!==Wd),(0,bt.U)(i=>Yl(i)?i:!0===i),oa(1)))}let fp=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,o){1&r&&f._UZ(0,"router-outlet")},directives:function(){return[dw]},encapsulation:2}),s})();function ew(s,i=""){for(let r=0;r<s.length;r++){const o=s[r];qR(o,Xx(i,o))}}function qR(s,i){s.children&&ew(s.children,i)}function Xx(s,i){return i?s||i.path?s&&!i.path?`${s}/`:!s&&i.path?i.path:`${s}/${i.path}`:"":s}function a_(s){const i=s.children&&s.children.map(a_),r=i?Object.assign(Object.assign({},s),{children:i}):Object.assign({},s);return!r.component&&(i||r.loadChildren)&&r.outlet&&r.outlet!==jt&&(r.component=fp),r}function Ts(s){return s.outlet||jt}function l_(s,i){const r=s.filter(o=>Ts(o)===i);return r.push(...s.filter(o=>Ts(o)!==i)),r}const tw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pp(s,i,r){var o;if(""===i.path)return"full"===i.pathMatch&&(s.hasChildren()||r.length>0)?Object.assign({},tw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(i.matcher||wi)(r,s,i);if(!c)return Object.assign({},tw);const g={};ur(c.posParams,(b,S)=>{g[S]=b.path});const _=c.consumed.length>0?Object.assign(Object.assign({},g),c.consumed[c.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(o=c.posParams)&&void 0!==o?o:{}}}function gp(s,i,r,o,a="corrected"){if(r.length>0&&function(s,i,r){return r.some(o=>mp(s,i,o)&&Ts(o)!==jt)}(s,r,o)){const g=new Xt(i,function(s,i,r,o){const a={};a[jt]=o,o._sourceSegment=s,o._segmentIndexShift=i.length;for(const c of r)if(""===c.path&&Ts(c)!==jt){const g=new Xt([],{});g._sourceSegment=s,g._segmentIndexShift=i.length,a[Ts(c)]=g}return a}(s,i,o,new Xt(r,s.children)));return g._sourceSegment=s,g._segmentIndexShift=i.length,{segmentGroup:g,slicedSegments:[]}}if(0===r.length&&function(s,i,r){return r.some(o=>mp(s,i,o))}(s,r,o)){const g=new Xt(s.segments,function(s,i,r,o,a,c){const g={};for(const _ of o)if(mp(s,r,_)&&!a[Ts(_)]){const b=new Xt([],{});b._sourceSegment=s,b._segmentIndexShift="legacy"===c?s.segments.length:i.length,g[Ts(_)]=b}return Object.assign(Object.assign({},a),g)}(s,i,r,o,s.children,a));return g._sourceSegment=s,g._segmentIndexShift=i.length,{segmentGroup:g,slicedSegments:r}}const c=new Xt(s.segments,s.children);return c._sourceSegment=s,c._segmentIndexShift=i.length,{segmentGroup:c,slicedSegments:r}}function mp(s,i,r){return(!(s.hasChildren()||i.length>0)||"full"!==r.pathMatch)&&""===r.path}function WR(s,i,r,o){return!!(Ts(s)===o||o!==jt&&mp(i,r,s))&&("**"===s.path||pp(i,s,r).matched)}function iA(s,i,r){return 0===i.length&&!s.children[r]}class _p{constructor(i){this.segmentGroup=i||null}}class nw{constructor(i){this.urlTree=i}}function u_(s){return new Dn.y(i=>i.error(new _p(s)))}function Dr(s){return new Dn.y(i=>i.error(new nw(s)))}function sA(s){return new Dn.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class oA{constructor(i,r,o,a,c){this.configLoader=r,this.urlSerializer=o,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=i.get(f.h0i)}apply(){const i=gp(this.urlTree.root,[],[],this.config).segmentGroup,r=new Xt(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,r,jt).pipe((0,bt.U)(c=>this.createUrlTree(c_(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ka(c=>{if(c instanceof nw)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof _p?this.noMatchError(c):c}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,jt).pipe((0,bt.U)(a=>this.createUrlTree(c_(a),i.queryParams,i.fragment))).pipe(Ka(a=>{throw a instanceof _p?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,r,o){const a=i.segments.length>0?new Xt([],{[jt]:i}):i;return new ql(a,r,o)}expandSegmentGroup(i,r,o,a){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(i,r,o).pipe((0,bt.U)(c=>new Xt([],c))):this.expandSegment(i,o,r,o.segments,a,!0)}expandChildren(i,r,o){const a=[];for(const c of Object.keys(o.children))"primary"===c?a.unshift(c):a.push(c);return(0,Rn.D)(a).pipe(Ld(c=>{const g=o.children[c],_=l_(r,c);return this.expandSegmentGroup(i,_,g,c).pipe((0,bt.U)(b=>({segment:b,outlet:c})))}),Pd((c,g)=>(c[g.outlet]=g.segment,c),{}),function(s,i){const r=arguments.length>=2;return o=>o.pipe(s?zn((a,c)=>s(a,c,o)):Sb.y,Hm(1),r?$m(i):Nx(()=>new Fd))}())}expandSegment(i,r,o,a,c,g){return(0,Rn.D)(o).pipe(Ld(_=>this.expandSegmentAgainstRoute(i,r,o,_,a,c,g).pipe(Ka(S=>{if(S instanceof _p)return(0,it.of)(null);throw S}))),ci(_=>!!_),Ka((_,b)=>{if(_ instanceof Fd||"EmptyError"===_.name){if(iA(r,a,c))return(0,it.of)(new Xt([],{}));throw new _p(r)}throw _}))}expandSegmentAgainstRoute(i,r,o,a,c,g,_){return WR(a,r,c,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,r,a,c,g):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,r,o,a,c,g):u_(r):u_(r)}expandSegmentAgainstRouteUsingRedirect(i,r,o,a,c,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(i,r,o,a,c,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,r,o,a){const c=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Dr(c):this.lineralizeSegments(o,c).pipe((0,bi.zg)(g=>{const _=new Xt(g,{});return this.expandSegment(i,_,r,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,r,o,a,c,g){const{matched:_,consumedSegments:b,lastChild:S,positionalParamSegments:T}=pp(r,a,c);if(!_)return u_(r);const R=this.applyRedirectCommands(b,a.redirectTo,T);return a.redirectTo.startsWith("/")?Dr(R):this.lineralizeSegments(a,R).pipe((0,bi.zg)(N=>this.expandSegment(i,r,o,N.concat(c.slice(S)),g,!1)))}matchSegmentAgainstRoute(i,r,o,a,c){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,it.of)(o._loadedConfig):this.configLoader.load(i.injector,o)).pipe((0,bt.U)(N=>(o._loadedConfig=N,new Xt(a,{})))):(0,it.of)(new Xt(a,{}));const{matched:g,consumedSegments:_,lastChild:b}=pp(r,o,a);if(!g)return u_(r);const S=a.slice(b);return this.getChildConfig(i,o,a).pipe((0,bi.zg)(R=>{const N=R.module,L=R.routes,{segmentGroup:H,slicedSegments:ie}=gp(r,_,S,L),we=new Xt(H.segments,H.children);if(0===ie.length&&we.hasChildren())return this.expandChildren(N,L,we).pipe((0,bt.U)(wt=>new Xt(_,wt)));if(0===L.length&&0===ie.length)return(0,it.of)(new Xt(_,{}));const Le=Ts(o)===c;return this.expandSegment(N,we,L,ie,Le?jt:c,!0).pipe((0,bt.U)(Ke=>new Xt(_.concat(Ke.segments),Ke.children)))}))}getChildConfig(i,r,o){return r.children?(0,it.of)(new Kb(r.children,i)):r.loadChildren?void 0!==r._loadedConfig?(0,it.of)(r._loadedConfig):this.runCanLoadGuards(i.injector,r,o).pipe((0,bi.zg)(a=>{return a?this.configLoader.load(i.injector,r).pipe((0,bt.U)(c=>(r._loadedConfig=c,c))):(s=r,new Dn.y(i=>i.error(to(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,it.of)(new Kb([],i))}runCanLoadGuards(i,r,o){const a=r.canLoad;if(!a||0===a.length)return(0,it.of)(!0);const c=a.map(g=>{const _=i.get(g);let b;if((s=_)&&Za(s.canLoad))b=_.canLoad(r,o);else{if(!Za(_))throw new Error("Invalid CanLoad guard");b=_(r,o)}var s;return Vi(b)});return(0,it.of)(c).pipe(Yd(),(0,qt.b)(g=>{if(!Yl(g))return;const _=to(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw _.url=g,_}),(0,bt.U)(g=>!0===g))}lineralizeSegments(i,r){let o=[],a=r.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return(0,it.of)(o);if(a.numberOfChildren>1||!a.children[jt])return sA(i.redirectTo);a=a.children[jt]}}applyRedirectCommands(i,r,o){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),i,o)}applyRedirectCreatreUrlTree(i,r,o,a){const c=this.createSegmentGroup(i,r.root,o,a);return new ql(c,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(i,r){const o={};return ur(i,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);o[c]=r[_]}else o[c]=a}),o}createSegmentGroup(i,r,o,a){const c=this.createSegments(i,r.segments,o,a);let g={};return ur(r.children,(_,b)=>{g[b]=this.createSegmentGroup(i,_,o,a)}),new Xt(c,g)}createSegments(i,r,o,a){return r.map(c=>c.path.startsWith(":")?this.findPosParam(i,c,a):this.findOrReturn(c,o))}findPosParam(i,r,o){const a=o[r.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${r.path}'.`);return a}findOrReturn(i,r){let o=0;for(const a of r){if(a.path===i.path)return r.splice(o),a;o++}return i}}function c_(s){const i={};for(const o of Object.keys(s.children)){const c=c_(s.children[o]);(c.segments.length>0||c.hasChildren())&&(i[o]=c)}return function(s){if(1===s.numberOfChildren&&s.children[jt]){const i=s.children[jt];return new Xt(s.segments.concat(i.segments),i.children)}return s}(new Xt(s.segments,i))}class rc{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class d_{constructor(i,r){this.component=i,this.route=r}}function QR(s,i,r){const o=s._root;return f_(o,i?i._root:null,r,[o.value])}function h_(s,i,r){const o=function(s){if(!s)return null;for(let i=s.parent;i;i=i.parent){const r=i.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(i);return(o?o.module.injector:r).get(s)}function f_(s,i,r,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=e_(i);return s.children.forEach(g=>{(function(s,i,r,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=s.value,g=i?i.value:null,_=r?r.getContext(s.value.outlet):null;if(g&&c.routeConfig===g.routeConfig){const b=function(s,i,r){if("function"==typeof r)return r(s,i);switch(r){case"pathParamsChange":return!nc(s.url,i.url);case"pathParamsOrQueryParamsChange":return!nc(s.url,i.url)||!Ds(s.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gb(s,i)||!Ds(s.queryParams,i.queryParams);case"paramsChange":default:return!Gb(s,i)}}(g,c,c.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new rc(o)):(c.data=g.data,c._resolvedData=g._resolvedData),f_(s,i,c.component?_?_.children:null:r,o,a),b&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new d_(_.outlet.component,g))}else g&&is(i,_,a),a.canActivateChecks.push(new rc(o)),f_(s,null,c.component?_?_.children:null:r,o,a)})(g,c[g.value.outlet],r,o.concat([g.value]),a),delete c[g.value.outlet]}),ur(c,(g,_)=>is(g,r.getContext(_),a)),a}function is(s,i,r){const o=e_(s),a=s.value;ur(o,(c,g)=>{is(c,a.component?i?i.children.getContext(g):null:i,r)}),r.canDeactivateChecks.push(new d_(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class tO{}function hA(s){return new Dn.y(i=>i.error(s))}class sw{constructor(i,r,o,a,c,g){this.rootComponentType=i,this.config=r,this.urlTree=o,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=g}recognize(){const i=gp(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,i,jt);if(null===r)return null;const o=new t_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Wl(o,r),c=new Vb(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(i){const r=i.value,o=Zx(r,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(i,r):this.processSegment(i,r,r.segments,o)}processChildren(i,r){const o=[];for(const c of Object.keys(r.children)){const g=r.children[c],_=l_(i,c),b=this.processSegmentGroup(_,g,c);if(null===b)return null;o.push(...b)}const a=pA(o);return a.sort((i,r)=>i.value.outlet===jt?-1:r.value.outlet===jt?1:i.value.outlet.localeCompare(r.value.outlet)),a}processSegment(i,r,o,a){for(const c of i){const g=this.processSegmentAgainstRoute(c,r,o,a);if(null!==g)return g}return iA(r,o,a)?[]:null}processSegmentAgainstRoute(i,r,o,a){if(i.redirectTo||!WR(i,r,o,a))return null;let c,g=[],_=[];if("**"===i.path){const L=o.length>0?Xu(o).parameters:{};c=new t_(o,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gA(i),Ts(i),i.component,i,ow(r),vp(r)+o.length,aw(i))}else{const L=pp(r,i,o);if(!L.matched)return null;g=L.consumedSegments,_=o.slice(L.lastChild),c=new t_(g,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gA(i),Ts(i),i.component,i,ow(r),vp(r)+g.length,aw(i))}const b=(s=i).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:T}=gp(r,g,_,b.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);var s;if(0===T.length&&S.hasChildren()){const L=this.processChildren(b,S);return null===L?null:[new Wl(c,L)]}if(0===b.length&&0===T.length)return[new Wl(c,[])];const R=Ts(i)===a,N=this.processSegment(b,S,T,R?jt:a);return null===N?null:[new Wl(c,N)]}}function fA(s){const i=s.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function pA(s){const i=[],r=new Set;for(const o of s){if(!fA(o)){i.push(o);continue}const a=i.find(c=>o.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...o.children),r.add(a)):i.push(o)}for(const o of r){const a=pA(o.children);i.push(new Wl(o.value,a))}return i.filter(o=>!r.has(o))}function ow(s){let i=s;for(;i._sourceSegment;)i=i._sourceSegment;return i}function vp(s){let i=s,r=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,r+=i._segmentIndexShift?i._segmentIndexShift:0;return r-1}function gA(s){return s.data||{}}function aw(s){return s.resolve||{}}function g_(s){return vr(i=>{const r=s(i);return r?(0,Rn.D)(r).pipe((0,bt.U)(()=>i)):(0,it.of)(i)})}class wA extends class{shouldDetach(i){return!1}store(i,r){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,r){return i.routeConfig===r.routeConfig}}{}const m_=new f.OlP("ROUTES");class uw{constructor(i,r,o,a){this.loader=i,this.compiler=r,this.onLoadStartListener=o,this.onLoadEndListener=a}load(i,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactory(r.loadChildren).pipe((0,bt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(r);const g=c.create(i);return new Kb(Ym(g.injector.get(m_,void 0,f.XFs.Self|f.XFs.Optional)).map(a_),g)}),Ka(c=>{throw r._loader$=void 0,c}));return r._loader$=new vR.c(a,()=>new Pt.xQ).pipe((0,aB.x)()),r._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Rn.D)(this.loader.load(i)):Vi(i()).pipe((0,bi.zg)(r=>r instanceof f.YKP?(0,it.of)(r):(0,Rn.D)(this.compiler.compileModuleAsync(r))))}}class sO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kd,this.attachRef=null}}class Kd{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new sO,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}class aO{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}function lO(s){throw s}function uO(s,i,r){return i.parse("/")}function EA(s,i){return(0,it.of)(null)}const cO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class s{constructor(r,o,a,c,g,_,b,S){this.rootComponentType=r,this.urlSerializer=o,this.rootContexts=a,this.location=c,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pt.xQ,this.errorHandler=lO,this.malformedUriErrorHandler=uO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:EA,afterPreactivation:EA},this.urlHandlingStrategy=new aO,this.routeReuseStrategy=new wA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(f.h0i),this.console=g.get(f.c2e);const N=g.get(f.R0b);this.isNgZoneEnabled=N instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new ql(new Xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uw(_,b,L=>this.triggerEvent(new Vx(L)),L=>this.triggerEvent(new Bx(L))),this.routerState=Yx(this.currentUrlTree,this.rootComponentType),this.transitions=new $r({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const o=this.events;return r.pipe(zn(a=>0!==a.id),(0,bt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),vr(a=>{let c=!1,g=!1;return(0,it.of)(a).pipe((0,qt.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vr(_=>{const b=!this.navigated||_.extractedUrl.toString()!==this.browserUrlTree.toString(),S=("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl);if(__(_.source)&&(this.browserUrlTree=_.rawUrl),S)return(0,it.of)(_).pipe(vr(T=>{const R=this.transitions.getValue();return o.next(new Db(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),R!==this.transitions.getValue()?Js.E:Promise.resolve(T)}),function(s,i,r,o){return vr(a=>function(s,i,r,o,a){return new oA(s,i,r,o,a).apply()}(s,i,r,a.extractedUrl,o).pipe((0,bt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qt.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(s,i,r,o,a){return(0,bi.zg)(c=>function(s,i,r,o,a="emptyOnly",c="legacy"){try{const g=new sw(s,i,r,o,a,c).recognize();return null===g?hA(new tO):(0,it.of)(g)}catch(g){return hA(g)}}(s,i,c.urlAfterRedirects,r(c.urlAfterRedirects),o,a).pipe((0,bt.U)(g=>Object.assign(Object.assign({},c),{targetSnapshot:g}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qt.b)(T=>{"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(T.urlAfterRedirects,T),this.browserUrlTree=T.urlAfterRedirects);const R=new DR(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);o.next(R)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:N,source:L,restoredState:H,extras:ie}=_,we=new Db(R,this.serializeUrl(N),L,H);o.next(we);const Le=Yx(N,this.rootComponentType).snapshot;return(0,it.of)(Object.assign(Object.assign({},_),{targetSnapshot:Le,urlAfterRedirects:N,extras:Object.assign(Object.assign({},ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Js.E}),g_(_=>{const{targetSnapshot:b,id:S,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:N,replaceUrl:L}}=_;return this.hooks.beforePreactivation(b,{navigationId:S,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!N,replaceUrl:!!L})}),(0,qt.b)(_=>{const b=new Mb(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),(0,bt.U)(_=>Object.assign(Object.assign({},_),{guards:QR(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(s,i){return(0,bi.zg)(r=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:g}}=r;return 0===g.length&&0===c.length?(0,it.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(s,i,r,o){return(0,Rn.D)(s).pipe((0,bi.zg)(a=>function(s,i,r,o,a){const c=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,it.of)(!0);const g=c.map(_=>{const b=h_(_,i,a);let S;if(function(s){return s&&Za(s.canDeactivate)}(b))S=Vi(b.canDeactivate(s,i,r,o));else{if(!Za(b))throw new Error("Invalid CanDeactivate guard");S=Vi(b(s,i,r,o))}return S.pipe(ci())});return(0,it.of)(g).pipe(Yd())}(a.component,a.route,r,i,o)),ci(a=>!0!==a,!0))}(g,o,a,s).pipe((0,bi.zg)(_=>_&&function(s){return"boolean"==typeof s}(_)?function(s,i,r,o){return(0,Rn.D)(i).pipe(Ld(a=>tp(function(s,i){return null!==s&&i&&i(new RR(s)),(0,it.of)(!0)}(a.route.parent,o),function(s,i){return null!==s&&i&&i(new Vd(s)),(0,it.of)(!0)}(a.route,o),function(s,i,r){const o=i[i.length-1],c=i.slice(0,i.length-1).reverse().map(g=>function(s){const i=s.routeConfig?s.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:s,guards:i}:null}(g)).filter(g=>null!==g).map(g=>Ix(()=>{const _=g.guards.map(b=>{const S=h_(b,g.node,r);let T;if(function(s){return s&&Za(s.canActivateChild)}(S))T=Vi(S.canActivateChild(o,s));else{if(!Za(S))throw new Error("Invalid CanActivateChild guard");T=Vi(S(o,s))}return T.pipe(ci())});return(0,it.of)(_).pipe(Yd())}));return(0,it.of)(c).pipe(Yd())}(s,a.path,r),function(s,i,r){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return(0,it.of)(!0);const a=o.map(c=>Ix(()=>{const g=h_(c,i,r);let _;if(function(s){return s&&Za(s.canActivate)}(g))_=Vi(g.canActivate(i,s));else{if(!Za(g))throw new Error("Invalid CanActivate guard");_=Vi(g(i,s))}return _.pipe(ci())}));return(0,it.of)(a).pipe(Yd())}(s,a.route,r))),ci(a=>!0!==a,!0))}(o,c,s,i):(0,it.of)(_)),(0,bt.U)(_=>Object.assign(Object.assign({},r),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,qt.b)(_=>{if(Yl(_.guardsResult)){const S=to(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw S.url=_.guardsResult,S}const b=new IR(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(b)}),zn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),g_(_=>{if(_.guards.canActivateChecks.length)return(0,it.of)(_).pipe((0,qt.b)(b=>{const S=new TR(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}),vr(b=>{let S=!1;return(0,it.of)(b).pipe(function(s,i){return(0,bi.zg)(r=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=r;if(!a.length)return(0,it.of)(r);let c=0;return(0,Rn.D)(a).pipe(Ld(g=>function(s,i,r,o){return function(s,i,r,o){const a=Object.keys(s);if(0===a.length)return(0,it.of)({});const c={};return(0,Rn.D)(a).pipe((0,bi.zg)(g=>function(s,i,r,o){const a=h_(s,i,o);return Vi(a.resolve?a.resolve(i,r):a(i,r))}(s[g],i,r,o).pipe((0,qt.b)(_=>{c[g]=_}))),Hm(1),(0,bi.zg)(()=>Object.keys(c).length===a.length?(0,it.of)(c):Js.E))}(s._resolve,s,i,o).pipe((0,bt.U)(c=>(s._resolvedData=c,s.data=Object.assign(Object.assign({},s.data),Zx(s,r).resolve),null)))}(g.route,o,s,i)),(0,qt.b)(()=>c++),Hm(1),(0,bi.zg)(g=>c===a.length?(0,it.of)(r):Js.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qt.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,qt.b)(b=>{const S=new MR(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}))}),g_(_=>{const{targetSnapshot:b,id:S,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:N,replaceUrl:L}}=_;return this.hooks.afterPreactivation(b,{navigationId:S,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!N,replaceUrl:!!L})}),(0,bt.U)(_=>{const b=function(s,i,r){const o=n_(s,i._root,r?r._root:void 0);return new BR(o,i)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:b})}),(0,qt.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((s,i,r)=>(0,bt.U)(o=>(new $R(i,o.targetRouterState,o.currentRouterState,r).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,qt.b)({next(){c=!0},complete(){c=!0}}),SR(()=>{if(!c&&!g){const _=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,_)):this.cancelNavigationTransition(a,_)}this.currentNavigation=null}),Ka(_=>{if(g=!0,function(s){return s&&s[Wm]}(_)){const b=Yl(_.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const S=new Ib(a.id,this.serializeUrl(a.extractedUrl),_.message);o.next(S),b?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),R={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||__(a.source)};this.scheduleNavigation(T,"imperative",null,R,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Tb(a.id,this.serializeUrl(a.extractedUrl),_);o.next(b);try{a.resolve(this.errorHandler(_))}catch(S){a.reject(S)}}return Js.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const o=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:a,state:c,urlTree:g}=o,_={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(_.state=b)}this.scheduleNavigation(g,a,c,_)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(r){var o;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(o=r.state)||void 0===o?void 0:o.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,o){if(!r)return!0;const a=o.urlTree.toString()===r.urlTree.toString();return o.transitionId!==r.transitionId||!a||!("hashchange"===o.source&&"popstate"===r.source||"popstate"===o.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){ew(r),this.config=r.map(a_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,o={}){const{relativeTo:a,queryParams:c,fragment:g,queryParamsHandling:_,preserveFragment:b}=o,S=a||this.routerState.root,T=b?this.currentUrlTree.fragment:g;let R=null;switch(_){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(s,i,r,o,a){if(0===r.length)return r_(i.root,i.root,i,o,a);const c=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new i_(!0,0,s);let i=0,r=!1;const o=s.reduce((a,c,g)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return ur(c.outlets,(b,S)=>{_[S]="string"==typeof b?b.split("/"):b}),[...a,{outlets:_}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===g?(c.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?r=!0:".."===_?i++:""!=_&&a.push(_))}),a):[...a,c]},[]);return new i_(r,i,o)}(r);if(c.toRoot())return r_(i.root,new Xt([],{}),i,o,a);const g=function(s,i,r){if(s.isAbsolute)return new dp(i.root,!0,0);if(-1===r.snapshot._lastPathIndex){const c=r.snapshot._urlSegment;return new dp(c,c===i.root,0)}const o=up(s.commands[0])?0:1;return function(s,i,r){let o=s,a=i,c=r;for(;c>a;){if(c-=a,o=o.parent,!o)throw new Error("Invalid number of '../'");a=o.segments.length}return new dp(o,!1,a-c)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(c,i,s),_=g.processChildren?qd(g.segmentGroup,g.index,c.commands):Hb(g.segmentGroup,g.index,c.commands);return r_(g.segmentGroup,_,i,o,a)}(S,this.currentUrlTree,r,R,null!=T?T:null)}navigateByUrl(r,o={skipLocationChange:!1}){const a=Yl(r)?r:this.parseUrl(r),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,o)}navigate(r,o={skipLocationChange:!1}){return function(s){for(let i=0;i<s.length;i++){const r=s[i];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${i}`)}}(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let o;try{o=this.urlSerializer.parse(r)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,r)}return o}isActive(r,o){let a;if(a=!0===o?Object.assign({},cO):!1===o?Object.assign({},dO):o,Yl(r))return tc(this.currentUrlTree,r,a);const c=this.parseUrl(r);return tc(this.currentUrlTree,c,a)}removeEmptyProps(r){return Object.keys(r).reduce((o,a)=>{const c=r[a];return null!=c&&(o[a]=c),o},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new zm(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(r,o,a,c,g){var _,b;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),T=__(o)&&S&&!__(S.source),L=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(T&&L)return Promise.resolve(!0);let H,ie,we;g?(H=g.resolve,ie=g.reject,we=g.promise):we=new Promise((Ke,wt)=>{H=Ke,ie=wt});const Le=++this.navigationId;let Ze;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Ze=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Ze=0,this.setTransition({id:Le,targetPageId:Ze,source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:c,resolve:H,reject:ie,promise:we,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),we.catch(Ke=>Promise.reject(Ke))}setBrowserUrl(r,o){const a=this.urlSerializer.serialize(r),c=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(r,o=!1){var a,c;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===g?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===g&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,o){const a=new Ib(r.id,this.serializeUrl(r.extractedUrl),o);this.triggerEvent(a),r.resolve(!1)}generateNgRouterState(r,o){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.DyG),f.LFG(Fb),f.LFG(Kd),f.LFG(Xe),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function __(s){return"imperative"!==s}let y_=(()=>{class s{constructor(r,o,a){this.router=r,this.route=o,this.locationStrategy=a,this.commands=[],this.onChanges=new Pt.xQ,this.subscription=r.events.subscribe(c=>{c instanceof zm&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,o,a,c,g){if(0!==r||o||a||c||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:Zd(this.skipLocationChange),replaceUrl:Zd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zd(this.preserveFragment)})}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(Bi),f.Y36(lp),f.Y36(ge))},s.\u0275dir=f.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,o){1&r&&f.NdJ("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&r&&(f.Ikx("href",o.href,f.LSH),f.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),s})();function Zd(s){return""===s||!!s}let dw=(()=>{class s{constructor(r,o,a,c,g){this.parentContexts=r,this.location=o,this.resolver=a,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=c||jt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const g=(o=o||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,b=new CA(r,_,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(Kd),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},s.\u0275dir=f.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class CA{constructor(i,r,o){this.route=i,this.childContexts=r,this.parent=o}get(i,r){return i===lp?this.route:i===Kd?this.childContexts:this.parent.get(i,r)}}class hw{}class fw{preload(i,r){return(0,it.of)(null)}}let pw=(()=>{class s{constructor(r,o,a,c,g){this.router=r,this.injector=c,this.preloadingStrategy=g,this.loader=new uw(o,a,S=>r.triggerEvent(new Vx(S)),S=>r.triggerEvent(new Bx(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(zn(r=>r instanceof zm),Ld(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(f.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){const a=[];for(const c of o)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const g=c._loadedConfig;a.push(this.processRoutes(g.module,g.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(r,c)):c.children&&a.push(this.processRoutes(r,c.children));return(0,Rn.D)(a).pipe((0,xb.J)(),(0,bt.U)(c=>{}))}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,it.of)(o._loadedConfig):this.loader.load(r.injector,o)).pipe((0,bi.zg)(c=>(o._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(Bi),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(hw))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),v_=(()=>{class s{constructor(r,o,a={}){this.router=r,this.viewportScroller=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Db?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof zm&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof eo&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.router.triggerEvent(new eo(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(Bi),f.LFG(gl),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Kl=new f.OlP("ROUTER_CONFIGURATION"),gw=new f.OlP("ROUTER_FORROOT_GUARD"),_w=[Xe,{provide:Fb,useClass:Hx},{provide:Bi,useFactory:function(s,i,r,o,a,c,g,_={},b,S){const T=new Bi(null,s,i,r,o,a,c,Ym(g));return b&&(T.urlHandlingStrategy=b),S&&(T.routeReuseStrategy=S),function(s,i){s.errorHandler&&(i.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(i.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(i.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(i.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(i.urlUpdateStrategy=s.urlUpdateStrategy)}(_,T),_.enableTracing&&T.events.subscribe(R=>{var N,L;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(L=console.groupEnd)||void 0===L||L.call(console)}),T},deps:[Fb,Kd,Xe,f.zs3,f.v3s,f.Sil,m_,Kl,[class{},new f.FiY],[class{},new f.FiY]]},Kd,{provide:lp,useFactory:function(s){return s.routerState.root},deps:[Bi]},{provide:f.v3s,useClass:f.EAV},pw,fw,class{preload(i,r){return r().pipe(Ka(()=>(0,it.of)(null)))}},{provide:Kl,useValue:{enableTracing:!1}}];function ic(){return new f.PXZ("Router",Bi)}let AA=(()=>{class s{constructor(r,o){}static forRoot(r,o){return{ngModule:s,providers:[_w,b_(r),{provide:gw,useFactory:pB,deps:[[Bi,new f.FiY,new f.tp0]]},{provide:Kl,useValue:o||{}},{provide:ge,useFactory:Qd,deps:[se,[new f.tBr(Se),new f.FiY],Kl]},{provide:v_,useFactory:mO,deps:[Bi,gl,Kl]},{provide:hw,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:fw},{provide:f.PXZ,multi:!0,useFactory:ic},[IA,{provide:f.ip1,multi:!0,useFactory:Et,deps:[IA]},{provide:TA,useFactory:_O,deps:[IA]},{provide:f.tb,multi:!0,useExisting:TA}]]}}static forChild(r){return{ngModule:s,providers:[b_(r)]}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(gw,8),f.LFG(Bi,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();function mO(s,i,r){return r.scrollOffset&&i.setOffset(r.scrollOffset),new v_(s,i,r)}function Qd(s,i,r={}){return r.useHash?new Ue(s,i):new qe(s,i)}function pB(s){return"guarded"}function b_(s){return[{provide:f.deG,multi:!0,useValue:s},{provide:m_,multi:!0,useValue:s}]}let IA=(()=>{class s{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pt.xQ}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const a=new Promise(_=>o=_),c=this.injector.get(Bi),g=this.injector.get(Kl);return"disabled"===g.initialNavigation?(c.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,it.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),c.initialNavigation()):o(!0),a})}bootstrapListener(r){const o=this.injector.get(Kl),a=this.injector.get(pw),c=this.injector.get(v_),g=this.injector.get(Bi),_=this.injector.get(f.z2F);r===_.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),a.setUpPreloading(),c.init(),g.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.zs3))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function Et(s){return s.appInitializer.bind(s)}function _O(s){return s.bootstrapListener.bind(s)}const TA=new f.OlP("Router Initializer");var vO=U(9105);function Qa(s,i,r,o){return(0,vO.m)(r)&&(o=r,r=void 0),o?Qa(s,i,r).pipe((0,bt.U)(a=>(0,Fa.k)(a)?o(...a):o(a))):new Dn.y(a=>{Xn(s,i,function(g){a.next(arguments.length>1?Array.prototype.slice.call(arguments):g)},a,r)})}function Xn(s,i,r,o,a){let c;if(function(s){return s&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener}(s)){const g=s;s.addEventListener(i,r,a),c=()=>g.removeEventListener(i,r,a)}else if(function(s){return s&&"function"==typeof s.on&&"function"==typeof s.off}(s)){const g=s;s.on(i,r),c=()=>g.off(i,r)}else if(function(s){return s&&"function"==typeof s.addListener&&"function"==typeof s.removeListener}(s)){const g=s;s.addListener(i,r),c=()=>g.removeListener(i,r)}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(let g=0,_=s.length;g<_;g++)Xn(s[g],i,r,o,a)}o.add(c)}var bO=U(6465),OA=U(6102);new class extends OA.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:r}=this;let o,a=-1,c=r.length;i=i||r.shift();do{if(o=i.execute(i.state,i.delay))break}while(++a<c&&(i=r.shift()));if(this.active=!1,o){for(;++a<c&&(i=r.shift());)i.unsubscribe();throw o}}}(class extends bO.o{constructor(i,r){super(i,r),this.scheduler=i,this.work=r}requestAsyncId(i,r,o=0){return null!==o&&o>0?super.requestAsyncId(i,r,o):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,r,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(i,r,o);0===i.actions.length&&(cancelAnimationFrame(r),i.scheduled=void 0)}});U(4581);function Zl(s,i){return r=>r.lift(new EO(s,i))}class EO{constructor(i,r){this.compare=i,this.keySelector=r}call(i,r){return r.subscribe(new CO(i,this.compare,this.keySelector))}}class CO extends lr.L{constructor(i,r,o){super(i),this.keySelector=o,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(i,r){return i===r}_next(i){let r;try{const{keySelector:a}=this;r=a?a(i):i}catch(a){return this.destination.error(a)}let o=!1;if(this.hasKey)try{const{compare:a}=this;o=a(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=r,this.destination.next(i))}}var w_=U(3637);class PA{constructor(i){this.durationSelector=i}call(i,r){return r.subscribe(new LA(i,this.durationSelector))}}class LA extends Cs.Ds{constructor(i,r){super(i),this.durationSelector=r,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let r;try{const{durationSelector:a}=this;r=a(i)}catch(a){return this.destination.error(a)}const o=(0,Cs.ft)(r,new Cs.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:i,hasValue:r,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),r&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ww=U(6561);function bp(s){const{index:i,period:r,subscriber:o}=s;if(o.next(i),!o.closed){if(-1===r)return o.complete();s.index=i+1,this.schedule(s,r)}}function Ql(s,i=w_.P){return function(s){return function(r){return r.lift(new PA(s))}}(()=>function(s=0,i,r){let o=-1;return(0,ww.k)(i)?o=Number(i)<1?1:Number(i):(0,jm.K)(i)&&(r=i),(0,jm.K)(r)||(r=w_.P),new Dn.y(a=>{const c=(0,ww.k)(s)?s:+s-r.now();return r.schedule(bp,c,{index:0,period:o,subscriber:a})})}(s,i))}function wp(){return s=>s.lift(new AO)}class AO{call(i,r){return r.subscribe(new SO(i))}}class SO extends lr.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let r;this.hasPrev?r=[this.prev,i]:this.hasPrev=!0,this.prev=i,r&&this.destination.next(r)}}var VA=U(7771),Jl=U(6136),BA=U(8858);class DO extends Pt.xQ{constructor(i=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const r=this._events;r.push(i),r.length>this._bufferSize&&r.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new UA(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=o.length;let g;if(this.closed)throw new wm.N;if(this.isStopped||this.hasError?g=Xs.w.EMPTY:(this.observers.push(i),g=new BA.W(this,i)),a&&i.add(i=new Jl.ht(i,a)),r)for(let _=0;_<c&&!i.closed;_++)i.next(o[_]);else for(let _=0;_<c&&!i.closed;_++)i.next(o[_].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),g}_getNow(){return(this.scheduler||VA.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),r=this._bufferSize,o=this._windowTime,a=this._events,c=a.length;let g=0;for(;g<c&&!(i-a[g].time<o);)g++;return c>r&&(g=Math.max(g,c-r)),g>0&&a.splice(0,g),a}}class UA{constructor(i,r){this.time=i,this.value=r}}function C_(s,i,r){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:i,refCount:!1,scheduler:r},a=>a.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:r,scheduler:o}){let a,g,c=0,_=!1,b=!1;return function(T){let R;c++,!a||_?(_=!1,a=new DO(s,i,o),R=a.subscribe(this),g=T.subscribe({next(N){a.next(N)},error(N){_=!0,a.error(N)},complete(){b=!0,g=void 0,a.complete()}}),b&&(g=void 0)):R=a.subscribe(this),this.add(()=>{c--,R.unsubscribe(),R=void 0,g&&!b&&r&&0===c&&(g.unsubscribe(),g=void 0,a=void 0)})}}(o))}let GA;try{GA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(s){GA=!1}let Ep,qn=(()=>{class s{constructor(r){this._platformId=r,this.isBrowser=this._platformId?Hn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.Lbi))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.Lbi))},token:s,providedIn:"root"}),s})(),x_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const Ew=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Cp(){if(Ep)return Ep;if("object"!=typeof document||!document)return Ep=new Set(Ew),Ep;let s=document.createElement("input");return Ep=new Set(Ew.filter(i=>(s.setAttribute("type",i),s.type===i))),Ep}let xp,sc,Cw;function Ap(s){return function(){if(null==xp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xp=!0}))}finally{xp=xp||!1}return xp}()?s:!!s.capture}function jA(){if(null==sc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sc=!1,sc;if("scrollBehavior"in document.documentElement.style)sc=!0;else{const s=Element.prototype.scrollTo;sc=!!s&&!/\{\s*\[native code\]\s*\}/.test(s.toString())}}return sc}function A_(){let s="undefined"!=typeof document&&document?document.activeElement:null;for(;s&&s.shadowRoot;){const i=s.shadowRoot.activeElement;if(i===s)break;s=i}return s}function Jd(s){return s.composedPath?s.composedPath()[0]:s.target}let D_=(()=>{class s{constructor(r,o,a){this._ngZone=r,this._platform=o,this._scrolled=new Pt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){const o=this.scrollContainers.get(r);o&&(o.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=20){return this._platform.isBrowser?new Dn.y(o=>{this._globalSubscription||this._addGlobalListener();const a=r>0?this._scrolled.pipe(Ql(r)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,it.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(r,o){const a=this.getAncestorScrollContainers(r);return this.scrolled(o).pipe(zn(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(r){const o=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,r)&&o.push(c)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,o){let a=Es(o),c=r.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qa(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.R0b),f.LFG(qn),f.LFG(re,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.R0b),f.LFG(qn),f.LFG(re,8))},token:s,providedIn:"root"}),s})(),Dp=(()=>{class s{constructor(r,o,a){this._platform=r,this._change=new Pt.xQ,this._changeListener=c=>{this._change.next(c)},this._document=a,o.runOutsideAngular(()=>{if(r.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){const r=this.getViewportScrollPosition(),{width:o,height:a}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+a,right:r.left+o,height:a,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const r=this._document,o=this._getWindow(),a=r.documentElement,c=a.getBoundingClientRect();return{top:-c.top||r.body.scrollTop||o.scrollY||a.scrollTop||0,left:-c.left||r.body.scrollLeft||o.scrollX||a.scrollLeft||0}}change(r=20){return r>0?this._change.pipe(Ql(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(qn),f.LFG(f.R0b),f.LFG(re,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(qn),f.LFG(f.R0b),f.LFG(re,8))},token:s,providedIn:"root"}),s})(),YA=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})(),Dw=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[$l,x_,YA],$l,YA]}),s})();class Iw{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Ip extends Iw{constructor(i,r,o,a){super(),this.component=i,this.viewContainerRef=r,this.injector=o,this.componentFactoryResolver=a}}class eh extends Iw{constructor(i,r,o){super(),this.templateRef=i,this.viewContainerRef=r,this.context=o}get origin(){return this.templateRef.elementRef}attach(i,r=this.context){return this.context=r,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class KA extends Iw{constructor(i){super(),this.element=i instanceof f.SBq?i.nativeElement:i}}class Tp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Ip?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof eh?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof KA?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jO extends Tp{constructor(i,r,o,a,c){super(),this.outletElement=i,this._componentFactoryResolver=r,this._appRef=o,this._defaultInjector=a,this.attachDomPortal=g=>{const _=g.element,b=this._document.createComment("dom-portal");_.parentNode.insertBefore(b,_),this.outletElement.appendChild(_),this._attachedPortal=g,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(_,b)})},this._document=c}attachComponentPortal(i){const o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(o,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=o.create(i.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let r=i.viewContainerRef,o=r.createEmbeddedView(i.templateRef,i.context);return o.rootNodes.forEach(a=>this.outletElement.appendChild(a)),o.detectChanges(),this.setDisposeFn(()=>{let a=r.indexOf(o);-1!==a&&r.remove(a)}),this._attachedPortal=i,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let I_=(()=>{class s extends Tp{constructor(r,o,a){super(),this._componentFactoryResolver=r,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=c=>{const g=c.element,_=this._document.createComment("dom-portal");c.setAttachedHost(this),g.parentNode.insertBefore(_,g),this._getRootNode().appendChild(g),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(g,_)})},this._document=a}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(r){r.setAttachedHost(this);const o=null!=r.viewContainerRef?r.viewContainerRef:this._viewContainerRef,c=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),g=o.createComponent(c,o.length,r.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(g.hostView.rootNodes[0]),super.setDisposeFn(()=>g.destroy()),this._attachedPortal=r,this._attachedRef=g,this.attached.emit(g),g}attachTemplatePortal(r){r.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(re))},s.\u0275dir=f.lG2({type:s,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),s})(),Tw=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const L_=jA();class Uw{constructor(i,r){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=yr(-this._previousScrollPosition.left),i.style.top=yr(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,o=i.style,a=this._document.body.style,c=o.scrollBehavior||"",g=a.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),L_&&(o.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),L_&&(o.scrollBehavior=c,a.scrollBehavior=g)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const r=this._document.body,o=this._viewportRuler.getViewportSize();return r.scrollHeight>o.height||r.scrollWidth>o.width}}class mU{constructor(i,r,o,a){this._scrollDispatcher=i,this._ngZone=r,this._viewportRuler=o,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ot{enable(){}disable(){}attach(){}}function oS(s,i){return i.some(r=>s.bottom<r.top||s.top>r.bottom||s.right<r.left||s.left>r.right)}function sh(s,i){return i.some(r=>s.top<r.top||s.bottom>r.bottom||s.left<r.left||s.right>r.right)}class wk{constructor(i,r,o,a){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:a}=this._viewportRuler.getViewportSize();oS(r,[{width:o,height:a,bottom:a,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ek=(()=>{class s{constructor(r,o,a,c){this._scrollDispatcher=r,this._viewportRuler=o,this._ngZone=a,this.noop=()=>new Ot,this.close=g=>new mU(this._scrollDispatcher,this._ngZone,this._viewportRuler,g),this.block=()=>new Uw(this._viewportRuler,this._document),this.reposition=g=>new wk(this._scrollDispatcher,this._viewportRuler,this._ngZone,g),this._document=c}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(D_),f.LFG(Dp),f.LFG(f.R0b),f.LFG(re))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(D_),f.LFG(Dp),f.LFG(f.R0b),f.LFG(re))},token:s,providedIn:"root"}),s})();class Gw{constructor(i){if(this.scrollStrategy=new Ot,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const r=Object.keys(i);for(const o of r)void 0!==i[o]&&(this[o]=i[o])}}}class _U{constructor(i,r,o,a,c){this.offsetX=o,this.offsetY=a,this.panelClass=c,this.originX=i.originX,this.originY=i.originY,this.overlayX=r.overlayX,this.overlayY=r.overlayY}}class Ck{constructor(i,r){this.connectionPair=i,this.scrollableViewProperties=r}}let aS=(()=>{class s{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){const o=this._attachedOverlays.indexOf(r);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(re))},token:s,providedIn:"root"}),s})(),jw=(()=>{class s extends aS{constructor(r){super(r),this._keydownListener=o=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){a[c]._keydownEvents.next(o);break}}}add(r){super.add(r),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(re))},token:s,providedIn:"root"}),s})(),xk=(()=>{class s extends aS{constructor(r,o){super(r),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=a=>{const c=Jd(a),g=this._attachedOverlays.slice();for(let _=g.length-1;_>-1;_--){const b=g[_];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(c))break;b._outsidePointerEvents.next(a)}}}}add(r){if(super.add(r),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const r=this._document.body;r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re),f.LFG(qn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(re),f.LFG(qn))},token:s,providedIn:"root"}),s})();const eu="undefined"!=typeof window?window:{},lS=void 0!==eu.__karma__&&!!eu.__karma__||void 0!==eu.jasmine&&!!eu.jasmine||void 0!==eu.jest&&!!eu.jest||void 0!==eu.Mocha&&!!eu.Mocha;let kp=(()=>{class s{constructor(r,o){this._platform=o,this._document=r}ngOnDestroy(){const r=this._containerElement;r&&r.parentNode&&r.parentNode.removeChild(r)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r="cdk-overlay-container";if(this._platform.isBrowser||lS){const a=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c])}const o=this._document.createElement("div");o.classList.add(r),lS?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re),f.LFG(qn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(re),f.LFG(qn))},token:s,providedIn:"root"}),s})();class Ak{constructor(i,r,o,a,c,g,_,b,S){this._portalOutlet=i,this._host=r,this._pane=o,this._config=a,this._ngZone=c,this._keyboardDispatcher=g,this._document=_,this._location=b,this._outsideClickDispatcher=S,this._backdropElement=null,this._backdropClick=new Pt.xQ,this._attachments=new Pt.xQ,this._detachments=new Pt.xQ,this._locationChanges=Xs.w.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new Pt.xQ,this._outsidePointerEvents=new Pt.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let r=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(oa(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=yr(this._config.width),i.height=yr(this._config.height),i.minWidth=yr(this._config.minWidth),i.minHeight=yr(this._config.minHeight),i.maxWidth=yr(this._config.maxWidth),i.maxHeight=yr(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let r,o=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",o),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(r)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",o)}),i.style.pointerEvents="none",r=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(i,r,o){const a=i.classList;N0(r).forEach(c=>{c&&(o?a.add(c):a.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(ui((0,Ul.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const uS="cdk-overlay-connected-position-bounding-box",Hw=/([A-Za-z%]+)$/;class cS{constructor(i,r,o,a,c){this._viewportRuler=r,this._document=o,this._platform=a,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pt.xQ,this._resizeSubscription=Xs.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(uS),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,r=this._overlayRect,o=this._viewportRect,a=[];let c;for(let g of this._preferredPositions){let _=this._getOriginPoint(i,g),b=this._getOverlayPoint(_,r,g),S=this._getOverlayFit(b,r,o,g);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,_);this._canFitWithFlexibleDimensions(S,b,o)?a.push({position:g,origin:_,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(_,g)}):(!c||c.overlayFit.visibleArea<S.visibleArea)&&(c={overlayFit:S,overlayPoint:b,originPoint:_,position:g,overlayRect:r})}if(a.length){let g=null,_=-1;for(const b of a){const S=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);S>_&&(_=S,g=b)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(uS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],r=this._getOriginPoint(this._originRect,i);this._applyPosition(i,r)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,r){let o,a;if("center"==r.originX)o=i.left+i.width/2;else{const c=this._isRtl()?i.right:i.left,g=this._isRtl()?i.left:i.right;o="start"==r.originX?c:g}return a="center"==r.originY?i.top+i.height/2:"top"==r.originY?i.top:i.bottom,{x:o,y:a}}_getOverlayPoint(i,r,o){let a,c;return a="center"==o.overlayX?-r.width/2:"start"===o.overlayX?this._isRtl()?-r.width:0:this._isRtl()?0:-r.width,c="center"==o.overlayY?-r.height/2:"top"==o.overlayY?0:-r.height,{x:i.x+a,y:i.y+c}}_getOverlayFit(i,r,o,a){const c=V_(r);let{x:g,y:_}=i,b=this._getOffset(a,"x"),S=this._getOffset(a,"y");b&&(g+=b),S&&(_+=S);let N=0-_,L=_+c.height-o.height,H=this._subtractOverflows(c.width,0-g,g+c.width-o.width),ie=this._subtractOverflows(c.height,N,L),we=H*ie;return{visibleArea:we,isCompletelyWithinViewport:c.width*c.height===we,fitsInViewportVertically:ie===c.height,fitsInViewportHorizontally:H==c.width}}_canFitWithFlexibleDimensions(i,r,o){if(this._hasFlexibleDimensions){const a=o.bottom-r.y,c=o.right-r.x,g=$w(this._overlayRef.getConfig().minHeight),_=$w(this._overlayRef.getConfig().minWidth),S=i.fitsInViewportHorizontally||null!=_&&_<=c;return(i.fitsInViewportVertically||null!=g&&g<=a)&&S}return!1}_pushOverlayOnScreen(i,r,o){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=V_(r),c=this._viewportRect,g=Math.max(i.x+a.width-c.width,0),_=Math.max(i.y+a.height-c.height,0),b=Math.max(c.top-o.top-i.y,0),S=Math.max(c.left-o.left-i.x,0);let T=0,R=0;return T=a.width<=c.width?S||-g:i.x<this._viewportMargin?c.left-o.left-i.x:0,R=a.height<=c.height?b||-_:i.y<this._viewportMargin?c.top-o.top-i.y:0,this._previousPushAmount={x:T,y:R},{x:i.x+T,y:i.y+R}}_applyPosition(i,r){if(this._setTransformOrigin(i),this._setOverlayElementStyles(r,i),this._setBoundingBoxStyles(r,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const o=this._getScrollVisibility(),a=new Ck(i,o);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const r=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,a=i.overlayY;o="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let c=0;c<r.length;c++)r[c].style.transformOrigin=`${o} ${a}`}_calculateBoundingBoxRect(i,r){const o=this._viewportRect,a=this._isRtl();let c,g,_,T,R,N;if("top"===r.overlayY)g=i.y,c=o.height-g+this._viewportMargin;else if("bottom"===r.overlayY)_=o.height-i.y+2*this._viewportMargin,c=o.height-_+this._viewportMargin;else{const L=Math.min(o.bottom-i.y+o.top,i.y),H=this._lastBoundingBoxSize.height;c=2*L,g=i.y-L,c>H&&!this._isInitialRender&&!this._growAfterOpen&&(g=i.y-H/2)}if("end"===r.overlayX&&!a||"start"===r.overlayX&&a)N=o.width-i.x+this._viewportMargin,T=i.x-this._viewportMargin;else if("start"===r.overlayX&&!a||"end"===r.overlayX&&a)R=i.x,T=o.right-i.x;else{const L=Math.min(o.right-i.x+o.left,i.x),H=this._lastBoundingBoxSize.width;T=2*L,R=i.x-L,T>H&&!this._isInitialRender&&!this._growAfterOpen&&(R=i.x-H/2)}return{top:g,left:R,bottom:_,right:N,width:T,height:c}}_setBoundingBoxStyles(i,r){const o=this._calculateBoundingBoxRect(i,r);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,g=this._overlayRef.getConfig().maxWidth;a.height=yr(o.height),a.top=yr(o.top),a.bottom=yr(o.bottom),a.width=yr(o.width),a.left=yr(o.left),a.right=yr(o.right),a.alignItems="center"===r.overlayX?"center":"end"===r.overlayX?"flex-end":"flex-start",a.justifyContent="center"===r.overlayY?"center":"bottom"===r.overlayY?"flex-end":"flex-start",c&&(a.maxHeight=yr(c)),g&&(a.maxWidth=yr(g))}this._lastBoundingBoxSize=o,lc(this._boundingBox.style,a)}_resetBoundingBoxStyles(){lc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,r){const o={},a=this._hasExactPosition(),c=this._hasFlexibleDimensions,g=this._overlayRef.getConfig();if(a){const T=this._viewportRuler.getViewportScrollPosition();lc(o,this._getExactOverlayY(r,i,T)),lc(o,this._getExactOverlayX(r,i,T))}else o.position="static";let _="",b=this._getOffset(r,"x"),S=this._getOffset(r,"y");b&&(_+=`translateX(${b}px) `),S&&(_+=`translateY(${S}px)`),o.transform=_.trim(),g.maxHeight&&(a?o.maxHeight=yr(g.maxHeight):c&&(o.maxHeight="")),g.maxWidth&&(a?o.maxWidth=yr(g.maxWidth):c&&(o.maxWidth="")),lc(this._pane.style,o)}_getExactOverlayY(i,r,o){let a={top:"",bottom:""},c=this._getOverlayPoint(r,this._overlayRect,i);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o));let g=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=g,"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":a.top=yr(c.y),a}_getExactOverlayX(i,r,o){let g,a={left:"",right:""},c=this._getOverlayPoint(r,this._overlayRect,i);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o)),g=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===g?a.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":a.left=yr(c.x),a}_getScrollVisibility(){const i=this._getOriginRect(),r=this._pane.getBoundingClientRect(),o=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:sh(i,o),isOriginOutsideView:oS(i,o),isOverlayClipped:sh(r,o),isOverlayOutsideView:oS(r,o)}}_subtractOverflows(i,...r){return r.reduce((o,a)=>o-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+i-this._viewportMargin,bottom:o.top+r-this._viewportMargin,width:i-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,r){return"x"===r?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&N0(i).forEach(r=>{""!==r&&-1===this._appliedPanelClasses.indexOf(r)&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof f.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const r=i.width||0,o=i.height||0;return{top:i.y,bottom:i.y+o,left:i.x,right:i.x+r,height:o,width:r}}}function lc(s,i){for(let r in i)i.hasOwnProperty(r)&&(s[r]=i[r]);return s}function $w(s){if("number"!=typeof s&&null!=s){const[i,r]=s.split(Hw);return r&&"px"!==r?null:parseFloat(i)}return s||null}function V_(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}class Sk{constructor(i,r,o,a,c,g,_){this._preferredPositions=[],this._positionStrategy=new cS(o,a,c,g,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,r),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,r,o,a){const c=new _U(i,r,o,a);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const Dk="cdk-global-overlay-wrapper";class Ik{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const r=i.getConfig();this._overlayRef=i,this._width&&!r.width&&i.updateSize({width:this._width}),this._height&&!r.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(Dk),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:a,height:c,maxWidth:g,maxHeight:_}=o,b=!("100%"!==a&&"100vw"!==a||g&&"100%"!==g&&"100vw"!==g),S=!("100%"!==c&&"100vh"!==c||_&&"100%"!==_&&"100vh"!==_);i.position=this._cssPosition,i.marginLeft=b?"0":this._leftOffset,i.marginTop=S?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,b?r.justifyContent="flex-start":"center"===this._justifyContent?r.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?r.justifyContent="flex-end":"flex-end"===this._justifyContent&&(r.justifyContent="flex-start"):r.justifyContent=this._justifyContent,r.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,o=r.style;r.classList.remove(Dk),o.justifyContent=o.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let Tk=(()=>{class s{constructor(r,o,a,c){this._viewportRuler=r,this._document=o,this._platform=a,this._overlayContainer=c}global(){return new Ik}connectedTo(r,o,a){return new Sk(o,a,r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(r){return new cS(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(Dp),f.LFG(re),f.LFG(qn),f.LFG(kp))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Dp),f.LFG(re),f.LFG(qn),f.LFG(kp))},token:s,providedIn:"root"}),s})(),Mk=0,oh=(()=>{class s{constructor(r,o,a,c,g,_,b,S,T,R,N){this.scrollStrategies=r,this._overlayContainer=o,this._componentFactoryResolver=a,this._positionBuilder=c,this._keyboardDispatcher=g,this._injector=_,this._ngZone=b,this._document=S,this._directionality=T,this._location=R,this._outsideClickDispatcher=N}create(r){const o=this._createHostElement(),a=this._createPaneElement(o),c=this._createPortalOutlet(a),g=new Gw(r);return g.direction=g.direction||this._directionality.value,new Ak(c,o,a,g,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(r){const o=this._document.createElement("div");return o.id="cdk-overlay-"+Mk++,o.classList.add("cdk-overlay-pane"),r.appendChild(o),o}_createHostElement(){const r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new jO(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(Ek),f.LFG(kp),f.LFG(f._Vd),f.LFG(Tk),f.LFG(jw),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(re),f.LFG(xs),f.LFG(Xe),f.LFG(xk))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const hS={provide:new f.OlP("cdk-connected-overlay-scroll-strategy"),deps:[oh],useFactory:function(s){return()=>s.scrollStrategies.reposition()}};let Np=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[oh,hS],imports:[[$l,Tw,Dw],Dw]}),s})();class kk{constructor(i){this.total=i}call(i,r){return r.subscribe(new Nk(i,this.total))}}class Nk extends lr.L{constructor(i,r){super(i),this.total=r,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}class Pk{constructor(i,r){this.dueTime=i,this.scheduler=r}call(i,r){return r.subscribe(new Lk(i,this.dueTime,this.scheduler))}}class Lk extends lr.L{constructor(i,r,o){super(i),this.dueTime=r,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(pS,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function pS(s){s.debouncedNext()}let zw=(()=>{class s{create(r){return"undefined"==typeof MutationObserver?null:new MutationObserver(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=f.Yz7({factory:function(){return new s},token:s,providedIn:"root"}),s})(),gS=(()=>{class s{constructor(r){this._mutationObserverFactory=r,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((r,o)=>this._cleanupObserver(o))}observe(r){const o=Es(r);return new Dn.y(a=>{const g=this._observeElement(o).subscribe(a);return()=>{g.unsubscribe(),this._unobserveElement(o)}})}_observeElement(r){if(this._observedElements.has(r))this._observedElements.get(r).count++;else{const o=new Pt.xQ,a=this._mutationObserverFactory.create(c=>o.next(c));a&&a.observe(r,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(r,{observer:a,stream:o,count:1})}return this._observedElements.get(r).stream}_unobserveElement(r){this._observedElements.has(r)&&(this._observedElements.get(r).count--,this._observedElements.get(r).count||this._cleanupObserver(r))}_cleanupObserver(r){if(this._observedElements.has(r)){const{observer:o,stream:a}=this._observedElements.get(r);o&&o.disconnect(),a.complete(),this._observedElements.delete(r)}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(zw))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(zw))},token:s,providedIn:"root"}),s})(),bU=(()=>{class s{constructor(r,o,a){this._contentObserver=r,this._elementRef=o,this._ngZone=a,this.event=new f.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(r){this._disabled=Qt(r),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(r){this._debounce=ta(r),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const r=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?r.pipe(function(s,i=w_.P){return r=>r.lift(new Pk(s,i))}(this.debounce)):r).subscribe(this.event)})}_unsubscribe(){var r;null===(r=this._currentSubscription)||void 0===r||r.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(gS),f.Y36(f.SBq),f.Y36(f.R0b))},s.\u0275dir=f.lG2({type:s,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),s})(),Vk=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[zw]}),s})(),qw=(()=>{class s{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return function(s){return!!(s.offsetWidth||s.offsetHeight||"function"==typeof s.getClientRects&&s.getClientRects().length)}(r)&&"visible"===getComputedStyle(r).visibility}isTabbable(r){if(!this._platform.isBrowser)return!1;const o=function(s){try{return s.frameElement}catch(i){return null}}(function(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}(r));if(o&&(-1===CS(o)||!this.isVisible(o)))return!1;let a=r.nodeName.toLowerCase(),c=CS(r);return r.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(s){let i=s.nodeName.toLowerCase(),r="input"===i&&s.type;return"text"===r||"password"===r||"select"===i||"textarea"===i}(r))&&("audio"===a?!!r.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||r.hasAttribute("controls")):r.tabIndex>=0)}isFocusable(r,o){return function(s){return!function(s){return function(s){return"input"==s.nodeName.toLowerCase()}(s)&&"hidden"==s.type}(s)&&(function(s){let i=s.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(s)||function(s){return function(s){return"a"==s.nodeName.toLowerCase()}(s)&&s.hasAttribute("href")}(s)||s.hasAttribute("contenteditable")||Yk(s))}(r)&&!this.isDisabled(r)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(r))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(qn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(qn))},token:s,providedIn:"root"}),s})();function Yk(s){if(!s.hasAttribute("tabindex")||void 0===s.tabIndex)return!1;let i=s.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function CS(s){if(!Yk(s))return null;const i=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class xS{constructor(i,r,o,a,c=!1){this._element=i,this._checker=r,this._ngZone=o,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,r=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),r&&(r.removeEventListener("focus",this.endAnchorListener),r.parentNode&&r.parentNode.removeChild(r)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let r=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let o=0;o<r.length;o++)r[o].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,r[o]):r[o].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,r[o]);return"start"==i?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(r.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",r),!this._checker.isFocusable(r)){const o=this._getFirstTabbableElement(r);return null==o||o.focus(i),!!o}return r.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const r=this._getRegionBoundary("start");return r&&r.focus(i),!!r}focusLastTabbableElement(i){const r=this._getRegionBoundary("end");return r&&r.focus(i),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let r=i.children||i.childNodes;for(let o=0;o<r.length;o++){let a=r[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[o]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let r=i.children||i.childNodes;for(let o=r.length-1;o>=0;o--){let a=r[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[o]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,r){i?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(oa(1)).subscribe(i)}}let AS=(()=>{class s{constructor(r,o,a){this._checker=r,this._ngZone=o,this._document=a}create(r,o=!1){return new xS(r,this._checker,this._ngZone,this._document,o)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(qw),f.LFG(f.R0b),f.LFG(re))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(qw),f.LFG(f.R0b),f.LFG(re))},token:s,providedIn:"root"}),s})();function DS(s){return 0===s.offsetX&&0===s.offsetY}function IS(s){const i=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const TS=new f.OlP("cdk-input-modality-detector-options"),Xk={ignoreKeys:[18,17,224,91,16]},uc=Ap({passive:!0,capture:!0});let Yw=(()=>{class s{constructor(r,o,a,c){this._platform=r,this._mostRecentTarget=null,this._modality=new $r(null),this._lastTouchMs=0,this._onKeydown=g=>{var _,b;(null===(b=null===(_=this._options)||void 0===_?void 0:_.ignoreKeys)||void 0===b?void 0:b.some(S=>S===g.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Jd(g))},this._onMousedown=g=>{Date.now()-this._lastTouchMs<650||(this._modality.next(DS(g)?"keyboard":"mouse"),this._mostRecentTarget=Jd(g))},this._onTouchstart=g=>{IS(g)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Jd(g))},this._options=Object.assign(Object.assign({},Xk),c),this.modalityDetected=this._modality.pipe(i=>i.lift(new kk(1))),this.modalityChanged=this.modalityDetected.pipe(Zl()),r.isBrowser&&o.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,uc),a.addEventListener("mousedown",this._onMousedown,uc),a.addEventListener("touchstart",this._onTouchstart,uc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,uc),document.removeEventListener("mousedown",this._onMousedown,uc),document.removeEventListener("touchstart",this._onTouchstart,uc))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(qn),f.LFG(f.R0b),f.LFG(re),f.LFG(TS,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(qn),f.LFG(f.R0b),f.LFG(re),f.LFG(TS,8))},token:s,providedIn:"root"}),s})();const OS=new f.OlP("cdk-focus-monitor-default-options"),Pp=Ap({passive:!0,capture:!0});let U_=(()=>{class s{constructor(r,o,a,c,g){this._ngZone=r,this._platform=o,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pt.xQ,this._rootNodeFocusAndBlurListener=_=>{const b=Jd(_),S="focus"===_.type?this._onFocus:this._onBlur;for(let T=b;T;T=T.parentElement)S.call(this,_,T)},this._document=c,this._detectionMode=(null==g?void 0:g.detectionMode)||0}monitor(r,o=!1){const a=Es(r);if(!this._platform.isBrowser||1!==a.nodeType)return(0,it.of)(null);const c=function(s){if(function(){if(null==Cw){const s="undefined"!=typeof document?document.head:null;Cw=!(!s||!s.createShadowRoot&&!s.attachShadow)}return Cw}()){const i=s.getRootNode?s.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(a)||this._getDocument(),g=this._elementInfo.get(a);if(g)return o&&(g.checkChildren=!0),g.subject;const _={checkChildren:o,subject:new Pt.xQ,rootNode:c};return this._elementInfo.set(a,_),this._registerGlobalListeners(_),_.subject}stopMonitoring(r){const o=Es(r),a=this._elementInfo.get(o);a&&(a.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(a))}focusVia(r,o,a){const c=Es(r);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([_,b])=>this._originChanged(_,o,b)):(this._setOrigin(o),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((r,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(r,o,a){a?r.classList.add(o):r.classList.remove(o)}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(r){return 1===this._detectionMode||!!(null==r?void 0:r.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(r,o){this._toggleClass(r,"cdk-focused",!!o),this._toggleClass(r,"cdk-touch-focused","touch"===o),this._toggleClass(r,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(r,"cdk-mouse-focused","mouse"===o),this._toggleClass(r,"cdk-program-focused","program"===o)}_setOrigin(r,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=r,this._originFromTouchInteraction="touch"===r&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(r,o){const a=this._elementInfo.get(o),c=Jd(r);!a||!a.checkChildren&&o!==c||this._originChanged(o,this._getFocusOrigin(c),a)}_onBlur(r,o){const a=this._elementInfo.get(o);!a||a.checkChildren&&r.relatedTarget instanceof Node&&o.contains(r.relatedTarget)||(this._setClasses(o),this._emitOrigin(a.subject,null))}_emitOrigin(r,o){this._ngZone.run(()=>r.next(o))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;const o=r.rootNode,a=this._rootNodeFocusListenerCount.get(o)||0;a||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Pp),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Pp)}),this._rootNodeFocusListenerCount.set(o,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ui(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(r){const o=r.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const a=this._rootNodeFocusListenerCount.get(o);a>1?this._rootNodeFocusListenerCount.set(o,a-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pp),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pp),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,o,a){this._setClasses(r,o),this._emitOrigin(a.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(r){const o=[];return this._elementInfo.forEach((a,c)=>{(c===r||a.checkChildren&&c.contains(r))&&o.push([c,a])}),o}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.R0b),f.LFG(qn),f.LFG(Yw),f.LFG(re,8),f.LFG(OS,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.R0b),f.LFG(qn),f.LFG(Yw),f.LFG(re,8),f.LFG(OS,8))},token:s,providedIn:"root"}),s})();const kS="cdk-high-contrast-black-on-white",uh="cdk-high-contrast-white-on-black",cc="cdk-high-contrast-active";let NS=(()=>{class s{constructor(r,o){this._platform=r,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);const o=this._document.defaultView||window,a=o&&o.getComputedStyle?o.getComputedStyle(r):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(r),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const r=this._document.body.classList;r.remove(cc),r.remove(kS),r.remove(uh),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(r.add(cc),r.add(kS)):2===o&&(r.add(cc),r.add(uh))}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(qn),f.LFG(re))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(qn),f.LFG(re))},token:s,providedIn:"root"}),s})();const Ro=new f.GfV("12.2.3");class PS{}const Xa="*";function LS(s,i){return{type:7,name:s,definitions:i,options:{}}}function VS(s,i=null){return{type:4,styles:i,timings:s}}function j_(s,i=null){return{type:2,steps:s,options:i}}function el(s){return{type:6,styles:s,offset:null}}function Lp(s,i,r){return{type:0,name:s,styles:i,options:r}}function Qw(s,i,r=null){return{type:1,expr:s,animation:i,options:r}}function Jw(s){Promise.resolve(null).then(s)}class dc{constructor(i=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Jw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(o=>o()),r.length=0}}class Xw{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let r=0,o=0,a=0;const c=this.players.length;0==c?Jw(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++r==c&&this._onFinish()}),g.onDestroy(()=>{++o==c&&this._onDestroy()}),g.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((g,_)=>Math.max(g,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const r=i*this.totalTime;this.players.forEach(o=>{const a=o.totalTime?Math.min(1,r/o.totalTime):1;o.setPosition(a)})}getPosition(){const i=this.players.reduce((r,o)=>null===r||o.totalTime>r.totalTime?o:r,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(o=>o()),r.length=0}}function jS(){return"undefined"!=typeof window&&void 0!==window.document}function $_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tl(s){switch(s.length){case 0:return new dc;case 1:return s[0];default:return new Xw(s)}}function HS(s,i,r,o,a={},c={}){const g=[],_=[];let b=-1,S=null;if(o.forEach(T=>{const R=T.offset,N=R==b,L=N&&S||{};Object.keys(T).forEach(H=>{let ie=H,we=T[H];if("offset"!==H)switch(ie=i.normalizePropertyName(ie,g),we){case"!":we=a[H];break;case Xa:we=c[H];break;default:we=i.normalizeStyleValue(H,ie,we,g)}L[ie]=we}),N||_.push(L),S=L,b=R}),g.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${g.join(T)}`)}return _}function z_(s,i,r,o){switch(i){case"start":s.onStart(()=>o(r&&eE(r,"start",s)));break;case"done":s.onDone(()=>o(r&&eE(r,"done",s)));break;case"destroy":s.onDestroy(()=>o(r&&eE(r,"destroy",s)))}}function eE(s,i,r){const o=r.totalTime,c=$S(s.element,s.triggerName,s.fromState,s.toState,i||s.phaseName,null==o?s.totalTime:o,!!r.disabled),g=s._data;return null!=g&&(c._data=g),c}function $S(s,i,r,o,a="",c=0,g){return{element:s,triggerName:i,fromState:r,toState:o,phaseName:a,totalTime:c,disabled:!!g}}function On(s,i,r){let o;return s instanceof Map?(o=s.get(i),o||s.set(i,o=r)):(o=s[i],o||(o=s[i]=r)),o}function hc(s){const i=s.indexOf(":");return[s.substring(1,i),s.substr(i+1)]}let tE=(s,i)=>!1,zS=(s,i)=>!1,qS=(s,i,r)=>[];const YS=$_();(YS||"undefined"!=typeof Element)&&(tE=jS()?(s,i)=>{for(;i&&i!==document.documentElement;){if(i===s)return!0;i=i.parentNode||i.host}return!1}:(s,i)=>s.contains(i),zS=(()=>{if(YS||Element.prototype.matches)return(s,i)=>s.matches(i);{const s=Element.prototype,i=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return i?(r,o)=>i.apply(r,[o]):zS}})(),qS=(s,i,r)=>{let o=[];if(r){const a=s.querySelectorAll(i);for(let c=0;c<a.length;c++)o.push(a[c])}else{const a=s.querySelector(i);a&&o.push(a)}return o});let fc=null,ZS=!1;function Vp(s){fc||(fc=("undefined"!=typeof document?document.body:null)||{},ZS=!!fc.style&&"WebkitAppearance"in fc.style);let i=!0;return fc.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(i=s in fc.style,!i&&ZS&&(i="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in fc.style)),i}const W_=zS,ch=tE,Bp=qS;function tN(s){const i={};return Object.keys(s).forEach(r=>{const o=r.replace(/([a-z])([A-Z])/g,"$1-$2");i[o]=s[r]}),i}let nE=(()=>{class s{validateStyleProperty(r){return Vp(r)}matchesElement(r,o){return W_(r,o)}containsElement(r,o){return ch(r,o)}query(r,o,a){return Bp(r,o,a)}computeStyle(r,o,a){return a||""}animate(r,o,a,c,g,_=[],b){return new dc(a,c)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Y_{}Y_.NOOP=new nE;const rE="ng-enter",dh="ng-leave",K_="ng-trigger",Gp=".ng-trigger",iE="ng-animating",Z_=".ng-animating";function pc(s){if("number"==typeof s)return s;const i=s.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Q_(parseFloat(i[1]),i[2])}function Q_(s,i){switch(i){case"s":return 1e3*s;default:return s}}function jp(s,i,r){return s.hasOwnProperty("duration")?s:function(s,i,r){let a,c=0,g="";if("string"==typeof s){const _=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return i.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};a=Q_(parseFloat(_[1]),_[2]);const b=_[3];null!=b&&(c=Q_(parseFloat(b),_[4]));const S=_[5];S&&(g=S)}else a=s;if(!r){let _=!1,b=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),_=!0),c<0&&(i.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&i.splice(b,0,`The provided timing value "${s}" is invalid.`)}return{duration:a,delay:c,easing:g}}(s,i,r)}function hh(s,i={}){return Object.keys(s).forEach(r=>{i[r]=s[r]}),i}function tu(s,i,r={}){if(i)for(let o in s)r[o]=s[o];else hh(s,r);return r}function oE(s,i,r){return r?i+":"+r+";":""}function aE(s){let i="";for(let r=0;r<s.style.length;r++){const o=s.style.item(r);i+=oE(0,o,s.style.getPropertyValue(o))}for(const r in s.style)s.style.hasOwnProperty(r)&&!r.startsWith("_")&&(i+=oE(0,BU(r),s.style[r]));s.setAttribute("style",i)}function Oo(s,i,r){s.style&&(Object.keys(i).forEach(o=>{const a=tD(o);r&&!r.hasOwnProperty(o)&&(r[o]=s.style[a]),s.style[a]=i[o]}),$_()&&aE(s))}function nu(s,i){s.style&&(Object.keys(i).forEach(r=>{const o=tD(r);s.style[o]=""}),$_()&&aE(s))}function Hp(s){return Array.isArray(s)?1==s.length?s[0]:j_(s):s}const lE=new RegExp("{{\\s*(.+?)\\s*}}","g");function uE(s){let i=[];if("string"==typeof s){let r;for(;r=lE.exec(s);)i.push(r[1]);lE.lastIndex=0}return i}function cE(s,i,r){const o=s.toString(),a=o.replace(lE,(c,g)=>{let _=i[g];return i.hasOwnProperty(g)||(r.push(`Please provide a value for the animation param ${g}`),_=""),_.toString()});return a==o?s:a}function dE(s){const i=[];let r=s.next();for(;!r.done;)i.push(r.value),r=s.next();return i}const VU=/-+([a-z0-9])/g;function tD(s){return s.replace(VU,(...i)=>i[1].toUpperCase())}function BU(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function iN(s,i){return 0===s||0===i}function sN(s,i,r){const o=Object.keys(r);if(o.length&&i.length){let c=i[0],g=[];if(o.forEach(_=>{c.hasOwnProperty(_)||g.push(_),c[_]=r[_]}),g.length)for(var a=1;a<i.length;a++){let _=i[a];g.forEach(function(b){_[b]=nD(s,b)})}}return i}function no(s,i,r){switch(i.type){case 7:return s.visitTrigger(i,r);case 0:return s.visitState(i,r);case 1:return s.visitTransition(i,r);case 2:return s.visitSequence(i,r);case 3:return s.visitGroup(i,r);case 4:return s.visitAnimate(i,r);case 5:return s.visitKeyframes(i,r);case 6:return s.visitStyle(i,r);case 8:return s.visitReference(i,r);case 9:return s.visitAnimateChild(i,r);case 10:return s.visitAnimateRef(i,r);case 11:return s.visitQuery(i,r);case 12:return s.visitStagger(i,r);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function nD(s,i){return window.getComputedStyle(s)[i]}function UU(s,i){const r=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(o=>function(s,i,r){if(":"==s[0]){const b=function(s,i){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,o)=>parseFloat(o)>parseFloat(r);case":decrement":return(r,o)=>parseFloat(o)<parseFloat(r);default:return i.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,r);if("function"==typeof b)return void i.push(b);s=b}const o=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return r.push(`The provided transition expression "${s}" is not supported`),i;const a=o[1],c=o[2],g=o[3];i.push(oN(a,g));"<"==c[0]&&!("*"==a&&"*"==g)&&i.push(oN(g,a))}(o,r,i)):r.push(s),r}const fE=new Set(["true","1"]),pE=new Set(["false","0"]);function oN(s,i){const r=fE.has(s)||pE.has(s),o=fE.has(i)||pE.has(i);return(a,c)=>{let g="*"==s||s==a,_="*"==i||i==c;return!g&&r&&"boolean"==typeof a&&(g=a?fE.has(s):pE.has(s)),!_&&o&&"boolean"==typeof c&&(_=c?fE.has(i):pE.has(i)),g&&_}}const lN=new RegExp("s*:selfs*,?","g");function gE(s,i,r){return new HU(s).build(i,r)}class HU{constructor(i){this._driver=i}build(i,r){const o=new uN(r);return this._resetContextStyleTimingState(o),no(this,Hp(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,r){let o=r.queryCount=0,a=r.depCount=0;const c=[],g=[];return"@"==i.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(_=>{if(this._resetContextStyleTimingState(r),0==_.type){const b=_,S=b.name;S.toString().split(/\s*,\s*/).forEach(T=>{b.name=T,c.push(this.visitState(b,r))}),b.name=S}else if(1==_.type){const b=this.visitTransition(_,r);o+=b.queryCount,a+=b.depCount,g.push(b)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:c,transitions:g,queryCount:o,depCount:a,options:null}}visitState(i,r){const o=this.visitStyle(i.styles,r),a=i.options&&i.options.params||null;if(o.containsDynamicStyles){const c=new Set,g=a||{};if(o.styles.forEach(_=>{if(J_(_)){const b=_;Object.keys(b).forEach(S=>{uE(b[S]).forEach(T=>{g.hasOwnProperty(T)||c.add(T)})})}}),c.size){const _=dE(c.values());r.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:i.name,style:o,options:a?{params:a}:null}}visitTransition(i,r){r.queryCount=0,r.depCount=0;const o=no(this,Hp(i.animation),r);return{type:1,matchers:UU(i.expr,r.errors),animation:o,queryCount:r.queryCount,depCount:r.depCount,options:fh(i.options)}}visitSequence(i,r){return{type:2,steps:i.steps.map(o=>no(this,o,r)),options:fh(i.options)}}visitGroup(i,r){const o=r.currentTime;let a=0;const c=i.steps.map(g=>{r.currentTime=o;const _=no(this,g,r);return a=Math.max(a,r.currentTime),_});return r.currentTime=a,{type:3,steps:c,options:fh(i.options)}}visitAnimate(i,r){const o=function(s,i){let r=null;if(s.hasOwnProperty("duration"))r=s;else if("number"==typeof s)return iD(jp(s,i).duration,0,"");const o=s;if(o.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=iD(0,0,"");return c.dynamic=!0,c.strValue=o,c}return r=r||jp(o,i),iD(r.duration,r.delay,r.easing)}(i.timings,r.errors);r.currentAnimateTimings=o;let a,c=i.styles?i.styles:el({});if(5==c.type)a=this.visitKeyframes(c,r);else{let g=i.styles,_=!1;if(!g){_=!0;const S={};o.easing&&(S.easing=o.easing),g=el(S)}r.currentTime+=o.duration+o.delay;const b=this.visitStyle(g,r);b.isEmptyStep=_,a=b}return r.currentAnimateTimings=null,{type:4,timings:o,style:a,options:null}}visitStyle(i,r){const o=this._makeStyleAst(i,r);return this._validateStyleAst(o,r),o}_makeStyleAst(i,r){const o=[];Array.isArray(i.styles)?i.styles.forEach(g=>{"string"==typeof g?g==Xa?o.push(g):r.errors.push(`The provided style string value ${g} is not allowed.`):o.push(g)}):o.push(i.styles);let a=!1,c=null;return o.forEach(g=>{if(J_(g)){const _=g,b=_.easing;if(b&&(c=b,delete _.easing),!a)for(let S in _)if(_[S].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:o,easing:c,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,r){const o=r.currentAnimateTimings;let a=r.currentTime,c=r.currentTime;o&&c>0&&(c-=o.duration+o.delay),i.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void r.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const b=r.collectedStyles[r.currentQuerySelector],S=b[_];let T=!0;S&&(c!=a&&c>=S.startTime&&a<=S.endTime&&(r.errors.push(`The CSS property "${_}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),T=!1),c=S.startTime),T&&(b[_]={startTime:c,endTime:a}),r.options&&function(s,i,r){const o=i.params||{},a=uE(s);a.length&&a.forEach(c=>{o.hasOwnProperty(c)||r.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(g[_],r.options,r.errors)})})}visitKeyframes(i,r){const o={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),o;let c=0;const g=[];let _=!1,b=!1,S=0;const T=i.steps.map(Le=>{const Ze=this._makeStyleAst(Le,r);let Ke=null!=Ze.offset?Ze.offset:function(s){if("string"==typeof s)return null;let i=null;if(Array.isArray(s))s.forEach(r=>{if(J_(r)&&r.hasOwnProperty("offset")){const o=r;i=parseFloat(o.offset),delete o.offset}});else if(J_(s)&&s.hasOwnProperty("offset")){const r=s;i=parseFloat(r.offset),delete r.offset}return i}(Ze.styles),wt=0;return null!=Ke&&(c++,wt=Ze.offset=Ke),b=b||wt<0||wt>1,_=_||wt<S,S=wt,g.push(wt),Ze});b&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&r.errors.push("Please ensure that all keyframe offsets are in order");const R=i.steps.length;let N=0;c>0&&c<R?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(N=1/(R-1));const L=R-1,H=r.currentTime,ie=r.currentAnimateTimings,we=ie.duration;return T.forEach((Le,Ze)=>{const Ke=N>0?Ze==L?1:N*Ze:g[Ze],wt=Ke*we;r.currentTime=H+ie.delay+wt,ie.duration=wt,this._validateStyleAst(Le,r),Le.offset=Ke,o.styles.push(Le)}),o}visitReference(i,r){return{type:8,animation:no(this,Hp(i.animation),r),options:fh(i.options)}}visitAnimateChild(i,r){return r.depCount++,{type:9,options:fh(i.options)}}visitAnimateRef(i,r){return{type:10,animation:this.visitReference(i.animation,r),options:fh(i.options)}}visitQuery(i,r){const o=r.currentQuerySelector,a=i.options||{};r.queryCount++,r.currentQuery=i;const[c,g]=function(s){const i=!!s.split(/\s*,\s*/).find(r=>":self"==r);return i&&(s=s.replace(lN,"")),[s=s.replace(/@\*/g,Gp).replace(/@\w+/g,r=>Gp+"-"+r.substr(1)).replace(/:animating/g,Z_),i]}(i.selector);r.currentQuerySelector=o.length?o+" "+c:c,On(r.collectedStyles,r.currentQuerySelector,{});const _=no(this,Hp(i.animation),r);return r.currentQuery=null,r.currentQuerySelector=o,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:g,animation:_,originalSelector:i.selector,options:fh(i.options)}}visitStagger(i,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const o="full"===i.timings?{duration:0,delay:0,easing:"full"}:jp(i.timings,r.errors,!0);return{type:12,animation:no(this,Hp(i.animation),r),timings:o,options:null}}}class uN{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function J_(s){return!Array.isArray(s)&&"object"==typeof s}function fh(s){return s?(s=hh(s)).params&&(s.params=function(s){return s?hh(s):null}(s.params)):s={},s}function iD(s,i,r){return{duration:s,delay:i,easing:r}}function sD(s,i,r,o,a,c,g=null,_=!1){return{type:1,element:s,keyframes:i,preStyleProps:r,postStyleProps:o,duration:a,delay:c,totalTime:a+c,easing:g,subTimeline:_}}class X_{constructor(){this._map=new Map}consume(i){let r=this._map.get(i);return r?this._map.delete(i):r=[],r}append(i,r){let o=this._map.get(i);o||this._map.set(i,o=[]),o.push(...r)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const mE=new RegExp(":enter","g"),oD=new RegExp(":leave","g");function _E(s,i,r,o,a,c={},g={},_,b,S=[]){return(new hN).buildKeyframes(s,i,r,o,a,c,g,_,b,S)}class hN{buildKeyframes(i,r,o,a,c,g,_,b,S,T=[]){S=S||new X_;const R=new ey(i,r,S,a,c,T,[]);R.options=b,R.currentTimeline.setStyles([g],null,R.errors,b),no(this,o,R);const N=R.timelines.filter(L=>L.containsAnimation());if(N.length&&Object.keys(_).length){const L=N[N.length-1];L.allowOnlyTimelineStyles()||L.setStyles([_],null,R.errors,b)}return N.length?N.map(L=>L.buildKeyframes()):[sD(r,[],[],[],0,0,"",!1)]}visitTrigger(i,r){}visitState(i,r){}visitTransition(i,r){}visitAnimateChild(i,r){const o=r.subInstructions.consume(r.element);if(o){const a=r.createSubContext(i.options),c=r.currentTimeline.currentTime,g=this._visitSubInstructions(o,a,a.options);c!=g&&r.transformIntoNewTimeline(g)}r.previousNode=i}visitAnimateRef(i,r){const o=r.createSubContext(i.options);o.transformIntoNewTimeline(),this.visitReference(i.animation,o),r.transformIntoNewTimeline(o.currentTimeline.currentTime),r.previousNode=i}_visitSubInstructions(i,r,o){let c=r.currentTimeline.currentTime;const g=null!=o.duration?pc(o.duration):null,_=null!=o.delay?pc(o.delay):null;return 0!==g&&i.forEach(b=>{const S=r.appendInstructionToTimeline(b,g,_);c=Math.max(c,S.duration+S.delay)}),c}visitReference(i,r){r.updateOptions(i.options,!0),no(this,i.animation,r),r.previousNode=i}visitSequence(i,r){const o=r.subContextCount;let a=r;const c=i.options;if(c&&(c.params||c.delay)&&(a=r.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=gh);const g=pc(c.delay);a.delayNextStep(g)}i.steps.length&&(i.steps.forEach(g=>no(this,g,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),r.previousNode=i}visitGroup(i,r){const o=[];let a=r.currentTimeline.currentTime;const c=i.options&&i.options.delay?pc(i.options.delay):0;i.steps.forEach(g=>{const _=r.createSubContext(i.options);c&&_.delayNextStep(c),no(this,g,_),a=Math.max(a,_.currentTimeline.currentTime),o.push(_.currentTimeline)}),o.forEach(g=>r.currentTimeline.mergeTimelineCollectedStyles(g)),r.transformIntoNewTimeline(a),r.previousNode=i}_visitTiming(i,r){if(i.dynamic){const o=i.strValue;return jp(r.params?cE(o,r.params,r.errors):o,r.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,r){const o=r.currentAnimateTimings=this._visitTiming(i.timings,r),a=r.currentTimeline;o.delay&&(r.incrementTime(o.delay),a.snapshotCurrentStyles());const c=i.style;5==c.type?this.visitKeyframes(c,r):(r.incrementTime(o.duration),this.visitStyle(c,r),a.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=i}visitStyle(i,r){const o=r.currentTimeline,a=r.currentAnimateTimings;!a&&o.getCurrentStyleProperties().length&&o.forwardFrame();const c=a&&a.easing||i.easing;i.isEmptyStep?o.applyEmptyStep(c):o.setStyles(i.styles,c,r.errors,r.options),r.previousNode=i}visitKeyframes(i,r){const o=r.currentAnimateTimings,a=r.currentTimeline.duration,c=o.duration,_=r.createSubContext().currentTimeline;_.easing=o.easing,i.styles.forEach(b=>{_.forwardTime((b.offset||0)*c),_.setStyles(b.styles,b.easing,r.errors,r.options),_.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(_),r.transformIntoNewTimeline(a+c),r.previousNode=i}visitQuery(i,r){const o=r.currentTimeline.currentTime,a=i.options||{},c=a.delay?pc(a.delay):0;c&&(6===r.previousNode.type||0==o&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=gh);let g=o;const _=r.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,r.errors);r.currentQueryTotal=_.length;let b=null;_.forEach((S,T)=>{r.currentQueryIndex=T;const R=r.createSubContext(i.options,S);c&&R.delayNextStep(c),S===r.element&&(b=R.currentTimeline),no(this,i.animation,R),R.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,R.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(g),b&&(r.currentTimeline.mergeTimelineCollectedStyles(b),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=i}visitStagger(i,r){const o=r.parentContext,a=r.currentTimeline,c=i.timings,g=Math.abs(c.duration),_=g*(r.currentQueryTotal-1);let b=g*r.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=_-b;break;case"full":b=o.currentStaggerTime}const T=r.currentTimeline;b&&T.delayNextStep(b);const R=T.currentTime;no(this,i.animation,r),r.previousNode=i,o.currentStaggerTime=a.currentTime-R+(a.startTime-o.currentTimeline.startTime)}}const gh={};class ey{constructor(i,r,o,a,c,g,_,b){this._driver=i,this.element=r,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=c,this.errors=g,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new $p(this._driver,r,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,r){if(!i)return;const o=i;let a=this.options;null!=o.duration&&(a.duration=pc(o.duration)),null!=o.delay&&(a.delay=pc(o.delay));const c=o.params;if(c){let g=a.params;g||(g=this.options.params={}),Object.keys(c).forEach(_=>{(!r||!g.hasOwnProperty(_))&&(g[_]=cE(c[_],g,this.errors))})}}_copyOptions(){const i={};if(this.options){const r=this.options.params;if(r){const o=i.params={};Object.keys(r).forEach(a=>{o[a]=r[a]})}}return i}createSubContext(i=null,r,o){const a=r||this.element,c=new ey(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(i),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(i){return this.previousNode=gh,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,r,o){const a={duration:null!=r?r:i.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+i.delay,easing:""},c=new aD(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,r,o,a,c,g){let _=[];if(a&&_.push(this.element),i.length>0){i=(i=i.replace(mE,"."+this._enterClassName)).replace(oD,"."+this._leaveClassName);let S=this._driver.query(this.element,i,1!=o);0!==o&&(S=o<0?S.slice(S.length+o,S.length):S.slice(0,o)),_.push(...S)}return!c&&0==_.length&&g.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),_}}class $p{constructor(i,r,o,a){this._driver=i,this.element=r,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+i),r&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,r){return this.applyStylesToKeyframe(),new $p(this._driver,i,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,r){this._localTimelineStyles[i]=r,this._globalTimelineStyles[i]=r,this._styleSummary[i]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||Xa,this._currentKeyframe[r]=Xa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,r,o,a){r&&(this._previousKeyframe.easing=r);const c=a&&a.params||{},g=function(s,i){const r={};let o;return s.forEach(a=>{"*"===a?(o=o||Object.keys(i),o.forEach(c=>{r[c]=Xa})):tu(a,!1,r)}),r}(i,this._globalTimelineStyles);Object.keys(g).forEach(_=>{const b=cE(g[_],c,o);this._pendingStyles[_]=b,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:Xa),this._updateStyle(_,b)})}applyStylesToKeyframe(){const i=this._pendingStyles,r=Object.keys(i);0!=r.length&&(this._pendingStyles={},r.forEach(o=>{this._currentKeyframe[o]=i[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const r=this._localTimelineStyles[i];this._pendingStyles[i]=r,this._updateStyle(i,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let r in this._currentKeyframe)i.push(r);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(r=>{const o=this._styleSummary[r],a=i._styleSummary[r];(!o||a.time>o.time)&&this._updateStyle(r,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,r=new Set,o=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,b)=>{const S=tu(_,!0);Object.keys(S).forEach(T=>{const R=S[T];"!"==R?i.add(T):R==Xa&&r.add(T)}),o||(S.offset=b/this.duration),a.push(S)});const c=i.size?dE(i.values()):[],g=r.size?dE(r.values()):[];if(o){const _=a[0],b=hh(_);_.offset=0,b.offset=1,a=[_,b]}return sD(this.element,a,c,g,this.duration,this.startTime,this.easing,!1)}}class aD extends $p{constructor(i,r,o,a,c,g,_=!1){super(i,r,g.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=_,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:r,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&r){const c=[],g=o+r,_=r/g,b=tu(i[0],!1);b.offset=0,c.push(b);const S=tu(i[0],!1);S.offset=fN(_),c.push(S);const T=i.length-1;for(let R=1;R<=T;R++){let N=tu(i[R],!1);N.offset=fN((r+N.offset*o)/g),c.push(N)}o=g,r=0,a="",i=c}return sD(this.element,i,this.preStyleProps,this.postStyleProps,o,r,a,!0)}}function fN(s,i=3){const r=Math.pow(10,i-1);return Math.round(s*r)/r}class ty{}class YU extends ty{normalizePropertyName(i,r){return tD(i)}normalizeStyleValue(i,r,o,a){let c="";const g=o.toString().trim();if(pN[r]&&0!==o&&"0"!==o)if("number"==typeof o)c="px";else{const _=o.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(`Please provide a CSS unit value for ${i}:${o}`)}return g+c}}const pN=(()=>function(s){const i={};return s.forEach(r=>i[r]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zp(s,i,r,o,a,c,g,_,b,S,T,R,N){return{type:0,element:s,triggerName:i,isRemovalTransition:a,fromState:r,fromStyles:c,toState:o,toStyles:g,timelines:_,queriedElements:b,preStyleProps:S,postStyleProps:T,totalTime:R,errors:N}}const vE={};class gN{constructor(i,r,o){this._triggerName=i,this.ast=r,this._stateStyles=o}match(i,r,o,a){return function(s,i,r,o,a){return s.some(c=>c(i,r,o,a))}(this.ast.matchers,i,r,o,a)}buildStyles(i,r,o){const a=this._stateStyles["*"],c=this._stateStyles[i],g=a?a.buildStyles(r,o):{};return c?c.buildStyles(r,o):g}build(i,r,o,a,c,g,_,b,S,T){const R=[],N=this.ast.options&&this.ast.options.params||vE,H=this.buildStyles(o,_&&_.params||vE,R),ie=b&&b.params||vE,we=this.buildStyles(a,ie,R),Le=new Set,Ze=new Map,Ke=new Map,wt="void"===a,Er={params:Object.assign(Object.assign({},N),ie)},Ls=T?[]:_E(i,r,this.ast.animation,c,g,H,we,Er,S,R);let Vs=0;if(Ls.forEach(Nc=>{Vs=Math.max(Nc.duration+Nc.delay,Vs)}),R.length)return zp(r,this._triggerName,o,a,wt,H,we,[],[],Ze,Ke,Vs,R);Ls.forEach(Nc=>{const Fc=Nc.element,yq=On(Ze,Fc,{});Nc.preStyleProps.forEach(Vg=>yq[Vg]=!0);const w0=On(Ke,Fc,{});Nc.postStyleProps.forEach(Vg=>w0[Vg]=!0),Fc!==r&&Le.add(Fc)});const kc=dE(Le.values());return zp(r,this._triggerName,o,a,wt,H,we,Ls,kc,Ze,Ke,Vs)}}class bE{constructor(i,r,o){this.styles=i,this.defaultParams=r,this.normalizer=o}buildStyles(i,r){const o={},a=hh(this.defaultParams);return Object.keys(i).forEach(c=>{const g=i[c];null!=g&&(a[c]=g)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const g=c;Object.keys(g).forEach(_=>{let b=g[_];b.length>1&&(b=cE(b,a,r));const S=this.normalizer.normalizePropertyName(_,r);b=this.normalizer.normalizeStyleValue(_,S,b,r),o[S]=b})}}),o}}class QU{constructor(i,r,o){this.name=i,this.ast=r,this._normalizer=o,this.transitionFactories=[],this.states={},r.states.forEach(a=>{this.states[a.name]=new bE(a.style,a.options&&a.options.params||{},o)}),uD(this.states,"true","1"),uD(this.states,"false","0"),r.transitions.forEach(a=>{this.transitionFactories.push(new gN(i,a,this.states))}),this.fallbackTransition=function(s,i,r){return new gN(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,_)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,r,o,a){return this.transitionFactories.find(g=>g.match(i,r,o,a))||null}matchStyles(i,r,o){return this.fallbackTransition.buildStyles(i,r,o)}}function uD(s,i,r){s.hasOwnProperty(i)?s.hasOwnProperty(r)||(s[r]=s[i]):s.hasOwnProperty(r)&&(s[i]=s[r])}const XU=new X_;class cD{constructor(i,r,o){this.bodyNode=i,this._driver=r,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(i,r){const o=[],a=gE(this._driver,r,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[i]=a}_buildPlayer(i,r,o){const a=i.element,c=HS(0,this._normalizer,0,i.keyframes,r,o);return this._driver.animate(a,c,i.duration,i.delay,i.easing,[],!0)}create(i,r,o={}){const a=[],c=this._animations[i];let g;const _=new Map;if(c?(g=_E(this._driver,r,c,rE,dh,{},{},o,XU,a),g.forEach(T=>{const R=On(_,T.element,{});T.postStyleProps.forEach(N=>R[N]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),g=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);_.forEach((T,R)=>{Object.keys(T).forEach(N=>{T[N]=this._driver.computeStyle(R,N,Xa)})});const S=tl(g.map(T=>{const R=_.get(T.element);return this._buildPlayer(T,{},R)}));return this._playersById[i]=S,S.onDestroy(()=>this.destroy(i)),this.players.push(S),S}destroy(i){const r=this._getPlayer(i);r.destroy(),delete this._playersById[i];const o=this.players.indexOf(r);o>=0&&this.players.splice(o,1)}_getPlayer(i){const r=this._playersById[i];if(!r)throw new Error(`Unable to find the timeline player referenced by ${i}`);return r}listen(i,r,o,a){const c=$S(r,"","","");return z_(this._getPlayer(i),o,c,a),()=>{}}command(i,r,o,a){if("register"==o)return void this.register(i,a[0]);if("create"==o)return void this.create(i,r,a[0]||{});const c=this._getPlayer(i);switch(o){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const dD="ng-animate-queued",_N="ng-animate-disabled",hD=".ng-animate-disabled",vN=[],fD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ro="__ng_removed";class ji{constructor(i,r=""){this.namespaceId=r;const o=i&&i.hasOwnProperty("value");if(this.value=null!=(s=o?i.value:i)?s:null,o){const c=hh(i);delete c.value,this.options=c}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const r=i.params;if(r){const o=this.options.params;Object.keys(r).forEach(a=>{null==o[a]&&(o[a]=r[a])})}}}const Wp="void",Yp=new ji(Wp);class bN{constructor(i,r,o){this.id=i,this.hostElement=r,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ms(r,this._hostClassName)}listen(i,r,o,a){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${r}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if("start"!=(s=o)&&"done"!=s)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${r}" is not supported!`);var s;const c=On(this._elementListeners,i,[]),g={name:r,phase:o,callback:a};c.push(g);const _=On(this._engine.statesByElement,i,{});return _.hasOwnProperty(r)||(Ms(i,K_),Ms(i,K_+"-"+r),_[r]=Yp),()=>{this._engine.afterFlush(()=>{const b=c.indexOf(g);b>=0&&c.splice(b,1),this._triggers[r]||delete _[r]})}}register(i,r){return!this._triggers[i]&&(this._triggers[i]=r,!0)}_getTrigger(i){const r=this._triggers[i];if(!r)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return r}trigger(i,r,o,a=!0){const c=this._getTrigger(r),g=new Kp(this.id,r,i);let _=this._engine.statesByElement.get(i);_||(Ms(i,K_),Ms(i,K_+"-"+r),this._engine.statesByElement.set(i,_={}));let b=_[r];const S=new ji(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&b&&S.absorbOptions(b.options),_[r]=S,b||(b=Yp),S.value!==Wp&&b.value===S.value){if(!function(s,i){const r=Object.keys(s),o=Object.keys(i);if(r.length!=o.length)return!1;for(let a=0;a<r.length;a++){const c=r[a];if(!i.hasOwnProperty(c)||s[c]!==i[c])return!1}return!0}(b.params,S.params)){const ie=[],we=c.matchStyles(b.value,b.params,ie),Le=c.matchStyles(S.value,S.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{nu(i,we),Oo(i,Le)})}return}const N=On(this._engine.playersByElement,i,[]);N.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==r&&ie.queued&&ie.destroy()});let L=c.matchTransition(b.value,S.value,i,S.params),H=!1;if(!L){if(!a)return;L=c.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:r,transition:L,fromState:b,toState:S,player:g,isFallbackTransition:H}),H||(Ms(i,dD),g.onStart(()=>{ru(i,dD)})),g.onDone(()=>{let ie=this.players.indexOf(g);ie>=0&&this.players.splice(ie,1);const we=this._engine.playersByElement.get(i);if(we){let Le=we.indexOf(g);Le>=0&&we.splice(Le,1)}}),this.players.push(g),N.push(g),g}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((r,o)=>{delete r[i]}),this._elementListeners.forEach((r,o)=>{this._elementListeners.set(o,r.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const r=this._engine.playersByElement.get(i);r&&(r.forEach(o=>o.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,r){const o=this._engine.driver.query(i,Gp,!0);o.forEach(a=>{if(a[ro])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(g=>g.triggerLeaveAnimation(a,r,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,r,o,a){const c=this._engine.statesByElement.get(i);if(c){const g=[];if(Object.keys(c).forEach(_=>{if(this._triggers[_]){const b=this.trigger(i,_,Wp,a);b&&g.push(b)}}),g.length)return this._engine.markElementAsRemoved(this.id,i,!0,r),o&&tl(g).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const r=this._elementListeners.get(i),o=this._engine.statesByElement.get(i);if(r&&o){const a=new Set;r.forEach(c=>{const g=c.name;if(a.has(g))return;a.add(g);const b=this._triggers[g].fallbackTransition,S=o[g]||Yp,T=new ji(Wp),R=new Kp(this.id,g,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:g,transition:b,fromState:S,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(i,r){const o=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,r),this.triggerLeaveAnimation(i,r,!0))return;let a=!1;if(o.totalAnimations){const c=o.players.length?o.playersByQueriedElement.get(i):[];if(c&&c.length)a=!0;else{let g=i;for(;g=g.parentNode;)if(o.statesByElement.get(g)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)o.markElementAsRemoved(this.id,i,!1,r);else{const c=i[ro];(!c||c===fD)&&(o.afterFlush(()=>this.clearElementCache(i)),o.destroyInnerAnimations(i),o._onRemovalComplete(i,r))}}insertNode(i,r){Ms(i,this._hostClassName)}drainQueuedTransitions(i){const r=[];return this._queue.forEach(o=>{const a=o.player;if(a.destroyed)return;const c=o.element,g=this._elementListeners.get(c);g&&g.forEach(_=>{if(_.name==o.triggerName){const b=$S(c,o.triggerName,o.fromState.value,o.toState.value);b._data=i,z_(o.player,_.phase,b,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):r.push(o)}),this._queue=[],r.sort((o,a)=>{const c=o.transition.ast.depCount,g=a.transition.ast.depCount;return 0==c||0==g?c-g:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(i){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let r=!1;return this._elementListeners.has(i)&&(r=!0),r=!!this._queue.find(o=>o.element===i)||r,r}}class wN{constructor(i,r,o){this.bodyNode=i,this.driver=r,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(i,r){this.onRemovalComplete(i,r)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(r=>{r.players.forEach(o=>{o.queued&&i.push(o)})}),i}createNamespace(i,r){const o=new bN(i,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(o,r):(this.newHostElements.set(r,o),this.collectEnterElement(r)),this._namespaceLookup[i]=o}_balanceNamespaceList(i,r){const o=this._namespaceList.length-1;if(o>=0){let a=!1;for(let c=o;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,r)){this._namespaceList.splice(c+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(r,i),i}register(i,r){let o=this._namespaceLookup[i];return o||(o=this.createNamespace(i,r)),o}registerTrigger(i,r,o){let a=this._namespaceLookup[i];a&&a.register(r,o)&&this.totalAnimations++}destroy(i,r){if(!i)return;const o=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>o.destroy(r))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const r=new Set,o=this.statesByElement.get(i);if(o){const a=Object.keys(o);for(let c=0;c<a.length;c++){const g=o[a[c]].namespaceId;if(g){const _=this._fetchNamespace(g);_&&r.add(_)}}}return r}trigger(i,r,o,a){if(ny(r)){const c=this._fetchNamespace(i);if(c)return c.trigger(r,o,a),!0}return!1}insertNode(i,r,o,a){if(!ny(r))return;const c=r[ro];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const g=this.collectedLeaveElements.indexOf(r);g>=0&&this.collectedLeaveElements.splice(g,1)}if(i){const g=this._fetchNamespace(i);g&&g.insertNode(r,o)}a&&this.collectEnterElement(r)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,r){r?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ms(i,_N)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),ru(i,_N))}removeNode(i,r,o,a){if(ny(r)){const c=i?this._fetchNamespace(i):null;if(c?c.removeNode(r,a):this.markElementAsRemoved(i,r,!1,a),o){const g=this.namespacesByHostElement.get(r);g&&g.id!==i&&g.removeNode(r,a)}}else this._onRemovalComplete(r,a)}markElementAsRemoved(i,r,o,a){this.collectedLeaveElements.push(r),r[ro]={namespaceId:i,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1}}listen(i,r,o,a,c){return ny(r)?this._fetchNamespace(i).listen(r,o,a,c):()=>{}}_buildInstruction(i,r,o,a,c){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,o,a,i.fromState.options,i.toState.options,r,c)}destroyInnerAnimations(i){let r=this.driver.query(i,Gp,!0);r.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(i,Z_,!0),r.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(i){const r=this.playersByElement.get(i);r&&r.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(i){const r=this.playersByQueriedElement.get(i);r&&r.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return tl(this.players).onDone(()=>i());i()})}processLeaveNode(i){const r=i[ro];if(r&&r.setForRemoval){if(i[ro]=fD,r.namespaceId){this.destroyInnerAnimations(i);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(i)}this._onRemovalComplete(i,r.setForRemoval)}this.driver.matchesElement(i,hD)&&this.markElementAsDisabled(i,!1),this.driver.query(i,hD,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(i=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Ms(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{r=this._flushAnimations(o,i)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],r.length?tl(r).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,r){const o=new X_,a=[],c=new Map,g=[],_=new Map,b=new Map,S=new Map,T=new Set;this.disabledNodes.forEach(ht=>{T.add(ht);const xt=this.driver.query(ht,".ng-animate-queued",!0);for(let Ut=0;Ut<xt.length;Ut++)T.add(xt[Ut])});const R=this.bodyNode,N=Array.from(this.statesByElement.keys()),L=yD(N,this.collectedEnterElements),H=new Map;let ie=0;L.forEach((ht,xt)=>{const Ut=rE+ie++;H.set(xt,Ut),ht.forEach(_n=>Ms(_n,Ut))});const we=[],Le=new Set,Ze=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const xt=this.collectedLeaveElements[ht],Ut=xt[ro];Ut&&Ut.setForRemoval&&(we.push(xt),Le.add(xt),Ut.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(_n=>Le.add(_n)):Ze.add(xt))}const Ke=new Map,wt=yD(N,Array.from(Le));wt.forEach((ht,xt)=>{const Ut=dh+ie++;Ke.set(xt,Ut),ht.forEach(_n=>Ms(_n,Ut))}),i.push(()=>{L.forEach((ht,xt)=>{const Ut=H.get(xt);ht.forEach(_n=>ru(_n,Ut))}),wt.forEach((ht,xt)=>{const Ut=Ke.get(xt);ht.forEach(_n=>ru(_n,Ut))}),we.forEach(ht=>{this.processLeaveNode(ht)})});const Er=[],Ls=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(r).forEach(Ut=>{const _n=Ut.player,Mi=Ut.element;if(Er.push(_n),this.collectedEnterElements.length){const mu=Mi[ro];if(mu&&mu.setForMove)return void _n.destroy()}const gu=!R||!this.driver.containsElement(R,Mi),Uo=Ke.get(Mi),Kh=H.get(Mi),Rr=this._buildInstruction(Ut,o,Kh,Uo,gu);if(Rr.errors&&Rr.errors.length)Ls.push(Rr);else{if(gu)return _n.onStart(()=>nu(Mi,Rr.fromStyles)),_n.onDestroy(()=>Oo(Mi,Rr.toStyles)),void a.push(_n);if(Ut.isFallbackTransition)return _n.onStart(()=>nu(Mi,Rr.fromStyles)),_n.onDestroy(()=>Oo(Mi,Rr.toStyles)),void a.push(_n);Rr.timelines.forEach(mu=>mu.stretchStartingKeyframe=!0),o.append(Mi,Rr.timelines),g.push({instruction:Rr,player:_n,element:Mi}),Rr.queriedElements.forEach(mu=>On(_,mu,[]).push(_n)),Rr.preStyleProps.forEach((mu,E0)=>{const YT=Object.keys(mu);if(YT.length){let Bg=b.get(E0);Bg||b.set(E0,Bg=new Set),YT.forEach(AV=>Bg.add(AV))}}),Rr.postStyleProps.forEach((mu,E0)=>{const YT=Object.keys(mu);let Bg=S.get(E0);Bg||S.set(E0,Bg=new Set),YT.forEach(AV=>Bg.add(AV))})}});if(Ls.length){const ht=[];Ls.forEach(xt=>{ht.push(`@${xt.triggerName} has failed due to:\n`),xt.errors.forEach(Ut=>ht.push(`- ${Ut}\n`))}),Er.forEach(xt=>xt.destroy()),this.reportError(ht)}const Vs=new Map,kc=new Map;g.forEach(ht=>{const xt=ht.element;o.has(xt)&&(kc.set(xt,xt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,Vs))}),a.forEach(ht=>{const xt=ht.element;this._getPreviousPlayers(xt,!1,ht.namespaceId,ht.triggerName,null).forEach(_n=>{On(Vs,xt,[]).push(_n),_n.destroy()})});const Nc=we.filter(ht=>bD(ht,b,S)),Fc=new Map;_D(Fc,this.driver,Ze,S,Xa).forEach(ht=>{bD(ht,b,S)&&Nc.push(ht)});const w0=new Map;L.forEach((ht,xt)=>{_D(w0,this.driver,new Set(ht),b,"!")}),Nc.forEach(ht=>{const xt=Fc.get(ht),Ut=w0.get(ht);Fc.set(ht,Object.assign(Object.assign({},xt),Ut))});const Vg=[],vq=[],bq={};g.forEach(ht=>{const{element:xt,player:Ut,instruction:_n}=ht;if(o.has(xt)){if(T.has(xt))return Ut.onDestroy(()=>Oo(xt,_n.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(_n.totalTime),void a.push(Ut);let Mi=bq;if(kc.size>1){let Uo=xt;const Kh=[];for(;Uo=Uo.parentNode;){const Rr=kc.get(Uo);if(Rr){Mi=Rr;break}Kh.push(Uo)}Kh.forEach(Rr=>kc.set(Rr,Mi))}const gu=this._buildAnimation(Ut.namespaceId,_n,Vs,c,w0,Fc);if(Ut.setRealPlayer(gu),Mi===bq)Vg.push(Ut);else{const Uo=this.playersByElement.get(Mi);Uo&&Uo.length&&(Ut.parentPlayer=tl(Uo)),a.push(Ut)}}else nu(xt,_n.fromStyles),Ut.onDestroy(()=>Oo(xt,_n.toStyles)),vq.push(Ut),T.has(xt)&&a.push(Ut)}),vq.forEach(ht=>{const xt=c.get(ht.element);if(xt&&xt.length){const Ut=tl(xt);ht.setRealPlayer(Ut)}}),a.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<we.length;ht++){const xt=we[ht],Ut=xt[ro];if(ru(xt,dh),Ut&&Ut.hasAnimation)continue;let _n=[];if(_.size){let gu=_.get(xt);gu&&gu.length&&_n.push(...gu);let Uo=this.driver.query(xt,Z_,!0);for(let Kh=0;Kh<Uo.length;Kh++){let Rr=_.get(Uo[Kh]);Rr&&Rr.length&&_n.push(...Rr)}}const Mi=_n.filter(gu=>!gu.destroyed);Mi.length?CN(this,xt,Mi):this.processLeaveNode(xt)}return we.length=0,Vg.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const xt=this.players.indexOf(ht);this.players.splice(xt,1)}),ht.play()}),Vg}elementContainsData(i,r){let o=!1;const a=r[ro];return a&&a.setForRemoval&&(o=!0),this.playersByElement.has(r)&&(o=!0),this.playersByQueriedElement.has(r)&&(o=!0),this.statesByElement.has(r)&&(o=!0),this._fetchNamespace(i).elementContainsData(r)||o}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,r,o,a,c){let g=[];if(r){const _=this.playersByQueriedElement.get(i);_&&(g=_)}else{const _=this.playersByElement.get(i);if(_){const b=!c||c==Wp;_.forEach(S=>{S.queued||!b&&S.triggerName!=a||g.push(S)})}}return(o||a)&&(g=g.filter(_=>!(o&&o!=_.namespaceId||a&&a!=_.triggerName))),g}_beforeAnimationBuild(i,r,o){const c=r.element,g=r.isRemovalTransition?void 0:i,_=r.isRemovalTransition?void 0:r.triggerName;for(const b of r.timelines){const S=b.element,T=S!==c,R=On(o,S,[]);this._getPreviousPlayers(S,T,g,_,r.toState).forEach(L=>{const H=L.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),L.destroy(),R.push(L)})}nu(c,r.fromStyles)}_buildAnimation(i,r,o,a,c,g){const _=r.triggerName,b=r.element,S=[],T=new Set,R=new Set,N=r.timelines.map(H=>{const ie=H.element;T.add(ie);const we=ie[ro];if(we&&we.removedBeforeQueried)return new dc(H.duration,H.delay);const Le=ie!==b,Ze=function(s){const i=[];return vD(s,i),i}((o.get(ie)||vN).map(Vs=>Vs.getRealPlayer())).filter(Vs=>!!Vs.element&&Vs.element===ie),Ke=c.get(ie),wt=g.get(ie),Er=HS(0,this._normalizer,0,H.keyframes,Ke,wt),Ls=this._buildPlayer(H,Er,Ze);if(H.subTimeline&&a&&R.add(ie),Le){const Vs=new Kp(i,_,ie);Vs.setRealPlayer(Ls),S.push(Vs)}return Ls});S.forEach(H=>{On(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function(s,i,r){let o;if(s instanceof Map){if(o=s.get(i),o){if(o.length){const a=o.indexOf(r);o.splice(a,1)}0==o.length&&s.delete(i)}}else if(o=s[i],o){if(o.length){const a=o.indexOf(r);o.splice(a,1)}0==o.length&&delete s[i]}return o}(this.playersByQueriedElement,H.element,H))}),T.forEach(H=>Ms(H,iE));const L=tl(N);return L.onDestroy(()=>{T.forEach(H=>ru(H,iE)),Oo(b,r.toStyles)}),R.forEach(H=>{On(a,H,[]).push(L)}),L}_buildPlayer(i,r,o){return r.length>0?this.driver.animate(i.element,r,i.duration,i.delay,i.easing,o):new dc(i.duration,i.delay)}}class Kp{constructor(i,r,o){this.namespaceId=i,this.triggerName=r,this.element=o,this._player=new dc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(o=>z_(i,r,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const r=this._player;r.triggerCallback&&i.onStart(()=>r.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,r){On(this._queuedCallbacks,i,[]).push(r)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const r=this._player;r.triggerCallback&&r.triggerCallback(i)}}function ny(s){return s&&1===s.nodeType}function EE(s,i){const r=s.style.display;return s.style.display=null!=i?i:"none",r}function _D(s,i,r,o,a){const c=[];r.forEach(b=>c.push(EE(b)));const g=[];o.forEach((b,S)=>{const T={};b.forEach(R=>{const N=T[R]=i.computeStyle(S,R,a);(!N||0==N.length)&&(S[ro]=wE,g.push(S))}),s.set(S,T)});let _=0;return r.forEach(b=>EE(b,c[_++])),g}function yD(s,i){const r=new Map;if(s.forEach(_=>r.set(_,[])),0==i.length)return r;const a=new Set(i),c=new Map;function g(_){if(!_)return 1;let b=c.get(_);if(b)return b;const S=_.parentNode;return b=r.has(S)?S:a.has(S)?1:g(S),c.set(_,b),b}return i.forEach(_=>{const b=g(_);1!==b&&r.get(b).push(_)}),r}const mh="$$classes";function Ms(s,i){if(s.classList)s.classList.add(i);else{let r=s[mh];r||(r=s[mh]={}),r[i]=!0}}function ru(s,i){if(s.classList)s.classList.remove(i);else{let r=s[mh];r&&delete r[i]}}function CN(s,i,r){tl(r).onDone(()=>s.processLeaveNode(i))}function vD(s,i){for(let r=0;r<s.length;r++){const o=s[r];o instanceof Xw?vD(o.players,i):i.push(o)}}function bD(s,i,r){const o=r.get(s);if(!o)return!1;let a=i.get(s);return a?o.forEach(c=>a.add(c)):i.set(s,o),r.delete(s),!0}class CE{constructor(i,r,o){this.bodyNode=i,this._driver=r,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new wN(i,r,o),this._timelineEngine=new cD(i,r,o),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(i,r,o,a,c){const g=i+"-"+a;let _=this._triggerCache[g];if(!_){const b=[],S=gE(this._driver,c,b);if(b.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);_=function(s,i,r){return new QU(s,i,r)}(a,S,this._normalizer),this._triggerCache[g]=_}this._transitionEngine.registerTrigger(r,a,_)}register(i,r){this._transitionEngine.register(i,r)}destroy(i,r){this._transitionEngine.destroy(i,r)}onInsert(i,r,o,a){this._transitionEngine.insertNode(i,r,o,a)}onRemove(i,r,o,a){this._transitionEngine.removeNode(i,r,a||!1,o)}disableAnimations(i,r){this._transitionEngine.markElementAsDisabled(i,r)}process(i,r,o,a){if("@"==o.charAt(0)){const[c,g]=hc(o);this._timelineEngine.command(c,r,g,a)}else this._transitionEngine.trigger(i,r,o,a)}listen(i,r,o,a,c){if("@"==o.charAt(0)){const[g,_]=hc(o);return this._timelineEngine.listen(g,r,_,c)}return this._transitionEngine.listen(i,r,o,a,c)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wD(s,i){let r=null,o=null;return Array.isArray(i)&&i.length?(r=xE(i[0]),i.length>1&&(o=xE(i[i.length-1]))):i&&(r=xE(i)),r||o?new _h(s,r,o):null}class _h{constructor(i,r,o){this._element=i,this._startStyles=r,this._endStyles=o,this._state=0;let a=_h.initialStylesByElement.get(i);a||_h.initialStylesByElement.set(i,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Oo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oo(this._element,this._initialStyles),this._endStyles&&(Oo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_h.initialStylesByElement.delete(this._element),this._startStyles&&(nu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nu(this._element,this._endStyles),this._endStyles=null),Oo(this._element,this._initialStyles),this._state=3)}}function xE(s){let i=null;const r=Object.keys(s);for(let o=0;o<r.length;o++){const a=r[o];n2(a)&&(i=i||{},i[a]=s[a])}return i}function n2(s){return"display"===s||"position"===s}_h.initialStylesByElement=new WeakMap;const AE="animation",ED="animationend";class CD{constructor(i,r,o,a,c,g,_){this._element=i,this._name=r,this._duration=o,this._delay=a,this._easing=c,this._fillMode=g,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(s,i){const r=gc(s,"").trim();let o=0;r.length&&(function(s,i){let r=0;for(let o=0;o<s.length;o++)","===s.charAt(o)&&r++;return r}(r)+1,i=`${r}, ${i}`),Zp(s,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),SD(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xD(this._element,this._name,"paused")}resume(){xD(this._element,this._name,"running")}setPosition(i){const r=SE(this._element,this._name);this._position=i*this._duration,Zp(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(i){const r=i._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),SD(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,i){const o=gc(s,"").split(","),a=DE(o,i);a>=0&&(o.splice(a,1),Zp(s,"",o.join(",")))}(this._element,this._name))}}function xD(s,i,r){Zp(s,"PlayState",r,SE(s,i))}function SE(s,i){const r=gc(s,"");return r.indexOf(",")>0?DE(r.split(","),i):DE([r],i)}function DE(s,i){for(let r=0;r<s.length;r++)if(s[r].indexOf(i)>=0)return r;return-1}function SD(s,i,r){r?s.removeEventListener(ED,i):s.addEventListener(ED,i)}function Zp(s,i,r,o){const a=AE+i;if(null!=o){const c=s.style[a];if(c.length){const g=c.split(",");g[o]=r,r=g.join(",")}}s.style[a]=r}function gc(s,i){return s.style[AE+i]||""}class ID{constructor(i,r,o,a,c,g,_,b){this.element=i,this.keyframes=r,this.animationName=o,this._duration=a,this._delay=c,this._finalStyles=_,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=g||"linear",this.totalTime=a+c,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new CD(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(o=>o()),r.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(i[o]=r?this._finalStyles[o]:nD(this.element,o))})}this.currentSnapshot=i}}class s2 extends dc{constructor(i,r){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=tN(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const r=this._startingStyles[i];r?this.element.style.setProperty(i,r):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class TE{constructor(){this._count=0}validateStyleProperty(i){return Vp(i)}matchesElement(i,r){return W_(i,r)}containsElement(i,r){return ch(i,r)}query(i,r,o){return Bp(i,r,o)}computeStyle(i,r,o){return window.getComputedStyle(i)[r]}buildKeyframeElement(i,r,o){o=o.map(_=>tN(_));let a=`@keyframes ${r} {\n`,c="";o.forEach(_=>{c=" ";const b=parseFloat(_.offset);a+=`${c}${100*b}% {\n`,c+=" ",Object.keys(_).forEach(S=>{const T=_[S];switch(S){case"offset":return;case"easing":return void(T&&(a+=`${c}animation-timing-function: ${T};\n`));default:return void(a+=`${c}${S}: ${T};\n`)}}),a+=`${c}}\n`}),a+="}\n";const g=document.createElement("style");return g.textContent=a,g}animate(i,r,o,a,c,g=[],_){const b=g.filter(we=>we instanceof ID),S={};iN(o,a)&&b.forEach(we=>{let Le=we.currentSnapshot;Object.keys(Le).forEach(Ze=>S[Ze]=Le[Ze])});const T=function(s){let i={};return s&&(Array.isArray(s)?s:[s]).forEach(o=>{Object.keys(o).forEach(a=>{"offset"==a||"easing"==a||(i[a]=o[a])})}),i}(r=sN(i,r,S));if(0==o)return new s2(i,T);const R="gen_css_kf_"+this._count++,N=this.buildKeyframeElement(i,R,r);(function(s){var i;const r=null===(i=s.getRootNode)||void 0===i?void 0:i.call(s);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(i).appendChild(N);const H=wD(i,r),ie=new ID(i,r,R,o,a,c,T,H);return ie.onDestroy(()=>{var s;(s=N).parentNode.removeChild(s)}),ie}}class ME{constructor(i,r,o,a){this.element=i,this.keyframes=r,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,r,o){return i.animate(r,o)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(i[r]=this._finished?this._finalKeyframe[r]:nD(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const r="start"==i?this._onStartFns:this._onDoneFns;r.forEach(o=>o()),r.length=0}}class l2{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(RD().toString()),this._cssKeyframesDriver=new TE}validateStyleProperty(i){return Vp(i)}matchesElement(i,r){return W_(i,r)}containsElement(i,r){return ch(i,r)}query(i,r,o){return Bp(i,r,o)}computeStyle(i,r,o){return window.getComputedStyle(i)[r]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,r,o,a,c,g=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,r,o,a,c,g);const T={duration:o,delay:a,fill:0==a?"both":"forwards"};c&&(T.easing=c);const R={},N=g.filter(H=>H instanceof ME);iN(o,a)&&N.forEach(H=>{let ie=H.currentSnapshot;Object.keys(ie).forEach(we=>R[we]=ie[we])});const L=wD(i,r=sN(i,r=r.map(H=>tu(H,!1)),R));return new ME(i,r,T,L)}}function RD(){return jS()&&Element.prototype.animate||{}}let RE=(()=>{class s extends PS{constructor(r,o){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(o.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(r){const o=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(r)?j_(r):r;return OE(this._renderer,null,o,"register",[a]),new Wr(o,this._renderer)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.FYo),f.LFG(re))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Wr extends class{}{constructor(i,r){super(),this._id=i,this._renderer=r}create(i,r){return new c2(this._id,i,r||{},this._renderer)}}class c2{constructor(i,r,o,a){this.id=i,this.element=r,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(i,r){return this._renderer.listen(this.element,`@@${this.id}:${i}`,r)}_command(i,...r){return OE(this._renderer,this.element,this.id,i,r)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,r;return null!==(r=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==r?r:0}}function OE(s,i,r,o,a){return s.setProperty(i,`@@${r}:${o}`,a)}const OD="@.disabled";let ry=(()=>{class s{constructor(r,o,a){this.delegate=r,this.engine=o,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(c,g)=>{g&&g.parentNode(c)&&g.removeChild(c.parentNode,c)}}createRenderer(r,o){const c=this.delegate.createRenderer(r,o);if(!(r&&o&&o.data&&o.data.animation)){let T=this._rendererCache.get(c);return T||(T=new kD("",c,this.engine),this._rendererCache.set(c,T)),T}const g=o.id,_=o.id+"-"+this._currentId;this._currentId++,this.engine.register(_,r);const b=T=>{Array.isArray(T)?T.forEach(b):this.engine.registerTrigger(g,_,r,T.name,T)};return o.data.animation.forEach(b),new MN(this,_,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,o,a){r>=0&&r<this._microtaskId?this._zone.run(()=>o(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[g,_]=c;g(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(f.FYo),f.LFG(CE),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class kD{constructor(i,r,o){this.namespaceId=i,this.delegate=r,this.engine=o,this.destroyNode=this.delegate.destroyNode?a=>r.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,r){return this.delegate.createElement(i,r)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,r){this.delegate.appendChild(i,r),this.engine.onInsert(this.namespaceId,r,i,!1)}insertBefore(i,r,o,a=!0){this.delegate.insertBefore(i,r,o),this.engine.onInsert(this.namespaceId,r,i,a)}removeChild(i,r,o){this.engine.onRemove(this.namespaceId,r,this.delegate,o)}selectRootElement(i,r){return this.delegate.selectRootElement(i,r)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,r,o,a){this.delegate.setAttribute(i,r,o,a)}removeAttribute(i,r,o){this.delegate.removeAttribute(i,r,o)}addClass(i,r){this.delegate.addClass(i,r)}removeClass(i,r){this.delegate.removeClass(i,r)}setStyle(i,r,o,a){this.delegate.setStyle(i,r,o,a)}removeStyle(i,r,o){this.delegate.removeStyle(i,r,o)}setProperty(i,r,o){"@"==r.charAt(0)&&r==OD?this.disableAnimations(i,!!o):this.delegate.setProperty(i,r,o)}setValue(i,r){this.delegate.setValue(i,r)}listen(i,r,o){return this.delegate.listen(i,r,o)}disableAnimations(i,r){this.engine.disableAnimations(i,r)}}class MN extends kD{constructor(i,r,o,a){super(r,o,a),this.factory=i,this.namespaceId=r}setProperty(i,r,o){"@"==r.charAt(0)?"."==r.charAt(1)&&r==OD?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,r.substr(1),o):this.delegate.setProperty(i,r,o)}listen(i,r,o){if("@"==r.charAt(0)){const a=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(i);let c=r.substr(1),g="";return"@"!=c.charAt(0)&&([c,g]=function(s){const i=s.indexOf(".");return[s.substring(0,i),s.substr(i+1)]}(c)),this.engine.listen(this.namespaceId,a,c,g,_=>{this.factory.scheduleListenerCallback(_._data||-1,o,_)})}return this.delegate.listen(i,r,o)}}let FD=(()=>{class s extends CE{constructor(r,o,a){super(r.body,o,a)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(re),f.LFG(Y_),f.LFG(ty))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const io=new f.OlP("AnimationModuleType"),PD=[{provide:PS,useClass:RE},{provide:ty,useFactory:function(){return new YU}},{provide:CE,useClass:FD},{provide:f.FYo,useFactory:function(s,i,r){return new ry(s,i,r)},deps:[yo,CE,f.R0b]}],iy=[{provide:Y_,useFactory:function(){return"function"==typeof RD()?new l2:new TE}},{provide:io,useValue:"BrowserAnimations"},...PD],FE=[{provide:Y_,useClass:nE},{provide:io,useValue:"NoopAnimations"},...PD];let Yr=(()=>{class s{static withConfig(r){return{ngModule:s,providers:r.disableAnimations?FE:iy}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:iy,imports:[xl]}),s})();const LD=new f.GfV("12.2.3"),PN=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _c,br=(()=>{class s{constructor(r,o,a){this._hasDoneGlobalChecks=!1,this._document=a,r._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const r=this._document.defaultView||window;return"object"==typeof r&&r?r:null}_checkIsEnabled(r){return!(!(0,f.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[r])}_isTestEnv(){const r=this._getWindow();return r&&(r.__karma__||r.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const r=this._document.createElement("div");r.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(r);const o=getComputedStyle(r);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(r)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&LD.full!==Ro.full&&console.warn("The Angular Material version ("+LD.full+") does not match the Angular CDK version ("+Ro.full+").\nPlease ensure the versions of these two packages exactly match.")}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(NS),f.LFG(PN,8),f.LFG(re))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[$l],$l]}),s})();function VD(s){return class extends s{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=Qt(i)}}}function PE(s,i){return class extends s{constructor(...r){super(...r),this.defaultColor=i,this.color=i}get color(){return this._color}set color(r){const o=r||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function LN(s){return class extends s{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=Qt(i)}}}function VN(s){return class extends s{constructor(...i){super(...i),this.stateChanges=new Pt.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==i&&(this.errorState=c,this.stateChanges.next())}}}try{_c="undefined"!=typeof Intl}catch(s){_c=!1}let KN=(()=>{class s{isErrorState(r,o){return!!(r&&r.invalid&&(r.touched||o&&o.submitted))}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=f.Yz7({factory:function(){return new s},token:s,providedIn:"root"}),s})();class LE{constructor(i,r,o){this._renderer=i,this.element=r,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const UD={enterDuration:225,exitDuration:150},VE=Ap({passive:!0}),QN=["mousedown","touchstart"],GD=["mouseup","mouseleave","touchend","touchcancel"];class JN{constructor(i,r,o,a){this._target=i,this._ngZone=r,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Es(o))}fadeInRipple(i,r,o={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},UD),o.animation);o.centered&&(i=a.left+a.width/2,r=a.top+a.height/2);const g=o.radius||function(s,i,r){const o=Math.max(Math.abs(s-r.left),Math.abs(s-r.right)),a=Math.max(Math.abs(i-r.top),Math.abs(i-r.bottom));return Math.sqrt(o*o+a*a)}(i,r,a),_=i-a.left,b=r-a.top,S=c.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=_-g+"px",T.style.top=b-g+"px",T.style.height=2*g+"px",T.style.width=2*g+"px",null!=o.color&&(T.style.backgroundColor=o.color),T.style.transitionDuration=`${S}ms`,this._containerElement.appendChild(T),window.getComputedStyle(T).getPropertyValue("opacity"),T.style.transform="scale(1)";const R=new LE(this,T,o);return R.state=0,this._activeRipples.add(R),o.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const N=R===this._mostRecentTransientRipple;R.state=1,!o.persistent&&(!N||!this._isPointerDown)&&R.fadeOut()},S),R}fadeOutRipple(i){const r=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!r)return;const o=i.element,a=Object.assign(Object.assign({},UD),i.config.animation);o.style.transitionDuration=`${a.exitDuration}ms`,o.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,o.parentNode.removeChild(o)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const r=Es(i);!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,this._registerEvents(QN))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(GD),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const r=DS(i),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!o&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!IS(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=i.changedTouches;for(let o=0;o<r.length;o++)this.fadeInRipple(r[o].clientX,r[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,r=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,r))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(r=>{this._triggerElement.addEventListener(r,this,VE)})})}_removeTriggerEvents(){this._triggerElement&&(QN.forEach(i=>{this._triggerElement.removeEventListener(i,this,VE)}),this._pointerUpEventsRegistered&&GD.forEach(i=>{this._triggerElement.removeEventListener(i,this,VE)}))}}const m2=new f.OlP("mat-ripple-global-options");let Jp=(()=>{class s{constructor(r,o,a,c,g){this._elementRef=r,this._animationMode=g,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new JN(this,o,r,a)}get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,o=0,a){return"number"==typeof r?this._rippleRenderer.fadeInRipple(r,o,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),r))}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(qn),f.Y36(m2,8),f.Y36(io,8))},s.\u0275dir=f.lG2({type:s,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){2&r&&f.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),s})(),jD=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[br,x_],br]}),s})();function nF(s,i){}class yh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const rF={dialogContainer:LS("dialogContainer",[Lp("void, exit",el({opacity:0,transform:"scale(0.7)"})),Lp("enter",el({transform:"none"})),Qw("* => enter",VS("150ms cubic-bezier(0, 0, 0.2, 1)",el({transform:"none",opacity:1}))),Qw("* => void, * => exit",VS("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",el({opacity:0})))])};let eg=(()=>{class s extends Tp{constructor(r,o,a,c,g,_){super(),this._elementRef=r,this._focusTrapFactory=o,this._changeDetectorRef=a,this._config=g,this._focusMonitor=_,this._animationStateChanged=new f.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=g.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(r){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(r)}attachTemplatePortal(r){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(r)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const r=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&r&&"function"==typeof r.focus){const o=A_(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=A_())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const r=this._elementRef.nativeElement,o=A_();return r===o||r.contains(o)}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(AS),f.Y36(f.sBO),f.Y36(re,8),f.Y36(yh),f.Y36(U_))},s.\u0275dir=f.lG2({type:s,viewQuery:function(r,o){if(1&r&&f.Gf(I_,7),2&r){let a;f.iGM(a=f.CRH())&&(o._portalOutlet=a.first)}},features:[f.qOj]}),s})(),cy=(()=>{class s extends eg{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:r,totalTime:o}){"enter"===r?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===r&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:r,totalTime:o}){"enter"===r?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===r||"void"===r)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return s.\u0275fac=function(){let i;return function(o){return(i||(i=f.n5z(s)))(o||s)}}(),s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(r,o){1&r&&f.WFA("@dialogContainer.start",function(c){return o._onAnimationStart(c)})("@dialogContainer.done",function(c){return o._onAnimationDone(c)}),2&r&&(f.Ikx("id",o._id),f.uIk("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),f.d8E("@dialogContainer",o._state))},features:[f.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){1&r&&f.YNc(0,nF,0,0,"ng-template",0)},directives:[I_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[rF.dialogContainer]}}),s})(),WD=0;class vh{constructor(i,r,o="mat-dialog-"+WD++){this._overlayRef=i,this._containerInstance=r,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Pt.xQ,this._afterClosed=new Pt.xQ,this._beforeClosed=new Pt.xQ,this._state=0,r._id=o,r._animationStateChanged.pipe(zn(a=>"opened"===a.state),oa(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(zn(a=>"closed"===a.state),oa(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(zn(a=>27===a.keyCode&&!this.disableClose&&!function(s,...i){return i.length?i.some(r=>s[r]):s.altKey||s.shiftKey||s.ctrlKey||s.metaKey}(a))).subscribe(a=>{a.preventDefault(),tg(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():tg(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(zn(r=>"closing"===r.state),oa(1)).subscribe(r=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let r=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?r.left(i.left):r.right(i.right):r.centerHorizontally(),i&&(i.top||i.bottom)?i.top?r.top(i.top):r.bottom(i.bottom):r.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",r=""){return this._overlayRef.updateSize({width:i,height:r}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function tg(s,i,r){return void 0!==s._containerInstance&&(s._containerInstance._closeInteractionType=i),s.close(r)}const HE=new f.OlP("MatDialogData"),dy=new f.OlP("mat-dialog-default-options"),YD=new f.OlP("mat-dialog-scroll-strategy"),sF={provide:YD,deps:[oh],useFactory:function(s){return()=>s.scrollStrategies.block()}};let KD=(()=>{class s{constructor(r,o,a,c,g,_,b,S,T){this._overlay=r,this._injector=o,this._defaultOptions=a,this._parentDialog=c,this._overlayContainer=g,this._dialogRefConstructor=b,this._dialogContainerType=S,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pt.xQ,this._afterOpenedAtThisLevel=new Pt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Ix(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ss(void 0))),this._scrollStrategy=_}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(r,o){(o=function(s,i){return Object.assign(Object.assign({},i),s)}(o,this._defaultOptions||new yh)).id&&this.getDialogById(o.id);const a=this._createOverlay(o),c=this._attachDialogContainer(a,o),g=this._attachDialogContent(r,c,a,o);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.afterClosed().subscribe(()=>this._removeOpenDialog(g)),this.afterOpened.next(g),c._initializeWithAttachedContent(),g}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(o=>o.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(r){const o=this._getOverlayConfig(r);return this._overlay.create(o)}_getOverlayConfig(r){const o=new Gw({positionStrategy:this._overlay.position().global(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(o.backdropClass=r.backdropClass),o}_attachDialogContainer(r,o){const c=f.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:yh,useValue:o}]}),g=new Ip(this._dialogContainerType,o.viewContainerRef,c,o.componentFactoryResolver);return r.attach(g).instance}_attachDialogContent(r,o,a,c){const g=new this._dialogRefConstructor(a,o,c.id);if(r instanceof f.Rgc)o.attachTemplatePortal(new eh(r,null,{$implicit:c.data,dialogRef:g}));else{const _=this._createInjector(c,g,o),b=o.attachComponentPortal(new Ip(r,c.viewContainerRef,_));g.componentInstance=b.instance}return g.updateSize(c.width,c.height).updatePosition(c.position),g}_createInjector(r,o,a){const c=r&&r.viewContainerRef&&r.viewContainerRef.injector,g=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:r.data},{provide:this._dialogRefConstructor,useValue:o}];return r.direction&&(!c||!c.get(xs,null,f.XFs.Optional))&&g.push({provide:xs,useValue:{value:r.direction,change:(0,it.of)()}}),f.zs3.create({parent:c||this._injector,providers:g})}_removeOpenDialog(r){const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const r=this._overlayContainer.getContainerElement();if(r.parentElement){const o=r.parentElement.children;for(let a=o.length-1;a>-1;a--){let c=o[a];c!==r&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(r){let o=r.length;for(;o--;)r[o].close()}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(oh),f.Y36(f.zs3),f.Y36(void 0),f.Y36(void 0),f.Y36(kp),f.Y36(void 0),f.Y36(f.DyG),f.Y36(f.DyG),f.Y36(f.OlP))},s.\u0275dir=f.lG2({type:s}),s})(),hy=(()=>{class s extends KD{constructor(r,o,a,c,g,_,b){super(r,o,c,_,b,g,vh,cy,HE)}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(oh),f.LFG(f.zs3),f.LFG(Xe,8),f.LFG(dy,8),f.LFG(YD),f.LFG(s,12),f.LFG(kp))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),lF=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[hy,sF],imports:[[Np,Tw,br],br]}),s})();var er=U(9126),so=U(8939),JD=(U(9083),U(4486)),Ne=U(8239),bh=U(5452),$E=U(6034),di=U(300),oe=U(4685),iu=function(s,i){return(iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])})(s,i)};function vc(s){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&s[i],o=0;if(r)return r.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var rt,cF="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zE=zE||{},kt=cF||self;function ng(){}function gy(s){var i=typeof s;return"array"==(i="object"!=i?i:s?Array.isArray(s)?"array":i:"null")||"object"==i&&"number"==typeof s.length}function wh(s){var i=typeof s;return"object"==i&&null!=s||"function"==i}var WE="closure_uid_"+(1e9*Math.random()>>>0),dF=0;function XD(s,i,r){return s.call.apply(s.bind,arguments)}function bc(s,i,r){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),s.apply(i,a)}}return function(){return s.apply(i,arguments)}}function Fr(s,i,r){return(Fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XD:bc).apply(null,arguments)}function my(s,i){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function hi(s,i){function r(){}r.prototype=i.prototype,s.Z=i.prototype,s.prototype=new r,s.prototype.constructor=s,s.Vb=function(o,a,c){for(var g=Array(arguments.length-2),_=2;_<arguments.length;_++)g[_-2]=arguments[_];return i.prototype[a].apply(o,g)}}function wc(){this.s=this.s,this.o=this.o}var C2={};wc.prototype.s=!1,wc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,WE)&&s[WE]||(s[WE]=++dF)}(this);delete C2[s]}},wc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hF=Array.prototype.indexOf?function(s,i){return Array.prototype.indexOf.call(s,i,void 0)}:function(s,i){if("string"==typeof s)return"string"!=typeof i||1!=i.length?-1:s.indexOf(i,0);for(var r=0;r<s.length;r++)if(r in s&&s[r]===i)return r;return-1},eI=Array.prototype.forEach?function(s,i,r){Array.prototype.forEach.call(s,i,r)}:function(s,i,r){for(var o=s.length,a="string"==typeof s?s.split(""):s,c=0;c<o;c++)c in a&&i.call(r,a[c],c,s)};function pF(s){return Array.prototype.concat.apply([],arguments)}function tI(s){var i=s.length;if(0<i){for(var r=Array(i),o=0;o<i;o++)r[o]=s[o];return r}return[]}function YE(s){return/^[\s\xa0]*$/.test(s)}var os,gF=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Hi(s,i){return-1!=s.indexOf(i)}function nI(s,i){return s<i?-1:s>i?1:0}e:{var mF=kt.navigator;if(mF){var _F=mF.userAgent;if(_F){os=_F;break e}}os=""}function l(s,i,r){for(var o in s)i.call(r,s[o],o,s)}function u(s){var i={};for(var r in s)i[r]=s[r];return i}var d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h(s,i){for(var r,o,a=1;a<arguments.length;a++){for(r in o=arguments[a])s[r]=o[r];for(var c=0;c<d.length;c++)r=d[c],Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o[r])}}function m(s){return m[" "](s),s}m[" "]=ng;var z,s,E=Hi(os,"Opera"),C=Hi(os,"Trident")||Hi(os,"MSIE"),I=Hi(os,"Edge"),M=I||C,O=Hi(os,"Gecko")&&!(Hi(os.toLowerCase(),"webkit")&&!Hi(os,"Edge"))&&!(Hi(os,"Trident")||Hi(os,"MSIE"))&&!Hi(os,"Edge"),F=Hi(os.toLowerCase(),"webkit")&&!Hi(os,"Edge");function B(){var s=kt.document;return s?s.documentMode:void 0}e:{var X="",ve=(s=os,O?/rv:([^\);]+)(\)|;)/.exec(s):I?/Edge\/([\d\.]+)/.exec(s):C?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):F?/WebKit\/(\S+)/.exec(s):E?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(ve&&(X=ve?ve[1]:""),C){var he=B();if(null!=he&&he>parseFloat(X)){z=String(he);break e}}z=X}var Be={};function ke(){return i=Be,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var s=0,i=gF(String(z)).split("."),r=gF("9").split("."),o=Math.max(i.length,r.length),a=0;0==s&&a<o;a++){var c=i[a]||"",g=r[a]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==c[0].length&&0==g[0].length)break;s=nI(0==c[1].length?0:parseInt(c[1],10),0==g[1].length?0:parseInt(g[1],10))||nI(0==c[2].length,0==g[2].length)||nI(c[2],g[2]),c=c[3],g=g[3]}while(0==s)}return 0<=s}();var i}var en=kt.document&&C&&(B()||parseInt(z,10))||void 0,Pr=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var s=!1,i=Object.defineProperty({},"passive",{get:function(){s=!0}});try{kt.addEventListener("test",ng,i),kt.removeEventListener("test",ng,i)}catch(r){}return s}();function kn(s,i){this.type=s,this.g=this.target=i,this.defaultPrevented=!1}function nl(s,i){if(kn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var r=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=i,i=s.relatedTarget){if(O){e:{try{m(i.nodeName);var a=!0;break e}catch(c){}a=!1}a||(i=null)}}else"mouseover"==r?i=s.fromElement:"mouseout"==r&&(i=s.toElement);this.relatedTarget=i,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Eh[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&nl.Z.h.call(this)}}kn.prototype.h=function(){this.defaultPrevented=!0},hi(nl,kn);var Eh={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ha="closure_listenable_"+(1e6*Math.random()|0),Ch=0;function KE(s,i,r,o,a){this.listener=s,this.proxy=null,this.src=i,this.type=r,this.capture=!!o,this.ia=a,this.key=++Ch,this.ca=this.fa=!1}function xh(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Ah(s){this.src=s,this.g={},this.h=0}function rg(s,i){var r=i.type;if(r in s.g){var c,o=s.g[r],a=hF(o,i);(c=0<=a)&&Array.prototype.splice.call(o,a,1),c&&(xh(i),0==s.g[r].length&&(delete s.g[r],s.h--))}}function ig(s,i,r,o){for(var a=0;a<s.length;++a){var c=s[a];if(!c.ca&&c.listener==i&&c.capture==!!r&&c.ia==o)return a}return-1}Ah.prototype.add=function(s,i,r,o,a){var c=s.toString();(s=this.g[c])||(s=this.g[c]=[],this.h++);var g=ig(s,i,o,a);return-1<g?(i=s[g],r||(i.fa=!1)):((i=new KE(i,this.src,c,!!o,a)).fa=r,s.push(i)),i};var yF="closure_lm_"+(1e6*Math.random()|0),vF={};function x2(s,i,r,o,a){if(o&&o.once)return S2(s,i,r,o,a);if(Array.isArray(i)){for(var c=0;c<i.length;c++)x2(s,i[c],r,o,a);return null}return r=CF(r),s&&s[ha]?s.N(i,r,wh(o)?!!o.capture:!!o,a):A2(s,i,r,!1,o,a)}function A2(s,i,r,o,a,c){if(!i)throw Error("Invalid event type");var g=wh(a)?!!a.capture:!!a,_=wF(s);if(_||(s[yF]=_=new Ah(s)),(r=_.add(i,r,o,g,c)).proxy)return r;if(o=function(){var i=Yq;return function s(r){return i.call(s.src,s.listener,r)}}(),r.proxy=o,o.src=s,o.listener=r,s.addEventListener)Pr||(a=g),void 0===a&&(a=!1),s.addEventListener(i.toString(),o,a);else if(s.attachEvent)s.attachEvent(I2(i.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return r}function S2(s,i,r,o,a){if(Array.isArray(i)){for(var c=0;c<i.length;c++)S2(s,i[c],r,o,a);return null}return r=CF(r),s&&s[ha]?s.O(i,r,wh(o)?!!o.capture:!!o,a):A2(s,i,r,!0,o,a)}function D2(s,i,r,o,a){if(Array.isArray(i))for(var c=0;c<i.length;c++)D2(s,i[c],r,o,a);else o=wh(o)?!!o.capture:!!o,r=CF(r),s&&s[ha]?(s=s.i,(i=String(i).toString())in s.g&&-1<(r=ig(c=s.g[i],r,o,a))&&(xh(c[r]),Array.prototype.splice.call(c,r,1),0==c.length&&(delete s.g[i],s.h--))):s&&(s=wF(s))&&(i=s.g[i.toString()],s=-1,i&&(s=ig(i,r,o,a)),(r=-1<s?i[s]:null)&&bF(r))}function bF(s){if("number"!=typeof s&&s&&!s.ca){var i=s.src;if(i&&i[ha])rg(i.i,s);else{var r=s.type,o=s.proxy;i.removeEventListener?i.removeEventListener(r,o,s.capture):i.detachEvent?i.detachEvent(I2(r),o):i.addListener&&i.removeListener&&i.removeListener(o),(r=wF(i))?(rg(r,s),0==r.h&&(r.src=null,i[yF]=null)):xh(s)}}}function I2(s){return s in vF?vF[s]:vF[s]="on"+s}function Yq(s,i){if(s.ca)s=!0;else{i=new nl(i,this);var r=s.listener,o=s.ia||s.src;s.fa&&bF(s),s=r.call(o,i)}return s}function wF(s){return(s=s[yF])instanceof Ah?s:null}var EF="__closure_events_fn_"+(1e9*Math.random()>>>0);function CF(s){return"function"==typeof s?s:(s[EF]||(s[EF]=function(i){return s.handleEvent(i)}),s[EF])}function Ei(){wc.call(this),this.i=new Ah(this),this.P=this,this.I=null}function $i(s,i){var r,o=s.I;if(o)for(r=[];o;o=o.I)r.push(o);if(s=s.P,o=i.type||i,"string"==typeof i)i=new kn(i,s);else if(i instanceof kn)i.target=i.target||s;else{var a=i;h(i=new kn(o,s),a)}if(a=!0,r)for(var c=r.length-1;0<=c;c--){var g=i.g=r[c];a=rI(g,o,!0,i)&&a}if(a=rI(g=i.g=s,o,!0,i)&&a,a=rI(g,o,!1,i)&&a,r)for(c=0;c<r.length;c++)a=rI(g=i.g=r[c],o,!1,i)&&a}function rI(s,i,r,o){if(!(i=s.i.g[String(i)]))return!0;i=i.concat();for(var a=!0,c=0;c<i.length;++c){var g=i[c];if(g&&!g.ca&&g.capture==r){var _=g.listener,b=g.ia||g.src;g.fa&&rg(s.i,g),a=!1!==_.call(b,o)&&a}}return a&&!o.defaultPrevented}hi(Ei,wc),Ei.prototype[ha]=!0,Ei.prototype.removeEventListener=function(s,i,r,o){D2(this,s,i,r,o)},Ei.prototype.M=function(){if(Ei.Z.M.call(this),this.i){var i,s=this.i;for(i in s.g){for(var r=s.g[i],o=0;o<r.length;o++)xh(r[o]);delete s.g[i],s.h--}}this.I=null},Ei.prototype.N=function(s,i,r,o){return this.i.add(String(s),i,!1,r,o)},Ei.prototype.O=function(s,i,r,o){return this.i.add(String(s),i,!0,r,o)};var xF=kt.JSON.stringify;function Kq(){var s=M2,i=null;return s.g&&(i=s.g,s.g=s.g.next,s.g||(s.h=null),i.next=null),i}var SF,Zq=function(){function s(){this.h=this.g=null}return s.prototype.add=function(i,r){var o=T2.get();o.set(i,r),this.h?this.h.next=o:this.g=o,this.h=o},s}(),T2=new(function(){function s(i,r){this.i=i,this.j=r,this.h=0,this.g=null}return s.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},s}())(function(){return new Qq},function(s){return s.reset()}),Qq=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(i,r){this.h=i,this.g=r,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function Jq(s){kt.setTimeout(function(){throw s},0)}function AF(s,i){SF||function(){var s=kt.Promise.resolve(void 0);SF=function(){s.then(e6)}}(),DF||(SF(),DF=!0),M2.add(s,i)}var DF=!1,M2=new Zq;function e6(){for(var s;s=Kq();){try{s.h.call(s.g)}catch(r){Jq(r)}var i=T2;i.j(s),100>i.h&&(i.h++,s.next=i.g,i.g=s)}DF=!1}function iI(s,i){Ei.call(this),this.h=s||1,this.g=i||kt,this.j=Fr(this.kb,this),this.l=Date.now()}function IF(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function TF(s,i,r){if("function"==typeof s)r&&(s=Fr(s,r));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Fr(s.handleEvent,s)}return 2147483647<Number(i)?-1:kt.setTimeout(s,i||0)}function R2(s){s.g=TF(function(){s.g=null,s.i&&(s.i=!1,R2(s))},s.j);var i=s.h;s.h=null,s.m.apply(null,i)}hi(iI,Ei),(rt=iI.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$i(this,"tick"),this.da&&(IF(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){iI.Z.M.call(this),IF(this),delete this.g};var t6=function(s){function i(r,o){var a=s.call(this)||this;return a.m=r,a.j=o,a.h=null,a.i=!1,a.g=null,a}return function(s,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=s}iu(s,i),s.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}(i,s),i.prototype.l=function(r){this.h=arguments,this.g?this.i=!0:R2(this)},i.prototype.M=function(){s.prototype.M.call(this),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(wc);function ZE(s){wc.call(this),this.h=s,this.g={}}hi(ZE,wc);var O2=[];function k2(s,i,r,o){Array.isArray(r)||(r&&(O2[0]=r.toString()),r=O2);for(var a=0;a<r.length;a++){var c=x2(i,r[a],o||s.handleEvent,!1,s.h||s);if(!c)break;s.g[c.key]=c}}function N2(s){l(s.g,function(i,r){this.g.hasOwnProperty(r)&&bF(i)},s),s.g={}}function sI(){this.g=!0}function _y(s,i,r,o){s.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(s,i){if(!s.g)return i;if(!i)return null;try{var r=JSON.parse(i);if(r)for(s=0;s<r.length;s++)if(Array.isArray(r[s])){var o=r[s];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var g=1;g<a.length;g++)a[g]=""}}}return xF(r)}catch(_){return i}}(s,r)+(o?" "+o:"")})}ZE.prototype.M=function(){ZE.Z.M.call(this),N2(this)},ZE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sI.prototype.Aa=function(){this.g=!1},sI.prototype.info=function(){};var sg={},F2=null;function oI(){return F2=F2||new Ei}function P2(s){kn.call(this,sg.Ma,s)}function QE(s){var i=oI();$i(i,new P2(i,s))}function L2(s,i){kn.call(this,sg.STAT_EVENT,s),this.stat=i}function Rs(s){var i=oI();$i(i,new L2(i,s))}function V2(s,i){kn.call(this,sg.Na,s),this.size=i}function JE(s,i){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){s()},i)}sg.Ma="serverreachability",hi(P2,kn),sg.STAT_EVENT="statevent",hi(L2,kn),sg.Na="timingevent",hi(V2,kn);var aI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},B2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function MF(){}function G2(){}MF.prototype.h=null;var kF,XE={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function RF(){kn.call(this,"d")}function OF(){kn.call(this,"c")}function lI(){}function eC(s,i,r,o){this.l=s,this.j=i,this.m=r,this.X=o||1,this.V=new ZE(this),this.P=o6,this.W=new iI(s=M?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new j2}function j2(){this.i=null,this.g="",this.h=!1}hi(RF,kn),hi(OF,kn),hi(lI,MF),lI.prototype.g=function(){return new XMLHttpRequest},lI.prototype.i=function(){return{}},kF=new lI;var o6=45e3,NF={},uI={};function FF(s,i,r){s.K=1,s.v=pI(Ec(i)),s.s=r,s.U=!0,H2(s,null)}function H2(s,i){s.F=Date.now(),tC(s),s.A=Ec(s.v);var r=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),J2(r.h,"t",o),s.C=0,r=s.l.H,s.h=new j2,s.g=wG(s.l,r?i:null,!s.s),0<s.O&&(s.L=new t6(Fr(s.Ia,s,s.g),s.O)),k2(s.V,s.g,"readystatechange",s.gb),i=s.H?u(s.H):{},s.s?(s.u||(s.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,i)):(s.u="GET",s.g.ea(s.A,s.u,null,i)),QE(1),function(s,i,r,o,a,c){s.info(function(){if(s.g)if(c)for(var g="",_=c.split("&"),b=0;b<_.length;b++){var S=_[b].split("=");if(1<S.length){var T=S[0];S=S[1];var R=T.split("_");g=2<=R.length&&"type"==R[1]?g+(T+"=")+S+"&":g+(T+"=redacted&")}}else g=null;else g=c;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+i+"\n"+r+"\n"+g})}(s.j,s.u,s.A,s.m,s.X,s.s)}function $2(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function z2(s,i,r){for(var a,o=!0;!s.I&&s.C<r.length;){if((a=a6(s,r))==uI){4==i&&(s.o=4,Rs(14),o=!1),_y(s.j,s.m,null,"[Incomplete Response]");break}if(a==NF){s.o=4,Rs(15),_y(s.j,s.m,r,"[Invalid Chunk]"),o=!1;break}_y(s.j,s.m,a,null),PF(s,a)}$2(s)&&a!=uI&&a!=NF&&(s.h.g="",s.C=0),4!=i||0!=r.length||s.h.h||(s.o=1,Rs(16),o=!1),s.i=s.i&&o,o?0<r.length&&!s.aa&&(s.aa=!0,(i=s.l).g==s&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),WF(i),i.L=!0,Rs(11))):(_y(s.j,s.m,r,"[Invalid Chunked Response]"),og(s),nC(s))}function a6(s,i){var r=s.C,o=i.indexOf("\n",r);return-1==o?uI:(r=Number(i.substring(r,o)),isNaN(r)?NF:(o+=1)+r>i.length?uI:(i=i.substr(o,r),s.C=o+r,i))}function tC(s){s.Y=Date.now()+s.P,q2(s,s.P)}function q2(s,i){if(null!=s.B)throw Error("WatchDog timer not null");s.B=JE(Fr(s.eb,s),i)}function cI(s){s.B&&(kt.clearTimeout(s.B),s.B=null)}function nC(s){0==s.l.G||s.I||_G(s.l,s)}function og(s){cI(s);var i=s.L;i&&"function"==typeof i.na&&i.na(),s.L=null,IF(s.W),N2(s.V),s.g&&(i=s.g,s.g=null,i.abort(),i.na())}function PF(s,i){try{var r=s.l;if(0!=r.G&&(r.g==s||BF(r.i,s)))if(r.I=s.N,!s.J&&BF(r.i,s)&&3==r.G){try{var o=r.Ca.g.parse(i)}catch(we){o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0])e:if(r.u)r.ta=a[1],0<r.ta-r.U&&37500>a[2]&&r.N&&0==r.A&&!r.v&&(r.v=JE(Fr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<s.F))break e;bI(r),yI(r)}qF(r),Rs(18)}if(1>=tG(r.i)&&r.ka){try{r.ka()}catch(we){}r.ka=void 0}}else ug(r,11)}else if((s.J||r.g==s)&&bI(r),!YE(i))for(a=r.Ca.g.parse(i),i=0;i<a.length;i++){var c=a[i];if(r.U=c[0],c=c[1],2==r.G)if("c"==c[0]){r.J=c[1],r.la=c[2];var g=c[3];null!=g&&(r.ma=g,r.h.info("VER="+r.ma));var _=c[4];null!=_&&(r.za=_,r.h.info("SVER="+r.za));var b=c[5];null!=b&&"number"==typeof b&&0<b&&(r.K=o=1.5*b,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;var S=s.g;if(S){var T=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var R=o.i;!R.g&&(Hi(T,"spdy")||Hi(T,"quic")||Hi(T,"h2"))&&(R.j=R.l,R.g=new Set,R.h&&(UF(R,R.h),R.h=null))}if(o.D){var N=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(o.sa=N,dr(o.F,o.D,N))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-s.F,r.h.info("Handshake RTT: "+r.O+"ms"));var L=s;if((o=r).oa=bG(o,o.H?o.la:null,o.W),L.J){nG(o.i,L);var H=L,ie=o.K;ie&&H.setTimeout(ie),H.B&&(cI(H),tC(H)),o.g=L}else gG(o);0<r.l.length&&vI(r)}else"stop"!=c[0]&&"close"!=c[0]||ug(r,7);else 3==r.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ug(r,7):$F(r):"noop"!=c[0]&&r.j&&r.j.wa(c),r.A=0)}QE(4)}catch(we){}}function LF(s,i){if(s.forEach&&"function"==typeof s.forEach)s.forEach(i,void 0);else if(gy(s)||"string"==typeof s)eI(s,i,void 0);else{if(s.T&&"function"==typeof s.T)var r=s.T();else if(s.R&&"function"==typeof s.R)r=void 0;else if(gy(s)||"string"==typeof s){r=[];for(var o=s.length,a=0;a<o;a++)r.push(a)}else for(a in r=[],o=0,s)r[o++]=a;a=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(gy(s)){for(var i=[],r=s.length,o=0;o<r;o++)i.push(s[o]);return i}for(o in i=[],r=0,s)i[r++]=s[o];return i}(s)).length;for(var c=0;c<a;c++)i.call(void 0,o[c],r&&r[c],s)}}function yy(s,i){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof yy)for(r=s.T(),o=0;o<r.length;o++)this.set(r[o],s.get(r[o]));else for(o in s)this.set(o,s[o])}function VF(s){if(s.i!=s.g.length){for(var i=0,r=0;i<s.g.length;){var o=s.g[i];ag(s.h,o)&&(s.g[r++]=o),i++}s.g.length=r}if(s.i!=s.g.length){var a={};for(r=i=0;i<s.g.length;)ag(a,o=s.g[i])||(s.g[r++]=o,a[o]=1),i++;s.g.length=r}}function ag(s,i){return Object.prototype.hasOwnProperty.call(s,i)}(rt=eC.prototype).setTimeout=function(s){this.P=s},rt.gb=function(s){s=s.target;var i=this.L;i&&3==Cc(s)?i.l():this.Ia(s)},rt.Ia=function(s){try{if(s==this.g)e:{var i=Cc(this.g),r=this.g.Da(),o=this.g.ba();if(!(3>i)&&(3!=i||M||this.g&&(this.h.h||this.g.ga()||cG(this.g)))){this.I||4!=i||7==r||QE(8==r||0>=o?3:2),cI(this);var a=this.g.ba();this.N=a;t:if($2(this)){var c=cG(this.g);s="";var g=c.length,_=4==Cc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){og(this),nC(this);var b="";break t}this.h.i=new kt.TextDecoder}for(r=0;r<g;r++)this.h.h=!0,s+=this.h.i.decode(c[r],{stream:_&&r==g-1});c.splice(0,g),this.h.g+=s,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==a,function(s,i,r,o,a,c,g){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+i+"\n"+r+"\n"+c+" "+g})}(this.j,this.u,this.A,this.m,this.X,i,a),this.i){if(this.$&&!this.J){t:{if(this.g){var S,T=this.g;if((S=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!YE(S)){var R=S;break t}}R=null}if(!(a=R)){this.i=!1,this.o=3,Rs(12),og(this),nC(this);break e}_y(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,PF(this,a)}this.U?(z2(this,i,b),M&&this.i&&3==i&&(k2(this.V,this.W,"tick",this.fb),this.W.start())):(_y(this.j,this.m,b,null),PF(this,b)),4==i&&og(this),this.i&&!this.I&&(4==i?_G(this.l,this):(this.i=!1,tC(this)))}else 400==a&&0<b.indexOf("Unknown SID")?(this.o=3,Rs(12)):(this.o=0,Rs(13)),og(this),nC(this)}}}catch(N){}},rt.fb=function(){if(this.g){var s=Cc(this.g),i=this.g.ga();this.C<i.length&&(cI(this),z2(this,s,i),this.i&&4!=s&&tC(this))}},rt.cancel=function(){this.I=!0,og(this)},rt.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,i){s.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(QE(3),Rs(17)),og(this),this.o=2,nC(this)):q2(this,this.Y-s)},(rt=yy.prototype).R=function(){VF(this);for(var s=[],i=0;i<this.g.length;i++)s.push(this.h[this.g[i]]);return s},rt.T=function(){return VF(this),this.g.concat()},rt.get=function(s,i){return ag(this.h,s)?this.h[s]:i},rt.set=function(s,i){ag(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=i},rt.forEach=function(s,i){for(var r=this.T(),o=0;o<r.length;o++){var a=r[o],c=this.get(a);s.call(i,c,a,this)}};var W2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lg(s,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof lg){this.g=void 0!==i?i:s.g,dI(this,s.j),this.s=s.s,hI(this,s.i),fI(this,s.m),this.l=s.l,i=s.h;var r=new sC;r.i=i.i,i.g&&(r.g=new yy(i.g),r.h=i.h),Y2(this,r),this.o=s.o}else s&&(r=String(s).match(W2))?(this.g=!!i,dI(this,r[1]||"",!0),this.s=rC(r[2]||""),hI(this,r[3]||"",!0),fI(this,r[4]),this.l=rC(r[5]||"",!0),Y2(this,r[6]||"",!0),this.o=rC(r[7]||"")):(this.g=!!i,this.h=new sC(null,this.g))}function Ec(s){return new lg(s)}function dI(s,i,r){s.j=r?rC(i,!0):i,s.j&&(s.j=s.j.replace(/:$/,""))}function hI(s,i,r){s.i=r?rC(i,!0):i}function fI(s,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);s.m=i}else s.m=null}function Y2(s,i,r){i instanceof sC?(s.h=i,function(s,i){i&&!s.j&&(Sh(s),s.i=null,s.g.forEach(function(r,o){var a=o.toLowerCase();o!=a&&(Z2(this,o),J2(this,a,r))},s)),s.j=i}(s.h,s.g)):(r||(i=iC(i,g6)),s.h=new sC(i,s.g))}function dr(s,i,r){s.h.set(i,r)}function pI(s){return dr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function rC(s,i){return s?i?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function iC(s,i,r){return"string"==typeof s?(s=encodeURI(s).replace(i,h6),r&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function h6(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}lg.prototype.toString=function(){var s=[],i=this.j;i&&s.push(iC(i,K2,!0),":");var r=this.i;return(r||"file"==i)&&(s.push("//"),(i=this.s)&&s.push(iC(i,K2,!0),"@"),s.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&s.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&s.push("/"),s.push(iC(r,"/"==r.charAt(0)?p6:f6,!0))),(r=this.h.toString())&&s.push("?",r),(r=this.o)&&s.push("#",iC(r,m6)),s.join("")};var K2=/[#\/\?@]/g,f6=/[#\?:]/g,p6=/[#\?]/g,g6=/[#\?@]/g,m6=/#/g;function sC(s,i){this.h=this.g=null,this.i=s||null,this.j=!!i}function Sh(s){s.g||(s.g=new yy,s.h=0,s.i&&function(s,i){if(s){s=s.split("&");for(var r=0;r<s.length;r++){var o=s[r].indexOf("="),a=null;if(0<=o){var c=s[r].substring(0,o);a=s[r].substring(o+1)}else c=s[r];i(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(s.i,function(i,r){s.add(decodeURIComponent(i.replace(/\+/g," ")),r)}))}function Z2(s,i){Sh(s),i=vy(s,i),ag(s.g.h,i)&&(s.i=null,s.h-=s.g.get(i).length,ag((s=s.g).h,i)&&(delete s.h[i],s.i--,s.g.length>2*s.i&&VF(s)))}function Q2(s,i){return Sh(s),i=vy(s,i),ag(s.g.h,i)}function J2(s,i,r){Z2(s,i),0<r.length&&(s.i=null,s.g.set(vy(s,i),tI(r)),s.h+=r.length)}function vy(s,i){return i=String(i),s.j&&(i=i.toLowerCase()),i}(rt=sC.prototype).add=function(s,i){Sh(this),this.i=null,s=vy(this,s);var r=this.g.get(s);return r||this.g.set(s,r=[]),r.push(i),this.h+=1,this},rt.forEach=function(s,i){Sh(this),this.g.forEach(function(r,o){eI(r,function(a){s.call(i,a,o,this)},this)},this)},rt.T=function(){Sh(this);for(var s=this.g.R(),i=this.g.T(),r=[],o=0;o<i.length;o++)for(var a=s[o],c=0;c<a.length;c++)r.push(i[o]);return r},rt.R=function(s){Sh(this);var i=[];if("string"==typeof s)Q2(this,s)&&(i=pF(i,this.g.get(vy(this,s))));else{s=this.g.R();for(var r=0;r<s.length;r++)i=pF(i,s[r])}return i},rt.set=function(s,i){return Sh(this),this.i=null,Q2(this,s=vy(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[i]),this.h+=1,this},rt.get=function(s,i){return s&&0<(s=this.R(s)).length?String(s[0]):i},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],i=this.g.T(),r=0;r<i.length;r++){var o=i[r],a=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var g=a;""!==o[c]&&(g+="="+encodeURIComponent(String(o[c]))),s.push(g)}}return this.i=s.join("&")};var y6=function(i,r){this.h=i,this.g=r};function X2(s){this.l=s||v6,s=kt.PerformanceNavigationTiming?0<(s=kt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var v6=10;function eG(s){return!!s.h||!!s.g&&s.g.size>=s.j}function tG(s){return s.h?1:s.g?s.g.size:0}function BF(s,i){return s.h?s.h==i:!!s.g&&s.g.has(i)}function UF(s,i){s.g?s.g.add(i):s.h=i}function nG(s,i){s.h&&s.h==i?s.h=null:s.g&&s.g.has(i)&&s.g.delete(i)}function rG(s){var i,r;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var a=vc(s.g.values()),c=a.next();!c.done;c=a.next())o=o.concat(c.value.D)}catch(_){i={error:_}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}return tI(s.i)}function GF(){}function b6(){this.g=new GF}function w6(s,i,r){var o=r||"";try{LF(s,function(a,c){var g=a;wh(a)&&(g=xF(a)),i.push(o+c+"="+encodeURIComponent(g))})}catch(a){throw i.push(o+"type="+encodeURIComponent("_badmap")),a}}function gI(s,i,r,o,a){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,a(o)}catch(c){}}function oC(s){this.l=s.$b||null,this.j=s.ib||!1}function mI(s,i){Ei.call(this),this.D=s,this.u=i,this.m=void 0,this.readyState=jF,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}X2.prototype.cancel=function(){var s,i;if(this.i=rG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var r=vc(this.g.values()),o=r.next();!o.done;o=r.next())o.value.cancel()}catch(c){s={error:c}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}this.g.clear()}},GF.prototype.stringify=function(s){return kt.JSON.stringify(s,void 0)},GF.prototype.parse=function(s){return kt.JSON.parse(s,void 0)},hi(oC,MF),oC.prototype.g=function(){return new mI(this.l,this.j)},oC.prototype.i=function(s){return function(){return s}}({}),hi(mI,Ei);var jF=0;function iG(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function aC(s){s.readyState=4,s.l=null,s.j=null,s.A=null,lC(s)}function lC(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(rt=mI.prototype).open=function(s,i){if(this.readyState!=jF)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=i,this.readyState=1,lC(this)},rt.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(i.body=s),(this.D||kt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,aC(this)),this.readyState=jF},rt.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,lC(this)),this.g&&(this.readyState=3,lC(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==kt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iG(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var i=s.value?s.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!s.done}))&&(this.response=this.responseText+=i)}s.done?aC(this):lC(this),3==this.readyState&&iG(this)}},rt.Ua=function(s){this.g&&(this.response=this.responseText=s,aC(this))},rt.Ta=function(s){this.g&&(this.response=s,aC(this))},rt.ha=function(){this.g&&aC(this)},rt.setRequestHeader=function(s,i){this.v.append(s,i)},rt.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],i=this.h.entries(),r=i.next();!r.done;)s.push((r=r.value)[0]+": "+r[1]),r=i.next();return s.join("\r\n")},Object.defineProperty(mI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var C6=kt.JSON.parse;function Kr(s){Ei.call(this),this.headers=new yy,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sG,this.K=this.L=!1}hi(Kr,Ei);var sG="",x6=/^https?$/i,A6=["POST","PUT"];function D6(s){return"content-type"==s.toLowerCase()}function oG(s,i){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=i,s.m=5,aG(s),_I(s)}function aG(s){s.D||(s.D=!0,$i(s,"complete"),$i(s,"error"))}function lG(s){if(s.h&&void 0!==zE&&(!s.C[1]||4!=Cc(s)||2!=s.ba()))if(s.v&&4==Cc(s))TF(s.Fa,0,s);else if($i(s,"readystatechange"),4==Cc(s)){s.h=!1;try{var o,i=s.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(o=r)){var a;if(a=0===i){var c=String(s.H).match(W2)[1]||null;if(!c&&kt.self&&kt.self.location){var g=kt.self.location.protocol;c=g.substr(0,g.length-1)}a=!x6.test(c?c.toLowerCase():"")}o=a}if(o)$i(s,"complete"),$i(s,"success");else{s.m=6;try{var _=2<Cc(s)?s.g.statusText:""}catch(b){_=""}s.j=_+" ["+s.ba()+"]",aG(s)}}finally{_I(s)}}}function _I(s,i){if(s.g){uG(s);var r=s.g,o=s.C[0]?ng:null;s.g=null,s.C=null,i||$i(s,"ready");try{r.onreadystatechange=o}catch(a){}}}function uG(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(kt.clearTimeout(s.A),s.A=null)}function Cc(s){return s.g?s.g.readyState:0}function cG(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case sG:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(i){return null}}function HF(s,i,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function(s){var i="";return l(s,function(r,o){i+=o,i+=":",i+=r,i+="\r\n"}),i}(r),"string"==typeof s?null!=r&&encodeURIComponent(String(r)):dr(s,i,r))}function uC(s,i,r){return r&&r.internalChannelParams&&r.internalChannelParams[s]||i}function dG(s){this.za=0,this.l=[],this.h=new sI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uC("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uC("baseRetryDelayMs",5e3,s),this.$a=uC("retryDelaySeedMs",1e4,s),this.Ya=uC("forwardChannelMaxRetries",2,s),this.ra=uC("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new X2(s&&s.concurrentRequestLimit),this.Ca=new b6,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function $F(s){if(hG(s),3==s.G){var i=s.V++,r=Ec(s.F);dr(r,"SID",s.J),dr(r,"RID",i),dr(r,"TYPE","terminate"),cC(s,r),(i=new eC(s,s.h,i,void 0)).K=2,i.v=pI(Ec(r)),r=!1,kt.navigator&&kt.navigator.sendBeacon&&(r=kt.navigator.sendBeacon(i.v.toString(),"")),!r&&kt.Image&&((new Image).src=i.v,r=!0),r||(i.g=wG(i.l,null),i.g.ea(i.v)),i.F=Date.now(),tC(i)}vG(s)}function yI(s){s.g&&(WF(s),s.g.cancel(),s.g=null)}function hG(s){yI(s),s.u&&(kt.clearTimeout(s.u),s.u=null),bI(s),s.i.cancel(),s.m&&("number"==typeof s.m&&kt.clearTimeout(s.m),s.m=null)}function zF(s,i){s.l.push(new y6(s.Za++,i)),3==s.G&&vI(s)}function vI(s){eG(s.i)||s.m||(s.m=!0,AF(s.Ha,s),s.C=0)}function fG(s,i){var r;r=i?i.m:s.V++;var o=Ec(s.F);dr(o,"SID",s.J),dr(o,"RID",r),dr(o,"AID",s.U),cC(s,o),s.o&&s.s&&HF(o,s.o,s.s),r=new eC(s,s.h,r,s.C+1),null===s.o&&(r.H=s.s),i&&(s.l=i.D.concat(s.l)),i=pG(s,r,1e3),r.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),UF(s.i,r),FF(r,o,i)}function cC(s,i){s.j&&LF({},function(r,o){dr(i,o,r)})}function pG(s,i,r){r=Math.min(s.l.length,r);var o=s.j?Fr(s.j.Oa,s.j,s):null;e:for(var a=s.l,c=-1;;){var g=["count="+r];-1==c?0<r?g.push("ofs="+(c=a[0].h)):c=0:g.push("ofs="+c);for(var _=!0,b=0;b<r;b++){var S=a[b].h,T=a[b].g;if(0>(S-=c))c=Math.max(0,a[b].h-100),_=!1;else try{w6(T,g,"req"+S+"_")}catch(R){o&&o(T)}}if(_){o=g.join("&");break e}}return s=s.l.splice(0,r),i.D=s,o}function gG(s){s.g||s.u||(s.Y=1,AF(s.Ga,s),s.A=0)}function qF(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=JE(Fr(s.Ga,s),yG(s,s.A)),s.A++,0))}function WF(s){null!=s.B&&(kt.clearTimeout(s.B),s.B=null)}function mG(s){s.g=new eC(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var i=Ec(s.oa);dr(i,"RID","rpc"),dr(i,"SID",s.J),dr(i,"CI",s.N?"0":"1"),dr(i,"AID",s.U),cC(s,i),dr(i,"TYPE","xmlhttp"),s.o&&s.s&&HF(i,s.o,s.s),s.K&&s.g.setTimeout(s.K);var r=s.g;s=s.la,r.K=1,r.v=pI(Ec(i)),r.s=null,r.U=!0,H2(r,s)}function bI(s){null!=s.v&&(kt.clearTimeout(s.v),s.v=null)}function _G(s,i){var r=null;if(s.g==i){bI(s),WF(s),s.g=null;var o=2}else{if(!BF(s.i,i))return;r=i.D,nG(s.i,i),o=1}if(s.I=i.N,0!=s.G)if(i.i)if(1==o){r=i.s?i.s.length:0,i=Date.now()-i.F;var a=s.C;$i(o=oI(),new V2(o,r,i,a)),vI(s)}else gG(s);else if(3==(a=i.o)||0==a&&0<s.I||!(1==o&&function(s,i){return!(tG(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=i.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=JE(Fr(s.Ha,s,i),yG(s,s.C)),s.C++,0)))}(s,i)||2==o&&qF(s)))switch(r&&0<r.length&&(i=s.i,i.i=i.i.concat(r)),a){case 1:ug(s,5);break;case 4:ug(s,10);break;case 3:ug(s,6);break;default:ug(s,2)}}function yG(s,i){var r=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(r*=2),r*i}function ug(s,i){if(s.h.info("Error code "+i),2==i){var r=null;s.j&&(r=null);var o=Fr(s.jb,s);r||(r=new lg("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||dI(r,"https"),pI(r)),function(s,i){var r=new sI;if(kt.Image){var o=new Image;o.onload=my(gI,r,o,"TestLoadImage: loaded",!0,i),o.onerror=my(gI,r,o,"TestLoadImage: error",!1,i),o.onabort=my(gI,r,o,"TestLoadImage: abort",!1,i),o.ontimeout=my(gI,r,o,"TestLoadImage: timeout",!1,i),kt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else i(!1)}(r.toString(),o)}else Rs(2);s.G=0,s.j&&s.j.va(i),vG(s),hG(s)}function vG(s){s.G=0,s.I=-1,s.j&&((0!=rG(s.i).length||0!=s.l.length)&&(s.i.i.length=0,tI(s.l),s.l.length=0),s.j.ua())}function bG(s,i,r){var o=function(s){return s instanceof lg?Ec(s):new lg(s,void 0)}(r);if(""!=o.i)i&&hI(o,i+"."+o.i),fI(o,o.m);else{var a=kt.location;o=function(s,i,r,o){var a=new lg(null,void 0);return s&&dI(a,s),i&&hI(a,i),r&&fI(a,r),o&&(a.l=o),a}(a.protocol,i?i+"."+a.hostname:a.hostname,+a.port,r)}return s.aa&&l(s.aa,function(c,g){dr(o,g,c)}),r=s.sa,(i=s.D)&&r&&dr(o,i,r),dr(o,"VER",s.ma),cC(s,o),o}function wG(s,i,r){if(i&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Kr(r&&s.Ba&&!s.qa?new oC({ib:!0}):s.qa)).L=s.H,i}function EG(){}function wI(){if(C&&!(10<=Number(en)))throw Error("Environmental error: no available transport.")}function Fo(s,i){Ei.call(this),this.g=new dG(i),this.l=s,this.h=i&&i.messageUrlParams||null,s=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(s?s["X-WebChannel-Content-Type"]=i.messageContentType:s={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(s?s["X-WebChannel-Client-Profile"]=i.ya:s={"X-WebChannel-Client-Profile":i.ya}),this.g.P=s,(s=i&&i.httpHeadersOverwriteParam)&&!YE(s)&&(this.g.o=s),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!YE(i)&&(this.g.D=i,null!==(s=this.h)&&i in s&&i in(s=this.h)&&delete s[i]),this.j=new by(this)}function CG(s){RF.call(this);var i=s.__sm__;if(i){e:{for(var r in i){s=r;break e}s=void 0}(this.i=s)&&(s=this.i,i=null!==i&&s in i?i[s]:void 0),this.data=i}else this.data=s}function xG(){OF.call(this),this.status=1}function by(s){this.g=s}(rt=Kr.prototype).ea=function(s,i,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);i=i?i.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kF.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:kF),this.g.onreadystatechange=Fr(this.Fa,this);try{this.F=!0,this.g.open(i,String(s),!0),this.F=!1}catch(c){return void oG(this,c)}s=r||"";var a=new yy(this.headers);o&&LF(o,function(c,g){a.set(g,c)}),o=function(s){e:{for(var i=D6,r=s.length,o="string"==typeof s?s.split(""):s,a=0;a<r;a++)if(a in o&&i.call(void 0,o[a],a,s)){i=a;break e}i=-1}return 0>i?null:"string"==typeof s?s.charAt(i):s[i]}(a.T()),r=kt.FormData&&s instanceof kt.FormData,!(0<=hF(A6,i))||o||r||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,g){this.g.setRequestHeader(g,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uG(this),0<this.B&&((this.K=function(s){return C&&ke()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.pa,this)):this.A=TF(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(c){oG(this,c)}},rt.pa=function(){void 0!==zE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},rt.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,$i(this,"complete"),$i(this,"abort"),_I(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_I(this,!0)),Kr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?lG(this):this.cb())},rt.cb=function(){lG(this)},rt.ba=function(){try{return 2<Cc(this)?this.g.status:-1}catch(s){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},rt.Qa=function(s){if(this.g){var i=this.g.responseText;return s&&0==i.indexOf(s)&&(i=i.substring(s.length)),C6(i)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=dG.prototype).ma=8,rt.G=1,rt.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(i){}},rt.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var i=new eC(this,this.h,s,void 0),r=this.s;if(this.P&&(r?h(r=u(r),this.P):r=this.P),null===this.o&&(i.H=r),this.ja)e:{for(var o=0,a=0;a<this.l.length;a++){var c=this.l[a];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(o+=c)){o=a;break e}if(4096===o||a===this.l.length-1){o=a+1;break e}}o=1e3}else o=1e3;o=pG(this,i,o),dr(a=Ec(this.F),"RID",s),dr(a,"CVER",22),this.D&&dr(a,"X-HTTP-Session-Id",this.D),cC(this,a),this.o&&r&&HF(a,this.o,r),UF(this.i,i),this.Ra&&dr(a,"TYPE","init"),this.ja?(dr(a,"$req",o),dr(a,"SID","null"),i.$=!0,FF(i,a,null)):FF(i,a,o),this.G=2}}else 3==this.G&&(s?fG(this,s):0==this.l.length||eG(this.i)||fG(this))},rt.Ga=function(){if(this.u=null,mG(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=JE(Fr(this.bb,this),s)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rs(10),yI(this),mG(this))},rt.ab=function(){null!=this.v&&(this.v=null,yI(this),qF(this),Rs(19))},rt.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Rs(2)):(this.h.info("Failed to ping google.com"),Rs(1))},(rt=EG.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},wI.prototype.g=function(s,i){return new Fo(s,i)},hi(Fo,Ei),Fo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,i=this.l,r=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),AF(Fr(s.hb,s,i))),Rs(0),s.W=i,s.aa=r||{},s.N=s.X,s.F=bG(s,null,s.W),vI(s)},Fo.prototype.close=function(){$F(this.g)},Fo.prototype.u=function(s){if("string"==typeof s){var i={};i.__data__=s,zF(this.g,i)}else this.v?((i={}).__data__=xF(s),zF(this.g,i)):zF(this.g,s)},Fo.prototype.M=function(){this.g.j=null,delete this.j,$F(this.g),delete this.g,Fo.Z.M.call(this)},hi(CG,RF),hi(xG,OF),hi(by,EG),by.prototype.xa=function(){$i(this.g,"a")},by.prototype.wa=function(s){$i(this.g,new CG(s))},by.prototype.va=function(s){$i(this.g,new xG(s))},by.prototype.ua=function(){$i(this.g,"b")},wI.prototype.createWebChannel=wI.prototype.g,Fo.prototype.send=Fo.prototype.u,Fo.prototype.open=Fo.prototype.m,Fo.prototype.close=Fo.prototype.close,aI.NO_ERROR=0,aI.TIMEOUT=8,aI.HTTP_ERROR=6,B2.COMPLETE="complete",G2.EventType=XE,XE.OPEN="a",XE.CLOSE="b",XE.ERROR="c",XE.MESSAGE="d",Ei.prototype.listen=Ei.prototype.N,Kr.prototype.listenOnce=Kr.prototype.O,Kr.prototype.getLastError=Kr.prototype.La,Kr.prototype.getLastErrorCode=Kr.prototype.Da,Kr.prototype.getStatus=Kr.prototype.ba,Kr.prototype.getResponseJson=Kr.prototype.Qa,Kr.prototype.getResponseText=Kr.prototype.ga,Kr.prototype.send=Kr.prototype.ea;var EI=aI,DG=B2,IG=sg,YF_PROXY=10,YF_NOPROXY=11,TG=oC,dC=G2,MG=Kr;class zi{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let wy="9.0.1";const Dh=new di.Yd("@firebase/firestore");function KF(){return Dh.logLevel}function ze(s,...i){if(Dh.logLevel<=di.in.DEBUG){const r=i.map(ZF);Dh.debug(`Firestore (${wy}): ${s}`,...r)}}function Zr(s,...i){if(Dh.logLevel<=di.in.ERROR){const r=i.map(ZF);Dh.error(`Firestore (${wy}): ${s}`,...r)}}function hC(s,...i){if(Dh.logLevel<=di.in.WARN){const r=i.map(ZF);Dh.warn(`Firestore (${wy}): ${s}`,...r)}}function ZF(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(r){return s}}function yt(s="Unexpected state"){const i=`FIRESTORE (${wy}) INTERNAL ASSERTION FAILED: `+s;throw Zr(i),new Error(i)}function Nt(s,i){s||yt()}function Je(s,i){return s}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Error{constructor(i,r){super(r),this.code=i,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}}class RG{constructor(i,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class O6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,r){i.enqueueRetryable(()=>r(zi.UNAUTHENTICATED))}shutdown(){}}class k6{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,r){this.changeListener=r,i.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class N6{constructor(i){this.t=i,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,r){var o=this;let a=this.i;const c=b=>this.i!==a?(a=this.i,r(b)):Promise.resolve();let g=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ci,i.enqueueRetryable(()=>c(this.currentUser))};const _=b=>{i.enqueueRetryable((0,Ne.Z)(function*(){ze("FirebaseCredentialsProvider","Auth detected"),o.auth=b,o.auth.addAuthTokenListener(o.o),yield g.promise,yield c(o.currentUser)}))};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(ze("FirebaseCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ci)}},0),i.enqueueRetryable((0,Ne.Z)(function*(){0===o.i&&(yield g.promise,yield c(o.currentUser))}))}getToken(){const i=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==i?(ze("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Nt("string"==typeof o.accessToken),new RG(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Nt(null===i||"string"==typeof i),new zi(i)}}class F6{constructor(i,r,o){this.h=i,this.l=r,this.m=o,this.type="FirstParty",this.user=zi.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(i.Authorization=r),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class P6{constructor(i,r,o){this.h=i,this.l=r,this.m=o}getToken(){return Promise.resolve(new F6(this.h,this.l,this.m))}start(i,r){i.enqueueRetryable(()=>r(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Po{constructor(i,r){this.previousValue=i,r&&(r.sequenceNumberHandler=o=>this.g(o),this.p=o=>r.writeSequenceNumber(o))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function L6(s){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}Po.T=-1;class OG{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/i.length)*i.length;let o="";for(;o.length<20;){const a=L6(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=i.charAt(a[c]%i.length))}return o}}function ln(s,i){return s<i?-1:s>i?1:0}function Ey(s,i,r){return s.length===i.length&&s.every((o,a)=>r(o,i[a]))}function kG(s){return s+"\0"}class xi{constructor(i,r){if(this.seconds=i,this.nanoseconds=r,r<0)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(i<-62135596800)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return xi.fromMillis(Date.now())}static fromDate(i){return xi.fromMillis(i.getTime())}static fromMillis(i){const r=Math.floor(i/1e3),o=Math.floor(1e6*(i-1e3*r));return new xi(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?ln(this.nanoseconds,i.nanoseconds):ln(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Wt(i)}static min(){return new Wt(new xi(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function NG(s){let i=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&i++;return i}function cg(s,i){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&i(r,s[r])}function FG(s){for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i))return!1;return!0}class fC{constructor(i,r,o){void 0===r?r=0:r>i.length&&yt(),void 0===o?o=i.length-r:o>i.length-r&&yt(),this.segments=i,this.offset=r,this.len=o}get length(){return this.len}isEqual(i){return 0===fC.comparator(this,i)}child(i){const r=this.segments.slice(this.offset,this.limit());return i instanceof fC?i.forEach(o=>{r.push(o)}):r.push(i),this.construct(r)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==i.get(r))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==i.get(r))return!1;return!0}forEach(i){for(let r=this.offset,o=this.limit();r<o;r++)i(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,r){const o=Math.min(i.length,r.length);for(let a=0;a<o;a++){const c=i.get(a),g=r.get(a);if(c<g)return-1;if(c>g)return 1}return i.length<r.length?-1:i.length>r.length?1:0}}class bn extends fC{construct(i,r,o){return new bn(i,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const r=[];for(const o of i){if(o.indexOf("//")>=0)throw new Ve(Te.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new bn(r)}static emptyPath(){return new bn([])}}const V6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends fC{construct(i,r,o){return new qi(i,r,o)}static isValidIdentifier(i){return V6.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(i){const r=[];let o="",a=0;const c=()=>{if(0===o.length)throw new Ve(Te.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let g=!1;for(;a<i.length;){const _=i[a];if("\\"===_){if(a+1===i.length)throw new Ve(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const b=i[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Ve(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);o+=b,a+=2}else"`"===_?(g=!g,a++):"."!==_||g?(o+=_,a++):(c(),a++)}if(c(),g)throw new Ve(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new qi(r)}static emptyPath(){return new qi([])}}class Cy{constructor(i){this.fields=i,i.sort(qi.comparator)}covers(i){for(const r of this.fields)if(r.isPrefixOf(i))return!0;return!1}isEqual(i){return Ey(this.fields,i.fields,(r,o)=>r.isEqual(o))}}class Ai{constructor(i){this.binaryString=i}static fromBase64String(i){const r=atob(i);return new Ai(r)}static fromUint8Array(i){const r=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(i);return new Ai(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return ln(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const U6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ih(s){if(Nt(!!s),"string"==typeof s){let i=0;const r=U6.exec(s);if(Nt(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),i=Number(a)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:i}}return{seconds:Qr(s.seconds),nanos:Qr(s.nanos)}}function Qr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function xy(s){return"string"==typeof s?Ai.fromBase64String(s):Ai.fromUint8Array(s)}function QF(s){var i,r;return"server_timestamp"===(null===(r=((null===(i=null==s?void 0:s.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function PG(s){const i=s.mapValue.fields.__previous_value__;return QF(i)?PG(i):i}function pC(s){const i=Ih(s.mapValue.fields.__local_write_time__.timestampValue);return new xi(i.seconds,i.nanos)}function dg(s){return null==s}function CI(s){return 0===s&&1/s==-1/0}function LG(s){return"number"==typeof s&&Number.isInteger(s)&&!CI(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class mt{constructor(i){this.path=i}static fromPath(i){return new mt(bn.fromString(i))}static fromName(i){return new mt(bn.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===bn.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,r){return bn.comparator(i.path,r.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new mt(new bn(i.slice()))}}function hg(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?QF(s)?4:10:yt()}function su(s,i){const r=hg(s);if(r!==hg(i))return!1;switch(r){case 0:return!0;case 1:return s.booleanValue===i.booleanValue;case 4:return pC(s).isEqual(pC(i));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ih(o.timestampValue),g=Ih(a.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(s,i);case 5:return s.stringValue===i.stringValue;case 6:return a=i,xy(s.bytesValue).isEqual(xy(a.bytesValue));case 7:return s.referenceValue===i.referenceValue;case 8:return function(o,a){return Qr(o.geoPointValue.latitude)===Qr(a.geoPointValue.latitude)&&Qr(o.geoPointValue.longitude)===Qr(a.geoPointValue.longitude)}(s,i);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Qr(o.integerValue)===Qr(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Qr(o.doubleValue),g=Qr(a.doubleValue);return c===g?CI(c)===CI(g):isNaN(c)&&isNaN(g)}return!1}(s,i);case 9:return Ey(s.arrayValue.values||[],i.arrayValue.values||[],su);case 10:return function(o,a){const c=o.mapValue.fields||{},g=a.mapValue.fields||{};if(NG(c)!==NG(g))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===g[_]||!su(c[_],g[_])))return!1;return!0}(s,i);default:return yt()}var a}function gC(s,i){return void 0!==(s.values||[]).find(r=>su(r,i))}function Ay(s,i){const r=hg(s),o=hg(i);if(r!==o)return ln(r,o);switch(r){case 0:return 0;case 1:return ln(s.booleanValue,i.booleanValue);case 2:return function(a,c){const g=Qr(a.integerValue||a.doubleValue),_=Qr(c.integerValue||c.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,i);case 3:return VG(s.timestampValue,i.timestampValue);case 4:return VG(pC(s),pC(i));case 5:return ln(s.stringValue,i.stringValue);case 6:return function(a,c){const g=xy(a),_=xy(c);return g.compareTo(_)}(s.bytesValue,i.bytesValue);case 7:return function(a,c){const g=a.split("/"),_=c.split("/");for(let b=0;b<g.length&&b<_.length;b++){const S=ln(g[b],_[b]);if(0!==S)return S}return ln(g.length,_.length)}(s.referenceValue,i.referenceValue);case 8:return function(a,c){const g=ln(Qr(a.latitude),Qr(c.latitude));return 0!==g?g:ln(Qr(a.longitude),Qr(c.longitude))}(s.geoPointValue,i.geoPointValue);case 9:return function(a,c){const g=a.values||[],_=c.values||[];for(let b=0;b<g.length&&b<_.length;++b){const S=Ay(g[b],_[b]);if(S)return S}return ln(g.length,_.length)}(s.arrayValue,i.arrayValue);case 10:return function(a,c){const g=a.fields||{},_=Object.keys(g),b=c.fields||{},S=Object.keys(b);_.sort(),S.sort();for(let T=0;T<_.length&&T<S.length;++T){const R=ln(_[T],S[T]);if(0!==R)return R;const N=Ay(g[_[T]],b[S[T]]);if(0!==N)return N}return ln(_.length,S.length)}(s.mapValue,i.mapValue);default:throw yt()}}function VG(s,i){if("string"==typeof s&&"string"==typeof i&&s.length===i.length)return ln(s,i);const r=Ih(s),o=Ih(i),a=ln(r.seconds,o.seconds);return 0!==a?a:ln(r.nanos,o.nanos)}function JF(s){return XF(s)}function XF(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const a=Ih(o);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?xy(s.bytesValue).toBase64():"referenceValue"in s?mt.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(i=s.geoPointValue).latitude},${i.longitude})`:"arrayValue"in s?function(o){let a="[",c=!0;for(const g of o.values||[])c?c=!1:a+=",",a+=XF(g);return a+"]"}(s.arrayValue):"mapValue"in s?function(o){const a=Object.keys(o.fields||{}).sort();let c="{",g=!0;for(const _ of a)g?g=!1:c+=",",c+=`${_}:${XF(o.fields[_])}`;return c+"}"}(s.mapValue):yt();var i}function xI(s,i){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`}}function eP(s){return!!s&&"integerValue"in s}function tP(s){return!!s&&"arrayValue"in s}function BG(s){return!!s&&"nullValue"in s}function UG(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function AI(s){return!!s&&"mapValue"in s}function mC(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const i={mapValue:{fields:{}}};return cg(s.mapValue.fields,(r,o)=>i.mapValue.fields[r]=mC(o)),i}if(s.arrayValue){const i={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)i.arrayValue.values[r]=mC(s.arrayValue.values[r]);return i}return Object.assign({},s)}class as{constructor(i){this.value=i}static empty(){return new as({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let r=this.value;for(let o=0;o<i.length-1;++o)if(r=(r.mapValue.fields||{})[i.get(o)],!AI(r))return null;return r=(r.mapValue.fields||{})[i.lastSegment()],r||null}}set(i,r){this.getFieldsMap(i.popLast())[i.lastSegment()]=mC(r)}setAll(i){let r=qi.emptyPath(),o={},a=[];i.forEach((g,_)=>{if(!r.isImmediateParentOf(_)){const b=this.getFieldsMap(r);this.applyChanges(b,o,a),o={},a=[],r=_.popLast()}g?o[_.lastSegment()]=mC(g):a.push(_.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(i){const r=this.field(i.popLast());AI(r)&&r.mapValue.fields&&delete r.mapValue.fields[i.lastSegment()]}isEqual(i){return su(this.value,i.value)}getFieldsMap(i){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<i.length;++o){let a=r.mapValue.fields[i.get(o)];AI(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[i.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(i,r,o){cg(r,(a,c)=>i[a]=c);for(const a of o)delete i[a]}clone(){return new as(mC(this.value))}}function GG(s){const i=[];return cg(s.fields,(r,o)=>{const a=new qi([r]);if(AI(o)){const c=GG(o.mapValue).fields;if(0===c.length)i.push(a);else for(const g of c)i.push(a.child(g))}else i.push(a)}),new Cy(i)}class hr{constructor(i,r,o,a,c){this.key=i,this.documentType=r,this.version=o,this.data=a,this.documentState=c}static newInvalidDocument(i){return new hr(i,0,Wt.min(),as.empty(),0)}static newFoundDocument(i,r,o){return new hr(i,1,r,o,0)}static newNoDocument(i,r){return new hr(i,2,r,as.empty(),0)}static newUnknownDocument(i,r){return new hr(i,3,r,as.empty(),2)}convertToFoundDocument(i,r){return this.version=i,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof hr&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new hr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class G6{constructor(i,r=null,o=[],a=[],c=null,g=null,_=null){this.path=i,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=g,this.endAt=_,this.A=null}}function jG(s,i=null,r=[],o=[],a=null,c=null,g=null){return new G6(s,i,r,o,a,c,g)}function _C(s){const i=Je(s);if(null===i.A){let r=i.path.canonicalString();null!==i.collectionGroup&&(r+="|cg:"+i.collectionGroup),r+="|f:",r+=i.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+JF(s.value)}(o)).join(","),r+="|ob:",r+=i.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),dg(i.limit)||(r+="|l:",r+=i.limit),i.startAt&&(r+="|lb:",r+=II(i.startAt)),i.endAt&&(r+="|ub:",r+=II(i.endAt)),i.A=r}return i.A}function SI(s,i){if(s.limit!==i.limit||s.orderBy.length!==i.orderBy.length)return!1;for(let a=0;a<s.orderBy.length;a++)if(!Q6(s.orderBy[a],i.orderBy[a]))return!1;if(s.filters.length!==i.filters.length)return!1;for(let a=0;a<s.filters.length;a++)if((r=s.filters[a]).op!==(o=i.filters[a]).op||!r.field.isEqual(o.field)||!su(r.value,o.value))return!1;var r,o;return s.collectionGroup===i.collectionGroup&&!!s.path.isEqual(i.path)&&!!zG(s.startAt,i.startAt)&&zG(s.endAt,i.endAt)}function DI(s){return mt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Os extends class{}{constructor(i,r,o){super(),this.field=i,this.op=r,this.value=o}static create(i,r,o){return i.isKeyField()?"in"===r||"not-in"===r?this.R(i,r,o):new $6(i,r,o):"array-contains"===r?new W6(i,o):"in"===r?new Y6(i,o):"not-in"===r?new K6(i,o):"array-contains-any"===r?new Z6(i,o):new Os(i,r,o)}static R(i,r,o){return"in"===r?new z6(i,o):new q6(i,o)}matches(i){const r=i.data.field(this.field);return"!="===this.op?null!==r&&this.P(Ay(r,this.value)):null!==r&&hg(this.value)===hg(r)&&this.P(Ay(r,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return yt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $6 extends Os{constructor(i,r,o){super(i,r,o),this.key=mt.fromName(o.referenceValue)}matches(i){const r=mt.comparator(i.key,this.key);return this.P(r)}}class z6 extends Os{constructor(i,r){super(i,"in",r),this.keys=HG(0,r)}matches(i){return this.keys.some(r=>r.isEqual(i.key))}}class q6 extends Os{constructor(i,r){super(i,"not-in",r),this.keys=HG(0,r)}matches(i){return!this.keys.some(r=>r.isEqual(i.key))}}function HG(s,i){var r;return((null===(r=i.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>mt.fromName(o.referenceValue))}class W6 extends Os{constructor(i,r){super(i,"array-contains",r)}matches(i){const r=i.data.field(this.field);return tP(r)&&gC(r.arrayValue,this.value)}}class Y6 extends Os{constructor(i,r){super(i,"in",r)}matches(i){const r=i.data.field(this.field);return null!==r&&gC(this.value.arrayValue,r)}}class K6 extends Os{constructor(i,r){super(i,"not-in",r)}matches(i){if(gC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=i.data.field(this.field);return null!==r&&!gC(this.value.arrayValue,r)}}class Z6 extends Os{constructor(i,r){super(i,"array-contains-any",r)}matches(i){const r=i.data.field(this.field);return!(!tP(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>gC(this.value.arrayValue,o))}}class yC{constructor(i,r){this.position=i,this.before=r}}function II(s){return`${s.before?"b":"a"}:${s.position.map(i=>JF(i)).join(",")}`}class Sy{constructor(i,r="asc"){this.field=i,this.dir=r}}function Q6(s,i){return s.dir===i.dir&&s.field.isEqual(i.field)}function $G(s,i,r){let o=0;for(let a=0;a<s.position.length;a++){const c=i[a],g=s.position[a];if(o=c.field.isKeyField()?mt.comparator(mt.fromName(g.referenceValue),r.key):Ay(g,r.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function zG(s,i){if(null===s)return null===i;if(null===i||s.before!==i.before||s.position.length!==i.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!su(s.position[r],i.position[r]))return!1;return!0}class xc{constructor(i,r=null,o=[],a=[],c=null,g="F",_=null,b=null){this.path=i,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=g,this.startAt=_,this.endAt=b,this.V=null,this.S=null}}function qG(s,i,r,o,a,c,g,_){return new xc(s,i,r,o,a,c,g,_)}function Dy(s){return new xc(s)}function TI(s){return!dg(s.limit)&&"F"===s.limitType}function MI(s){return!dg(s.limit)&&"L"===s.limitType}function nP(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function rP(s){for(const i of s.filters)if(i.v())return i.field;return null}function iP(s){return null!==s.collectionGroup}function Iy(s){const i=Je(s);if(null===i.V){i.V=[];const r=rP(i),o=nP(i);if(null!==r&&null===o)r.isKeyField()||i.V.push(new Sy(r)),i.V.push(new Sy(qi.keyField(),"asc"));else{let a=!1;for(const c of i.explicitOrderBy)i.V.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new Sy(qi.keyField(),c))}}}return i.V}function fa(s){const i=Je(s);if(!i.S)if("F"===i.limitType)i.S=jG(i.path,i.collectionGroup,Iy(i),i.filters,i.limit,i.startAt,i.endAt);else{const r=[];for(const c of Iy(i))r.push(new Sy(c.field,"desc"===c.dir?"asc":"desc"));const o=i.endAt?new yC(i.endAt.position,!i.endAt.before):null,a=i.startAt?new yC(i.startAt.position,!i.startAt.before):null;i.S=jG(i.path,i.collectionGroup,r,i.filters,i.limit,o,a)}return i.S}function WG(s,i,r){return new xc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),i,r,s.startAt,s.endAt)}function vC(s,i){return SI(fa(s),fa(i))&&s.limitType===i.limitType}function YG(s){return`${_C(fa(s))}|lt:${s.limitType}`}function sP(s){return`Query(target=${function(s){let i=s.path.canonicalString();return null!==s.collectionGroup&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${JF(o.value)}`;var o}).join(", ")}]`),dg(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(i+=", startAt: "+II(s.startAt)),s.endAt&&(i+=", endAt: "+II(s.endAt)),`Target(${i})`}(fa(s))}; limitType=${s.limitType})`}function bC(s,i){return i.isFoundDocument()&&function(r,o){const a=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):mt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(s,i)&&function(r,o){for(const a of r.explicitOrderBy)if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(s,i)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(s,i)&&(o=i,!((r=s).startAt&&!$G(r.startAt,Iy(r),o)||r.endAt&&$G(r.endAt,Iy(r),o)));var r,o}function KG(s){return(i,r)=>{let o=!1;for(const a of Iy(s)){const c=J6(a,i,r);if(0!==c)return c;o=o||a.field.isKeyField()}return 0}}function J6(s,i,r){const o=s.field.isKeyField()?mt.comparator(i.key,r.key):function(a,c,g){const _=c.data.field(a),b=g.data.field(a);return null!==_&&null!==b?Ay(_,b):yt()}(s.field,i,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return yt()}}function ZG(s,i){if(s.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CI(i)?"-0":i}}function QG(s){return{integerValue:""+s}}function JG(s,i){return LG(i)?QG(i):ZG(s,i)}class RI{constructor(){this._=void 0}}function X6(s,i,r){return s instanceof Ty?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(r,i):s instanceof fg?ej(s,i):s instanceof pg?tj(s,i):function(o,a){const c=XG(o,a),g=nj(c)+nj(o.C);return eP(c)&&eP(o.C)?QG(g):ZG(o.N,g)}(s,i)}function eW(s,i,r){return s instanceof fg?ej(s,i):s instanceof pg?tj(s,i):r}function XG(s,i){return s instanceof My?eP(r=i)||(o=r)&&"doubleValue"in o?i:{integerValue:0}:null;var o,r}class Ty extends RI{}class fg extends RI{constructor(i){super(),this.elements=i}}function ej(s,i){const r=rj(i);for(const o of s.elements)r.some(a=>su(a,o))||r.push(o);return{arrayValue:{values:r}}}class pg extends RI{constructor(i){super(),this.elements=i}}function tj(s,i){let r=rj(i);for(const o of s.elements)r=r.filter(a=>!su(a,o));return{arrayValue:{values:r}}}class My extends RI{constructor(i,r){super(),this.N=i,this.C=r}}function nj(s){return Qr(s.integerValue||s.doubleValue)}function rj(s){return tP(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class wC{constructor(i,r){this.field=i,this.transform=r}}class nW{constructor(i,r){this.version=i,this.transformResults=r}}class Jr{constructor(i,r){this.updateTime=i,this.exists=r}static none(){return new Jr}static exists(i){return new Jr(void 0,i)}static updateTime(i){return new Jr(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function OI(s,i){return void 0!==s.updateTime?i.isFoundDocument()&&i.version.isEqual(s.updateTime):void 0===s.exists||s.exists===i.isFoundDocument()}class kI{}function rW(s,i,r){s instanceof EC?function(o,a,c){const g=o.value.clone(),_=aj(o.fieldTransforms,a,c.transformResults);g.setAll(_),a.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(s,i,r):s instanceof Th?function(o,a,c){if(!OI(o.precondition,a))return void a.convertToUnknownDocument(c.version);const g=aj(o.fieldTransforms,a,c.transformResults),_=a.data;_.setAll(oj(o)),_.setAll(g),a.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(s,i,r):i.convertToNoDocument(r.version).setHasCommittedMutations()}function oP(s,i,r){var a;s instanceof EC?function(o,a,c){if(!OI(o.precondition,a))return;const g=o.value.clone(),_=lj(o.fieldTransforms,c,a);g.setAll(_),a.convertToFoundDocument(sj(a),g).setHasLocalMutations()}(s,i,r):s instanceof Th?function(o,a,c){if(!OI(o.precondition,a))return;const g=lj(o.fieldTransforms,c,a),_=a.data;_.setAll(oj(o)),_.setAll(g),a.convertToFoundDocument(sj(a),_).setHasLocalMutations()}(s,i,r):OI(s.precondition,a=i)&&a.convertToNoDocument(Wt.min())}function iW(s,i){let r=null;for(const o of s.fieldTransforms){const a=i.data.field(o.field),c=XG(o.transform,a||null);null!=c&&(null==r&&(r=as.empty()),r.set(o.field,c))}return r||null}function ij(s,i){return s.type===i.type&&!!s.key.isEqual(i.key)&&!!s.precondition.isEqual(i.precondition)&&(o=i.fieldTransforms,!!(void 0===(r=s.fieldTransforms)&&void 0===o||r&&o&&Ey(r,o,(a,c)=>function(s,i){return s.field.isEqual(i.field)&&(o=i.transform,(r=s.transform)instanceof fg&&o instanceof fg||r instanceof pg&&o instanceof pg?Ey(r.elements,o.elements,su):r instanceof My&&o instanceof My?su(r.C,o.C):r instanceof Ty&&o instanceof Ty);var r,o}(a,c))))&&(0===s.type?s.value.isEqual(i.value):1!==s.type||s.data.isEqual(i.data)&&s.fieldMask.isEqual(i.fieldMask));var r,o}function sj(s){return s.isFoundDocument()?s.version:Wt.min()}class EC extends kI{constructor(i,r,o,a=[]){super(),this.key=i,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}}class Th extends kI{constructor(i,r,o,a,c=[]){super(),this.key=i,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}}function oj(s){const i=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);i.set(r,o)}}),i}function aj(s,i,r){const o=new Map;Nt(s.length===r.length);for(let a=0;a<r.length;a++){const c=s[a],g=c.transform,_=i.data.field(c.field);o.set(c.field,eW(g,_,r[a]))}return o}function lj(s,i,r){const o=new Map;for(const a of s){const c=a.transform,g=r.data.field(a.field);o.set(a.field,X6(c,g,i))}return o}class CC extends kI{constructor(i,r){super(),this.key=i,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class aP extends kI{constructor(i,r){super(),this.key=i,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class sW{constructor(i){this.count=i}}var Xr,fn;function uj(s){switch(s){case Te.OK:return yt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return yt()}}function cj(s){if(void 0===s)return Zr("GRPC error has no .code"),Te.UNKNOWN;switch(s){case Xr.OK:return Te.OK;case Xr.CANCELLED:return Te.CANCELLED;case Xr.UNKNOWN:return Te.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return Te.INTERNAL;case Xr.UNAVAILABLE:return Te.UNAVAILABLE;case Xr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Xr.NOT_FOUND:return Te.NOT_FOUND;case Xr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Xr.ABORTED:return Te.ABORTED;case Xr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Xr.DATA_LOSS:return Te.DATA_LOSS;default:return yt()}}(fn=Xr||(Xr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class fi{constructor(i,r){this.comparator=i,this.root=r||Wi.EMPTY}insert(i,r){return new fi(this.comparator,this.root.insert(i,r,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(i){return new fi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(i){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(i,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(i){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(i,o.key);if(0===a)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((r,o)=>(i(r,o),!1))}toString(){const i=[];return this.inorderTraversal((r,o)=>(i.push(`${r}:${o}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new NI(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new NI(this.root,i,this.comparator,!1)}getReverseIterator(){return new NI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new NI(this.root,i,this.comparator,!0)}}class NI{constructor(i,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!i.isEmpty();)if(c=r?o(i.key,r):1,a&&(c*=-1),c<0)i=this.isReverse?i.left:i.right;else{if(0===c){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const r={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Wi{constructor(i,r,o,a,c){this.key=i,this.value=r,this.color=null!=o?o:Wi.RED,this.left=null!=a?a:Wi.EMPTY,this.right=null!=c?c:Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,r,o,a,c){return new Wi(null!=i?i:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,r,o){let a=this;const c=o(i,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(i,r,o),null):0===c?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(i,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,r){let o,a=this;if(r(i,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(i,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===r(i,a.key)){if(a.right.isEmpty())return Wi.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(i,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,r)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const i=this.left.check();if(i!==this.right.check())throw yt();return i+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(s,i,r,o,a){return this}insert(s,i,r){return new Wi(s,i)}remove(s,i){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(i){this.comparator=i,this.data=new fi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((r,o)=>(i(r),!1))}forEachInRange(i,r){const o=this.data.getIteratorFrom(i[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,i[1])>=0)return;r(a.key)}}forEachWhile(i,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!i(o.getNext().key))return}firstAfterOrEqual(i){const r=this.data.getIteratorFrom(i);return r.hasNext()?r.getNext().key:null}getIterator(){return new dj(this.data.getIterator())}getIteratorFrom(i){return new dj(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let r=this;return r.size<i.size&&(r=i,i=this),i.forEach(o=>{r=r.add(o)}),r}isEqual(i){if(!(i instanceof Ir)||this.size!==i.size)return!1;const r=this.data.getIterator(),o=i.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const i=[];return this.forEach(r=>{i.push(r)}),i}toString(){const i=[];return this.forEach(r=>i.push(r)),"SortedSet("+i.toString()+")"}copy(i){const r=new Ir(this.comparator);return r.data=i,r}}class dj{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const oW=new fi(mt.comparator);function pa(){return oW}const aW=new fi(mt.comparator);function lP(){return aW}const lW=new fi(mt.comparator);function hj(){return lW}const uW=new Ir(mt.comparator);function Nn(...s){let i=uW;for(const r of s)i=i.add(r);return i}const cW=new Ir(ln);function FI(){return cW}class xC{constructor(i,r,o,a,c){this.snapshotVersion=i,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(i,r){const o=new Map;return o.set(i,AC.createSynthesizedTargetChangeForCurrentChange(i,r)),new xC(Wt.min(),o,FI(),pa(),Nn())}}class AC{constructor(i,r,o,a,c){this.resumeToken=i,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(i,r){return new AC(Ai.EMPTY_BYTE_STRING,r,Nn(),Nn(),Nn())}}class PI{constructor(i,r,o,a){this.k=i,this.removedTargetIds=r,this.key=o,this.$=a}}class fj{constructor(i,r){this.targetId=i,this.O=r}}class pj{constructor(i,r,o=Ai.EMPTY_BYTE_STRING,a=null){this.state=i,this.targetIds=r,this.resumeToken=o,this.cause=a}}class gj{constructor(){this.F=0,this.M=_j(),this.L=Ai.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=Nn(),r=Nn(),o=Nn();return this.M.forEach((a,c)=>{switch(c){case 0:i=i.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:yt()}}),new AC(this.L,this.B,i,r,o)}G(){this.U=!1,this.M=_j()}H(i,r){this.U=!0,this.M=this.M.insert(i,r)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class dW{constructor(i){this.tt=i,this.et=new Map,this.nt=pa(),this.st=mj(),this.it=new Ir(ln)}rt(i){for(const r of i.k)i.$&&i.$.isFoundDocument()?this.ot(r,i.$):this.at(r,i.key,i.$);for(const r of i.removedTargetIds)this.at(r,i.key,i.$)}ct(i){this.forEachTarget(i,r=>{const o=this.ut(r);switch(i.state){case 0:this.ht(r)&&o.j(i.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(i.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(r);break;case 3:this.ht(r)&&(o.Z(),o.j(i.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),o.j(i.resumeToken));break;default:yt()}})}forEachTarget(i,r){i.targetIds.length>0?i.targetIds.forEach(r):this.et.forEach((o,a)=>{this.ht(a)&&r(a)})}ft(i){const r=i.targetId,o=i.O.count,a=this.dt(r);if(a){const c=a.target;if(DI(c))if(0===o){const g=new mt(c.path);this.at(r,g,hr.newNoDocument(g,Wt.min()))}else Nt(1===o);else this.wt(r)!==o&&(this.lt(r),this.it=this.it.add(r))}}_t(i){const r=new Map;this.et.forEach((c,g)=>{const _=this.dt(g);if(_){if(c.current&&DI(_.target)){const b=new mt(_.target.path);null!==this.nt.get(b)||this.gt(g,b)||this.at(g,b,hr.newNoDocument(b,i))}c.K&&(r.set(g,c.W()),c.G())}});let o=Nn();this.st.forEach((c,g)=>{let _=!0;g.forEachWhile(b=>{const S=this.dt(b);return!S||2===S.purpose||(_=!1,!1)}),_&&(o=o.add(c))});const a=new xC(i,r,this.it,this.nt,o);return this.nt=pa(),this.st=mj(),this.it=new Ir(ln),a}ot(i,r){if(!this.ht(i))return;const o=this.gt(i,r.key)?2:0;this.ut(i).H(r.key,o),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(i))}at(i,r,o){if(!this.ht(i))return;const a=this.ut(i);this.gt(i,r)?a.H(r,1):a.J(r),this.st=this.st.insert(r,this.yt(r).delete(i)),o&&(this.nt=this.nt.insert(r,o))}removeTarget(i){this.et.delete(i)}wt(i){const r=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+r.addedDocuments.size-r.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let r=this.et.get(i);return r||(r=new gj,this.et.set(i,r)),r}yt(i){let r=this.st.get(i);return r||(r=new Ir(ln),this.st=this.st.insert(i,r)),r}ht(i){const r=null!==this.dt(i);return r||ze("WatchChangeAggregator","Detected inactive target",i),r}dt(i){const r=this.et.get(i);return r&&r.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new gj),this.tt.getRemoteKeysForTarget(i).forEach(r=>{this.at(i,r,null)})}gt(i,r){return this.tt.getRemoteKeysForTarget(i).has(r)}}function mj(){return new fi(mt.comparator)}function _j(){return new fi(mt.comparator)}const hW={asc:"ASCENDING",desc:"DESCENDING"},fW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pW{constructor(i,r){this.databaseId=i,this.D=r}}function SC(s,i){return s.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function yj(s,i){return s.D?i.toBase64():i.toUint8Array()}function gW(s,i){return SC(s,i.toTimestamp())}function Si(s){return Nt(!!s),Wt.fromTimestamp(function(i){const r=Ih(i);return new xi(r.seconds,r.nanos)}(s))}function uP(s,i){return(r=s,new bn(["projects",r.projectId,"databases",r.database])).child("documents").child(i).canonicalString();var r}function vj(s){const i=bn.fromString(s);return Nt(Rj(i)),i}function DC(s,i){return uP(s.databaseId,i.path)}function ou(s,i){const r=vj(i);if(r.get(1)!==s.databaseId.projectId)throw new Ve(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new Ve(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new mt(wj(r))}function cP(s,i){return uP(s.databaseId,i)}function bj(s){const i=vj(s);return 4===i.length?bn.emptyPath():wj(i)}function IC(s){return new bn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function wj(s){return Nt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Ej(s,i,r){return{name:DC(s,i),fields:r.value.mapValue.fields}}function Cj(s,i,r){const o=ou(s,i.name),a=Si(i.updateTime),c=new as({mapValue:{fields:i.fields}}),g=hr.newFoundDocument(o,a,c);return r&&g.setHasCommittedMutations(),r?g.setHasCommittedMutations():g}function LI(s,i){let r;if(i instanceof EC)r={update:Ej(s,i.key,i.value)};else if(i instanceof CC)r={delete:DC(s,i.key)};else if(i instanceof Th)r={update:Ej(s,i.key,i.data),updateMask:xW(i.fieldMask)};else{if(!(i instanceof aP))return yt();r={verify:DC(s,i.key)}}return i.fieldTransforms.length>0&&(r.updateTransforms=i.fieldTransforms.map(o=>function(a,c){const g=c.transform;if(g instanceof Ty)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof fg)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof pg)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof My)return{fieldPath:c.field.canonicalString(),increment:g.C};throw yt()}(0,o))),i.precondition.isNone||(r.currentDocument=void 0!==(a=i.precondition).updateTime?{updateTime:gW(s,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:yt()),r;var a}function xj(s,i){const r=i.currentDocument?void 0!==(a=i.currentDocument).updateTime?Jr.updateTime(Si(a.updateTime)):void 0!==a.exists?Jr.exists(a.exists):Jr.none():Jr.none(),o=i.updateTransforms?i.updateTransforms.map(a=>function(c,g){let _=null;"setToServerValue"in g?(Nt("REQUEST_TIME"===g.setToServerValue),_=new Ty):"appendMissingElements"in g?_=new fg(g.appendMissingElements.values||[]):"removeAllFromArray"in g?_=new pg(g.removeAllFromArray.values||[]):"increment"in g?_=new My(c,g.increment):yt();const b=qi.fromServerFormat(g.fieldPath);return new wC(b,_)}(s,a)):[];var a;if(i.update){const a=ou(s,i.update.name),c=new as({mapValue:{fields:i.update.fields}});if(i.updateMask){const g=new Cy((i.updateMask.fieldPaths||[]).map(S=>qi.fromServerFormat(S)));return new Th(a,c,g,r,o)}return new EC(a,c,r,o)}if(i.delete){const a=ou(s,i.delete);return new CC(a,r)}if(i.verify){const a=ou(s,i.verify);return new aP(a,r)}return yt()}function Aj(s,i){return{documents:[cP(s,i.path)]}}function Sj(s,i){const r={structuredQuery:{}},o=i.path;null!==i.collectionGroup?(r.parent=cP(s,o),r.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(r.parent=cP(s,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(_){if(0===_.length)return;const b=_.map(S=>function(T){if("=="===T.op){if(UG(T.value))return{unaryFilter:{field:Ry(T.field),op:"IS_NAN"}};if(BG(T.value))return{unaryFilter:{field:Ry(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(UG(T.value))return{unaryFilter:{field:Ry(T.field),op:"IS_NOT_NAN"}};if(BG(T.value))return{unaryFilter:{field:Ry(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ry(T.field),op:wW(T.op),value:T.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(i.filters);a&&(r.structuredQuery.where=a);const c=function(_){if(0!==_.length)return _.map(b=>{return{field:Ry((S=b).field),direction:bW(S.dir)};var S})}(i.orderBy);c&&(r.structuredQuery.orderBy=c);const g=(b=i.limit,s.D||dg(b)?b:{value:b});var b;return null!==g&&(r.structuredQuery.limit=g),i.startAt&&(r.structuredQuery.startAt=Tj(i.startAt)),i.endAt&&(r.structuredQuery.endAt=Tj(i.endAt)),r}function Dj(s){let i=bj(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Nt(1===o);const T=r.from[0];T.allDescendants?a=T.collectionId:i=i.child(T.collectionId)}let c=[];r.where&&(c=Ij(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(T=>{return new Sy(Oy((R=T).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let _=null;r.limit&&(_=function(T){let R;return R="object"==typeof T?T.value:T,dg(R)?null:R}(r.limit));let b=null;r.startAt&&(b=Mj(r.startAt));let S=null;return r.endAt&&(S=Mj(r.endAt)),qG(i,a,g,c,_,"F",b,S)}function Ij(s){return s?void 0!==s.unaryFilter?[CW(s)]:void 0!==s.fieldFilter?[EW(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(i=>Ij(i)).reduce((i,r)=>i.concat(r)):yt():[]}function Tj(s){return{before:s.before,values:s.position}}function Mj(s){return new yC(s.values||[],!!s.before)}function bW(s){return hW[s]}function wW(s){return fW[s]}function Ry(s){return{fieldPath:s.canonicalString()}}function Oy(s){return qi.fromServerFormat(s.fieldPath)}function EW(s){return Os.create(Oy(s.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return yt()}}(s.fieldFilter.op),s.fieldFilter.value)}function CW(s){switch(s.unaryFilter.op){case"IS_NAN":const i=Oy(s.unaryFilter.field);return Os.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Oy(s.unaryFilter.field);return Os.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oy(s.unaryFilter.field);return Os.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Oy(s.unaryFilter.field);return Os.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return yt()}}function xW(s){const i=[];return s.fields.forEach(r=>i.push(r.canonicalString())),{fieldPaths:i}}function Rj(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function rl(s){let i="";for(let r=0;r<s.length;r++)i.length>0&&(i=Oj(i)),i=AW(s.get(r),i);return Oj(i)}function AW(s,i){let r=i;const o=s.length;for(let a=0;a<o;a++){const c=s.charAt(a);switch(c){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=c}}return r}function Oj(s){return s+"\x01\x01"}function Ac(s){const i=s.length;if(Nt(i>=2),2===i)return Nt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),bn.emptyPath();const r=i-2,o=[];let a="";for(let c=0;c<i;){const g=s.indexOf("\x01",c);switch((g<0||g>r)&&yt(),s.charAt(g+1)){case"\x01":const _=s.substring(c,g);let b;0===a.length?b=_:(a+=_,b=a,a=""),o.push(b);break;case"\x10":a+=s.substring(c,g),a+="\0";break;case"\x11":a+=s.substring(c,g+1);break;default:yt()}c=g+2}return new bn(o)}class SW{constructor(i,r){this.seconds=i,this.nanoseconds=r}}class Lo{constructor(i,r,o){this.ownerId=i,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}Lo.store="owner",Lo.key="owner";class Mh{constructor(i,r,o){this.userId=i,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}Mh.store="mutationQueues",Mh.keyPath="userId";class tr{constructor(i,r,o,a,c){this.userId=i,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=a,this.mutations=c}}tr.store="mutations",tr.keyPath="batchId",tr.userMutationsIndex="userMutationsIndex",tr.userMutationsKeyPath=["userId","batchId"];class ls{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,r){return[i,rl(r)]}static key(i,r,o){return[i,rl(r),o]}}ls.store="documentMutations",ls.PLACEHOLDER=new ls;class DW{constructor(i,r){this.path=i,this.readTime=r}}class IW{constructor(i,r){this.path=i,this.version=r}}class Tr{constructor(i,r,o,a,c,g){this.unknownDocument=i,this.noDocument=r,this.document=o,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=g}}Tr.store="remoteDocuments",Tr.readTimeIndex="readTimeIndex",Tr.readTimeIndexPath="readTime",Tr.collectionReadTimeIndex="collectionReadTimeIndex",Tr.collectionReadTimeIndexPath=["parentPath","readTime"];class au{constructor(i){this.byteSize=i}}au.store="remoteDocumentGlobal",au.key="remoteDocumentGlobalKey";class oo{constructor(i,r,o,a,c,g,_){this.targetId=i,this.canonicalId=r,this.readTime=o,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=g,this.query=_}}oo.store="targets",oo.keyPath="targetId",oo.queryTargetsIndexName="queryTargetsIndex",oo.queryTargetsKeyPath=["canonicalId","targetId"];class Yi{constructor(i,r,o){this.targetId=i,this.path=r,this.sequenceNumber=o}}Yi.store="targetDocuments",Yi.keyPath=["targetId","path"],Yi.documentTargetsIndex="documentTargetsIndex",Yi.documentTargetsKeyPath=["path","targetId"];class Vo{constructor(i,r,o,a){this.highestTargetId=i,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=a}}Vo.key="targetGlobalKey",Vo.store="targetGlobal";class gg{constructor(i,r){this.collectionId=i,this.parent=r}}gg.store="collectionParents",gg.keyPath=["collectionId","parent"];class Sc{constructor(i,r,o,a){this.clientId=i,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=a}}Sc.store="clientMetadata",Sc.keyPath="clientId";class ky{constructor(i,r,o){this.bundleId=i,this.createTime=r,this.version=o}}ky.store="bundles",ky.keyPath="bundleId";class Ny{constructor(i,r,o){this.name=i,this.readTime=r,this.bundledQuery=o}}Ny.store="namedQueries",Ny.keyPath="name";const TW=[Mh.store,tr.store,ls.store,Tr.store,oo.store,Lo.store,Vo.store,Yi.store,Sc.store,au.store,gg.store,ky.store,Ny.store],kj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Pe{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(i){return this.next(void 0,i)}next(i,r){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(i,this.result):new Pe((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(i,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}})}toPromise(){return new Promise((i,r)=>{this.next(i,r)})}wrapUserFunction(i){try{const r=i();return r instanceof Pe?r:Pe.resolve(r)}catch(r){return Pe.reject(r)}}wrapSuccess(i,r){return i?this.wrapUserFunction(()=>i(r)):Pe.resolve(r)}wrapFailure(i,r){return i?this.wrapUserFunction(()=>i(r)):Pe.reject(r)}static resolve(i){return new Pe((r,o)=>{r(i)})}static reject(i){return new Pe((r,o)=>{o(i)})}static waitFor(i){return new Pe((r,o)=>{let a=0,c=0,g=!1;i.forEach(_=>{++a,_.next(()=>{++c,g&&c===a&&r()},b=>o(b))}),g=!0,c===a&&r()})}static or(i){let r=Pe.resolve(!1);for(const o of i)r=r.next(a=>a?Pe.resolve(a):o());return r}static forEach(i,r){const o=[];return i.forEach((a,c)=>{o.push(r.call(this,a,c))}),this.waitFor(o)}}class VI{constructor(i,r){this.action=i,this.transaction=r,this.aborted=!1,this.Tt=new Ci,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new TC(i,r.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const a=dP(o.target.error);this.Tt.reject(new TC(i,a))}}static open(i,r,o,a){try{return new VI(r,i.transaction(a,o))}catch(c){throw new TC(r,c)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(ze("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const r=this.transaction.objectStore(i);return new RW(r)}}class il{constructor(i,r,o){this.name=i,this.version=r,this.At=o,12.2===il.Rt((0,oe.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return ze("SimpleDb","Removing database:",i),_g(window.indexedDB.deleteDatabase(i)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(il.bt())return!0;const i=(0,oe.z$)(),r=il.Rt(i),o=0<r&&r<10,a=il.vt(i),c=0<a&&a<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||o||c)}static bt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,r){return i.store(r)}static Rt(i){const r=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(i){const r=i.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(i){var r=this;return(0,Ne.Z)(function*(){return r.db||(ze("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,a)=>{const c=indexedDB.open(r.name,r.version);c.onsuccess=g=>{o(g.target.result)},c.onblocked=()=>{a(new TC(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=g=>{const _=g.target.error;a("VersionError"===_.name?new Ve(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new TC(i,_))},c.onupgradeneeded=g=>{ze("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.At.Ct(g.target.result,c.transaction,g.oldVersion,r.version).next(()=>{ze("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=o=>r.Nt(o)),r.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=r=>i(r))}runTransaction(i,r,o,a){var c=this;return(0,Ne.Z)(function*(){const g="readonly"===r;let _=0;for(;;){++_;try{c.db=yield c.Dt(i);const b=VI.open(c.db,i,g?"readonly":"readwrite",o),S=a(b).catch(T=>(b.abort(T),Pe.reject(T))).toPromise();return S.catch(()=>{}),yield b.It,S}catch(b){const S="FirebaseError"!==b.name&&_<3;if(ze("SimpleDb","Transaction failed with error:",b.message,"Retrying:",S),c.close(),!S)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class MW{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return _g(this.kt.delete())}}class TC extends Ve{constructor(i,r){super(Te.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function mg(s){return"IndexedDbTransactionError"===s.name}class RW{constructor(i){this.store=i}put(i,r){let o;return void 0!==r?(ze("SimpleDb","PUT",this.store.name,i,r),o=this.store.put(r,i)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",i),o=this.store.put(i)),_g(o)}add(i){return ze("SimpleDb","ADD",this.store.name,i,i),_g(this.store.add(i))}get(i){return _g(this.store.get(i)).next(r=>(void 0===r&&(r=null),ze("SimpleDb","GET",this.store.name,i,r),r))}delete(i){return ze("SimpleDb","DELETE",this.store.name,i),_g(this.store.delete(i))}count(){return ze("SimpleDb","COUNT",this.store.name),_g(this.store.count())}Lt(i,r){const o=this.cursor(this.options(i,r)),a=[];return this.Bt(o,(c,g)=>{a.push(g)}).next(()=>a)}Ut(i,r){ze("SimpleDb","DELETE ALL",this.store.name);const o=this.options(i,r);o.qt=!1;const a=this.cursor(o);return this.Bt(a,(c,g,_)=>_.delete())}Kt(i,r){let o;r?o=i:(o={},r=i);const a=this.cursor(o);return this.Bt(a,r)}jt(i){const r=this.cursor({});return new Pe((o,a)=>{r.onerror=c=>{const g=dP(c.target.error);a(g)},r.onsuccess=c=>{const g=c.target.result;g?i(g.primaryKey,g.value).next(_=>{_?g.continue():o()}):o()}})}Bt(i,r){const o=[];return new Pe((a,c)=>{i.onerror=g=>{c(g.target.error)},i.onsuccess=g=>{const _=g.target.result;if(!_)return void a();const b=new MW(_),S=r(_.primaryKey,_.value,b);if(S instanceof Pe){const T=S.catch(R=>(b.done(),Pe.reject(R)));o.push(T)}b.isDone?a():null===b.Ft?_.continue():_.continue(b.Ft)}}).next(()=>Pe.waitFor(o))}options(i,r){let o;return void 0!==i&&("string"==typeof i?o=i:r=i),{index:o,range:r}}cursor(i){let r="next";if(i.reverse&&(r="prev"),i.index){const o=this.store.index(i.index);return i.qt?o.openKeyCursor(i.range,r):o.openCursor(i.range,r)}return this.store.openCursor(i.range,r)}}function _g(s){return new Pe((i,r)=>{s.onsuccess=o=>{i(o.target.result)},s.onerror=o=>{const a=dP(o.target.error);r(a)}})}let Fj=!1;function dP(s){const i=il.Rt((0,oe.z$)());if(i>=12.2&&i<13){const r="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(r)>=0){const o=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fj||(Fj=!0,setTimeout(()=>{throw o},0)),o}}return s}class Pj extends Nj{constructor(i,r){super(),this.Qt=i,this.currentSequenceNumber=r}}function ao(s,i){const r=Je(s);return il.St(r.Qt,i)}class hP{constructor(i,r,o,a){this.batchId=i,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(i,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(i.key)&&rW(c,i,o[a])}}applyToLocalView(i){for(const r of this.baseMutations)r.key.isEqual(i.key)&&oP(r,i,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(i.key)&&oP(r,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(r=>{const o=i.get(r.key),a=o;this.applyToLocalView(a),o.isValidDocument()||a.convertToNoDocument(Wt.min())})}keys(){return this.mutations.reduce((i,r)=>i.add(r.key),Nn())}isEqual(i){return this.batchId===i.batchId&&Ey(this.mutations,i.mutations,(r,o)=>ij(r,o))&&Ey(this.baseMutations,i.baseMutations,(r,o)=>ij(r,o))}}class fP{constructor(i,r,o,a){this.batch=i,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(i,r,o){Nt(i.mutations.length===o.length);let a=hj();const c=i.mutations;for(let g=0;g<c.length;g++)a=a.insert(c[g].key,o[g].version);return new fP(i,r,o,a)}}class Rh{constructor(i,r,o,a,c=Wt.min(),g=Wt.min(),_=Ai.EMPTY_BYTE_STRING){this.target=i,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=_}withSequenceNumber(i){return new Rh(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,r){return new Rh(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Rh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class Lj{constructor(i){this.Wt=i}}function pP(s,i){if(i.document)return Cj(s.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const r=mt.fromSegments(i.noDocument.path),o=Py(i.noDocument.readTime),a=hr.newNoDocument(r,o);return i.hasCommittedMutations?a.setHasCommittedMutations():a}if(i.unknownDocument){const r=mt.fromSegments(i.unknownDocument.path),o=Py(i.unknownDocument.version);return hr.newUnknownDocument(r,o)}return yt()}function Vj(s,i,r){const o=gP(r),a=i.key.path.popLast().toArray();if(i.isFoundDocument()){const c={name:DC(_=s.Wt,(b=i).key),fields:b.data.value.mapValue.fields,updateTime:SC(_,b.version.toTimestamp())};return new Tr(null,null,c,i.hasCommittedMutations,o,a)}var _,b;if(i.isNoDocument()){const c=i.key.path.toArray(),g=Fy(i.version),_=i.hasCommittedMutations;return new Tr(null,new DW(c,g),null,_,o,a)}if(i.isUnknownDocument()){const c=i.key.path.toArray(),g=Fy(i.version);return new Tr(new IW(c,g),null,null,!0,o,a)}return yt()}function gP(s){const i=s.toTimestamp();return[i.seconds,i.nanoseconds]}function Bj(s){const i=new xi(s[0],s[1]);return Wt.fromTimestamp(i)}function Fy(s){const i=s.toTimestamp();return new SW(i.seconds,i.nanoseconds)}function Py(s){const i=new xi(s.seconds,s.nanoseconds);return Wt.fromTimestamp(i)}function Ly(s,i){const r=(i.baseMutations||[]).map(c=>xj(s.Wt,c));for(let c=0;c<i.mutations.length-1;++c){const g=i.mutations[c];c+1<i.mutations.length&&void 0!==i.mutations[c+1].transform&&(g.updateTransforms=i.mutations[c+1].transform.fieldTransforms,i.mutations.splice(c+1,1),++c)}const o=i.mutations.map(c=>xj(s.Wt,c)),a=xi.fromMillis(i.localWriteTimeMs);return new hP(i.batchId,a,r,o)}function MC(s){const i=Py(s.readTime),r=void 0!==s.lastLimboFreeSnapshotVersion?Py(s.lastLimboFreeSnapshotVersion):Wt.min();let o;var a;return void 0!==s.query.documents?(Nt(1===(a=s.query).documents.length),o=fa(Dy(bj(a.documents[0])))):o=fa(Dj(s.query)),new Rh(o,s.targetId,0,s.lastListenSequenceNumber,i,r,Ai.fromBase64String(s.resumeToken))}function Uj(s,i){const r=Fy(i.snapshotVersion),o=Fy(i.lastLimboFreeSnapshotVersion);let a;a=DI(i.target)?Aj(s.Wt,i.target):Sj(s.Wt,i.target);const c=i.resumeToken.toBase64();return new oo(i.targetId,_C(i.target),r,c,i.sequenceNumber,o,a)}function mP(s){const i=Dj({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?WG(i,i.limit,"L"):i}class OW{getBundleMetadata(i,r){return Gj(i).get(r).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Py(a.createTime),version:a.version};var a})}saveBundleMetadata(i,r){return Gj(i).put({bundleId:(o=r).id,createTime:Fy(Si(o.createTime)),version:o.version});var o}getNamedQuery(i,r){return jj(i).get(r).next(o=>{if(o)return{name:(a=o).name,query:mP(a.bundledQuery),readTime:Py(a.readTime)};var a})}saveNamedQuery(i,r){return jj(i).put({name:(o=r).name,readTime:Fy(Si(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Gj(s){return ao(s,ky.store)}function jj(s){return ao(s,Ny.store)}class kW{constructor(){this.Gt=new _P}addToCollectionParentIndex(i,r){return this.Gt.add(r),Pe.resolve()}getCollectionParents(i,r){return Pe.resolve(this.Gt.getEntries(r))}}class _P{constructor(){this.index={}}add(i){const r=i.lastSegment(),o=i.popLast(),a=this.index[r]||new Ir(bn.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(i){const r=i.lastSegment(),o=i.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(i){return(this.index[i]||new Ir(bn.comparator)).toArray()}}class NW{constructor(){this.zt=new _P}addToCollectionParentIndex(i,r){if(!this.zt.has(r)){const o=r.lastSegment(),a=r.popLast();i.addOnCommittedListener(()=>{this.zt.add(r)});const c={collectionId:o,parent:rl(a)};return Hj(i).put(c)}return Pe.resolve()}getCollectionParents(i,r){const o=[],a=IDBKeyRange.bound([r,""],[kG(r),""],!1,!0);return Hj(i).Lt(a).next(c=>{for(const g of c){if(g.collectionId!==r)break;o.push(Ac(g.parent))}return o})}}function Hj(s){return ao(s,gg.store)}const $j={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(i,r,o){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(i){return new lo(i,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zj(s,i,r){const o=s.store(tr.store),a=s.store(ls.store),c=[],g=IDBKeyRange.only(r.batchId);let _=0;const b=o.Kt({range:g},(T,R,N)=>(_++,N.delete()));c.push(b.next(()=>{Nt(1===_)}));const S=[];for(const T of r.mutations){const R=ls.key(i,T.key.path,r.batchId);c.push(a.delete(R)),S.push(T.key)}return Pe.waitFor(c).next(()=>S)}function BI(s){if(!s)return 0;let i;if(s.document)i=s.document;else if(s.unknownDocument)i=s.unknownDocument;else{if(!s.noDocument)throw yt();i=s.noDocument}return JSON.stringify(i).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class yP{constructor(i,r,o,a){this.userId=i,this.N=r,this.Ht=o,this.referenceDelegate=a,this.Jt={}}static Yt(i,r,o,a){Nt(""!==i.uid);const c=i.isAuthenticated()?i.uid:"";return new yP(c,r,o,a)}checkEmpty(i){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oh(i).Kt({index:tr.userMutationsIndex,range:o},(a,c,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(i,r,o,a){const c=Vy(i),g=Oh(i);return g.add({}).next(_=>{Nt("number"==typeof _);const b=new hP(_,r,o,a),S=function(N,L,H){const ie=H.baseMutations.map(Le=>LI(N.Wt,Le)),we=H.mutations.map(Le=>LI(N.Wt,Le));return new tr(L,H.batchId,H.localWriteTime.toMillis(),ie,we)}(this.N,this.userId,b),T=[];let R=new Ir((N,L)=>ln(N.canonicalString(),L.canonicalString()));for(const N of a){const L=ls.key(this.userId,N.key.path,_);R=R.add(N.key.path.popLast()),T.push(g.put(S)),T.push(c.put(L,ls.PLACEHOLDER))}return R.forEach(N=>{T.push(this.Ht.addToCollectionParentIndex(i,N))}),i.addOnCommittedListener(()=>{this.Jt[_]=b.keys()}),Pe.waitFor(T).next(()=>b)})}lookupMutationBatch(i,r){return Oh(i).get(r).next(o=>o?(Nt(o.userId===this.userId),Ly(this.N,o)):null)}Xt(i,r){return this.Jt[r]?Pe.resolve(this.Jt[r]):this.lookupMutationBatch(i,r).next(o=>{if(o){const a=o.keys();return this.Jt[r]=a,a}return null})}getNextMutationBatchAfterBatchId(i,r){const o=r+1,a=IDBKeyRange.lowerBound([this.userId,o]);let c=null;return Oh(i).Kt({index:tr.userMutationsIndex,range:a},(g,_,b)=>{_.userId===this.userId&&(Nt(_.batchId>=o),c=Ly(this.N,_)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(i){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Oh(i).Kt({index:tr.userMutationsIndex,range:r,reverse:!0},(a,c,g)=>{o=c.batchId,g.done()}).next(()=>o)}getAllMutationBatches(i){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oh(i).Lt(tr.userMutationsIndex,r).next(o=>o.map(a=>Ly(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(i,r){const o=ls.prefixForPath(this.userId,r.path),a=IDBKeyRange.lowerBound(o),c=[];return Vy(i).Kt({range:a},(g,_,b)=>{const[S,T,R]=g,N=Ac(T);if(S===this.userId&&r.path.isEqual(N))return Oh(i).get(R).next(L=>{if(!L)throw yt();Nt(L.userId===this.userId),c.push(Ly(this.N,L))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(i,r){let o=new Ir(ln);const a=[];return r.forEach(c=>{const g=ls.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(g),b=Vy(i).Kt({range:_},(S,T,R)=>{const[N,L,H]=S,ie=Ac(L);N===this.userId&&c.path.isEqual(ie)?o=o.add(H):R.done()});a.push(b)}),Pe.waitFor(a).next(()=>this.Zt(i,o))}getAllMutationBatchesAffectingQuery(i,r){const o=r.path,a=o.length+1,c=ls.prefixForPath(this.userId,o),g=IDBKeyRange.lowerBound(c);let _=new Ir(ln);return Vy(i).Kt({range:g},(b,S,T)=>{const[R,N,L]=b,H=Ac(N);R===this.userId&&o.isPrefixOf(H)?H.length===a&&(_=_.add(L)):T.done()}).next(()=>this.Zt(i,_))}Zt(i,r){const o=[],a=[];return r.forEach(c=>{a.push(Oh(i).get(c).next(g=>{if(null===g)throw yt();Nt(g.userId===this.userId),o.push(Ly(this.N,g))}))}),Pe.waitFor(a).next(()=>o)}removeMutationBatch(i,r){return zj(i.Qt,this.userId,r).next(o=>(i.addOnCommittedListener(()=>{this.te(r.batchId)}),Pe.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(i,a))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(r=>{if(!r)return Pe.resolve();const o=IDBKeyRange.lowerBound(ls.prefixForUser(this.userId)),a=[];return Vy(i).Kt({range:o},(c,g,_)=>{if(c[0]===this.userId){const b=Ac(c[1]);a.push(b)}else _.done()}).next(()=>{Nt(0===a.length)})})}containsKey(i,r){return qj(i,this.userId,r)}ee(i){return Wj(i).get(this.userId).next(r=>r||new Mh(this.userId,-1,""))}}function qj(s,i,r){const o=ls.prefixForPath(i,r.path),a=o[1],c=IDBKeyRange.lowerBound(o);let g=!1;return Vy(s).Kt({range:c,qt:!0},(_,b,S)=>{const[T,R,N]=_;T===i&&R===a&&(g=!0),S.done()}).next(()=>g)}function Oh(s){return ao(s,tr.store)}function Vy(s){return ao(s,ls.store)}function Wj(s){return ao(s,Mh.store)}class yg{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new yg(0)}static ie(){return new yg(-1)}}class FW{constructor(i,r){this.referenceDelegate=i,this.N=r}allocateTargetId(i){return this.re(i).next(r=>{const o=new yg(r.highestTargetId);return r.highestTargetId=o.next(),this.oe(i,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(r=>Wt.fromTimestamp(new xi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(i,r,o){return this.re(i).next(a=>(a.highestListenSequenceNumber=r,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.oe(i,a)))}addTargetData(i,r){return this.ae(i,r).next(()=>this.re(i).next(o=>(o.targetCount+=1,this.ce(r,o),this.oe(i,o))))}updateTargetData(i,r){return this.ae(i,r)}removeTargetData(i,r){return this.removeMatchingKeysForTargetId(i,r.targetId).next(()=>By(i).delete(r.targetId)).next(()=>this.re(i)).next(o=>(Nt(o.targetCount>0),o.targetCount-=1,this.oe(i,o)))}removeTargets(i,r,o){let a=0;const c=[];return By(i).Kt((g,_)=>{const b=MC(_);b.sequenceNumber<=r&&null===o.get(b.targetId)&&(a++,c.push(this.removeTargetData(i,b)))}).next(()=>Pe.waitFor(c)).next(()=>a)}forEachTarget(i,r){return By(i).Kt((o,a)=>{const c=MC(a);r(c)})}re(i){return Yj(i).get(Vo.key).next(r=>(Nt(null!==r),r))}oe(i,r){return Yj(i).put(Vo.key,r)}ae(i,r){return By(i).put(Uj(this.N,r))}ce(i,r){let o=!1;return i.targetId>r.highestTargetId&&(r.highestTargetId=i.targetId,o=!0),i.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=i.sequenceNumber,o=!0),o}getTargetCount(i){return this.re(i).next(r=>r.targetCount)}getTargetData(i,r){const o=_C(r),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let c=null;return By(i).Kt({range:a,index:oo.queryTargetsIndexName},(g,_,b)=>{const S=MC(_);SI(r,S.target)&&(c=S,b.done())}).next(()=>c)}addMatchingKeys(i,r,o){const a=[],c=kh(i);return r.forEach(g=>{const _=rl(g.path);a.push(c.put(new Yi(o,_))),a.push(this.referenceDelegate.addReference(i,o,g))}),Pe.waitFor(a)}removeMatchingKeys(i,r,o){const a=kh(i);return Pe.forEach(r,c=>{const g=rl(c.path);return Pe.waitFor([a.delete([o,g]),this.referenceDelegate.removeReference(i,o,c)])})}removeMatchingKeysForTargetId(i,r){const o=kh(i),a=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(i,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),a=kh(i);let c=Nn();return a.Kt({range:o,qt:!0},(g,_,b)=>{const S=Ac(g[1]),T=new mt(S);c=c.add(T)}).next(()=>c)}containsKey(i,r){const o=rl(r.path),a=IDBKeyRange.bound([o],[kG(o)],!1,!0);let c=0;return kh(i).Kt({index:Yi.documentTargetsIndex,qt:!0,range:a},([g,_],b,S)=>{0!==g&&(c++,S.done())}).next(()=>c>0)}Et(i,r){return By(i).get(r).next(o=>o?MC(o):null)}}function By(s){return ao(s,oo.store)}function Yj(s){return ao(s,Vo.store)}function kh(s){return ao(s,Yi.store)}function vg(s){return vP.apply(this,arguments)}function vP(){return(vP=(0,Ne.Z)(function*(s){if(s.code!==Te.FAILED_PRECONDITION||s.message!==kj)throw s;ze("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Kj([s,i],[r,o]){const a=ln(s,r);return 0===a?ln(i,o):a}class PW{constructor(i){this.ue=i,this.buffer=new Ir(Kj),this.he=0}le(){return++this.he}fe(i){const r=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Kj(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class LW{constructor(i,r){this.garbageCollector=i,this.asyncQueue=r,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var r=this;const o=this.de?3e5:6e4;ze("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Ne.Z)(function*(){r.we=null,r.de=!0;try{yield i.collectGarbage(r.garbageCollector)}catch(a){mg(a)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield vg(a)}yield r._e(i)}))}}class VW{constructor(i,r){this.me=i,this.params=r}calculateTargetCount(i,r){return this.me.ge(i).next(o=>Math.floor(r/100*o))}nthSequenceNumber(i,r){if(0===r)return Pe.resolve(Po.T);const o=new PW(r);return this.me.forEachTarget(i,a=>o.fe(a.sequenceNumber)).next(()=>this.me.ye(i,a=>o.fe(a))).next(()=>o.maxValue)}removeTargets(i,r,o){return this.me.removeTargets(i,r,o)}removeOrphanedDocuments(i,r){return this.me.removeOrphanedDocuments(i,r)}collect(i,r){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve($j)):this.getCacheSize(i).next(o=>o<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$j):this.pe(i,r))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,r){let o,a,c,g,_,b,S;const T=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,g=Date.now(),this.nthSequenceNumber(i,a))).next(R=>(o=R,_=Date.now(),this.removeTargets(i,o,r))).next(R=>(c=R,b=Date.now(),this.removeOrphanedDocuments(i,o))).next(R=>(S=Date.now(),KF()<=di.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-T}ms\n\tDetermined least recently used ${a} in `+(_-g)+`ms\n\tRemoved ${c} targets in `+(b-_)+`ms\n\tRemoved ${R} documents in `+(S-b)+`ms\nTotal Duration: ${S-T}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}class BW{constructor(i,r){this.db=i,this.garbageCollector=new VW(this,r)}ge(i){const r=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(o=>r.next(a=>o+a))}Ee(i){let r=0;return this.ye(i,o=>{r++}).next(()=>r)}forEachTarget(i,r){return this.db.getTargetCache().forEachTarget(i,r)}ye(i,r){return this.Te(i,(o,a)=>r(a))}addReference(i,r,o){return UI(i,o)}removeReference(i,r,o){return UI(i,o)}removeTargets(i,r,o){return this.db.getTargetCache().removeTargets(i,r,o)}markPotentiallyOrphaned(i,r){return UI(i,r)}Ie(i,r){return function(o,a){let c=!1;return Wj(o).jt(g=>qj(o,g,a).next(_=>(_&&(c=!0),Pe.resolve(!_)))).next(()=>c)}(i,r)}removeOrphanedDocuments(i,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Te(i,(g,_)=>{if(_<=r){const b=this.Ie(i,g).next(S=>{if(!S)return c++,o.getEntry(i,g).next(()=>(o.removeEntry(g),kh(i).delete([0,rl(g.path)])))});a.push(b)}}).next(()=>Pe.waitFor(a)).next(()=>o.apply(i)).next(()=>c)}removeTarget(i,r){const o=r.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,o)}updateLimboDocument(i,r){return UI(i,r)}Te(i,r){const o=kh(i);let a,c=Po.T;return o.Kt({index:Yi.documentTargetsIndex},([g,_],{path:b,sequenceNumber:S})=>{0===g?(c!==Po.T&&r(new mt(Ac(a)),c),c=S,a=b):c=Po.T}).next(()=>{c!==Po.T&&r(new mt(Ac(a)),c)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function UI(s,i){return kh(s).put((o=s.currentSequenceNumber,new Yi(0,rl(i.path),o)));var o}class Uy{constructor(i,r){this.mapKeyFn=i,this.equalsFn=r,this.inner={}}get(i){const r=this.mapKeyFn(i),o=this.inner[r];if(void 0!==o)for(const[a,c]of o)if(this.equalsFn(a,i))return c}has(i){return void 0!==this.get(i)}set(i,r){const o=this.mapKeyFn(i),a=this.inner[o];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],i))return void(a[c]=[i,r]);a.push([i,r])}else this.inner[o]=[[i,r]]}delete(i){const r=this.mapKeyFn(i),o=this.inner[r];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],i))return 1===o.length?delete this.inner[r]:o.splice(a,1),!0;return!1}forEach(i){cg(this.inner,(r,o)=>{for(const[a,c]of o)i(a,c)})}isEmpty(){return FG(this.inner)}}class Zj{constructor(){this.changes=new Uy(i=>i.toString(),(i,r)=>i.isEqual(r)),this.changesApplied=!1}getReadTime(i){const r=this.changes.get(i);return r?r.readTime:Wt.min()}addEntry(i,r){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:r})}removeEntry(i,r=null){this.assertNotApplied(),this.changes.set(i,{document:hr.newInvalidDocument(i),readTime:r})}getEntry(i,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Pe.resolve(o.document):this.getFromCache(i,r)}getEntries(i,r){return this.getAllFromCache(i,r)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class UW{constructor(i,r){this.N=i,this.Ht=r}addEntry(i,r,o){return Nh(i).put(GI(r),o)}removeEntry(i,r){const o=Nh(i),a=GI(r);return o.delete(a)}updateMetadata(i,r){return this.getMetadata(i).next(o=>(o.byteSize+=r,this.Ae(i,o)))}getEntry(i,r){return Nh(i).get(GI(r)).next(o=>this.Re(r,o))}Pe(i,r){return Nh(i).get(GI(r)).next(o=>({document:this.Re(r,o),size:BI(o)}))}getEntries(i,r){let o=pa();return this.be(i,r,(a,c)=>{const g=this.Re(a,c);o=o.insert(a,g)}).next(()=>o)}ve(i,r){let o=pa(),a=new fi(mt.comparator);return this.be(i,r,(c,g)=>{const _=this.Re(c,g);o=o.insert(c,_),a=a.insert(c,BI(g))}).next(()=>({documents:o,Ve:a}))}be(i,r,o){if(r.isEmpty())return Pe.resolve();const a=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),c=r.getIterator();let g=c.getNext();return Nh(i).Kt({range:a},(_,b,S)=>{const T=mt.fromSegments(_);for(;g&&mt.comparator(g,T)<0;)o(g,null),g=c.getNext();g&&g.isEqual(T)&&(o(g,b),g=c.hasNext()?c.getNext():null),g?S.Mt(g.path.toArray()):S.done()}).next(()=>{for(;g;)o(g,null),g=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(i,r,o){let a=pa();const c=r.path.length+1,g={};if(o.isEqual(Wt.min())){const _=r.path.toArray();g.range=IDBKeyRange.lowerBound(_)}else{const _=r.path.toArray(),b=gP(o);g.range=IDBKeyRange.lowerBound([_,b],!0),g.index=Tr.collectionReadTimeIndex}return Nh(i).Kt(g,(_,b,S)=>{if(_.length!==c)return;const T=pP(this.N,b);r.path.isPrefixOf(T.key.path)?bC(r,T)&&(a=a.insert(T.key,T)):S.done()}).next(()=>a)}newChangeBuffer(i){return new GW(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(r=>r.byteSize)}getMetadata(i){return Qj(i).get(au.key).next(r=>(Nt(!!r),r))}Ae(i,r){return Qj(i).put(au.key,r)}Re(i,r){if(r){const o=pP(this.N,r);if(!o.isNoDocument()||!o.version.isEqual(Wt.min()))return o}return hr.newInvalidDocument(i)}}class GW extends Zj{constructor(i,r){super(),this.Se=i,this.trackRemovals=r,this.De=new Uy(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(i){const r=[];let o=0,a=new Ir((c,g)=>ln(c.canonicalString(),g.canonicalString()));return this.changes.forEach((c,g)=>{const _=this.De.get(c);if(g.document.isValidDocument()){const b=Vj(this.Se.N,g.document,this.getReadTime(c));a=a.add(c.path.popLast()),o+=BI(b)-_,r.push(this.Se.addEntry(i,c,b))}else if(o-=_,this.trackRemovals){const b=Vj(this.Se.N,hr.newNoDocument(c,Wt.min()),this.getReadTime(c));r.push(this.Se.addEntry(i,c,b))}else r.push(this.Se.removeEntry(i,c))}),a.forEach(c=>{r.push(this.Se.Ht.addToCollectionParentIndex(i,c))}),r.push(this.Se.updateMetadata(i,o)),Pe.waitFor(r)}getFromCache(i,r){return this.Se.Pe(i,r).next(o=>(this.De.set(r,o.size),o.document))}getAllFromCache(i,r){return this.Se.ve(i,r).next(({documents:o,Ve:a})=>(a.forEach((c,g)=>{this.De.set(c,g)}),o))}}function Qj(s){return ao(s,au.store)}function Nh(s){return ao(s,Tr.store)}function GI(s){return s.path.toArray()}class jW{constructor(i){this.N=i}Ct(i,r,o,a){Nt(o<a&&o>=0&&a<=11);const c=new VI("createOrUpgrade",r);var _;o<1&&a>=1&&(i.createObjectStore(Lo.store),(_=i).createObjectStore(Mh.store,{keyPath:Mh.keyPath}),_.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0}),_.createObjectStore(ls.store),Jj(i),function(_){_.createObjectStore(Tr.store)}(i));let g=Pe.resolve();return o<3&&a>=3&&(0!==o&&(function(_){_.deleteObjectStore(Yi.store),_.deleteObjectStore(oo.store),_.deleteObjectStore(Vo.store)}(i),Jj(i)),g=g.next(()=>function(_){const b=_.store(Vo.store),S=new Vo(0,0,Wt.min().toTimestamp(),0);return b.put(Vo.key,S)}(c))),o<4&&a>=4&&(0!==o&&(g=g.next(()=>function(_,b){return b.store(tr.store).Lt().next(S=>{_.deleteObjectStore(tr.store),_.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0});const T=b.store(tr.store),R=S.map(N=>T.put(N));return Pe.waitFor(R)})}(i,c))),g=g.next(()=>{!function(_){_.createObjectStore(Sc.store,{keyPath:Sc.keyPath})}(i)})),o<5&&a>=5&&(g=g.next(()=>this.Ce(c))),o<6&&a>=6&&(g=g.next(()=>(function(_){_.createObjectStore(au.store)}(i),this.Ne(c)))),o<7&&a>=7&&(g=g.next(()=>this.xe(c))),o<8&&a>=8&&(g=g.next(()=>this.ke(i,c))),o<9&&a>=9&&(g=g.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(i),function(_){const b=_.objectStore(Tr.store);b.createIndex(Tr.readTimeIndex,Tr.readTimeIndexPath,{unique:!1}),b.createIndex(Tr.collectionReadTimeIndex,Tr.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&a>=10&&(g=g.next(()=>this.$e(c))),o<11&&a>=11&&(g=g.next(()=>{(function(_){_.createObjectStore(ky.store,{keyPath:ky.keyPath})})(i),function(_){_.createObjectStore(Ny.store,{keyPath:Ny.keyPath})}(i)})),g}Ne(i){let r=0;return i.store(Tr.store).Kt((o,a)=>{r+=BI(a)}).next(()=>{const o=new au(r);return i.store(au.store).put(au.key,o)})}Ce(i){const r=i.store(Mh.store),o=i.store(tr.store);return r.Lt().next(a=>Pe.forEach(a,c=>{const g=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.Lt(tr.userMutationsIndex,g).next(_=>Pe.forEach(_,b=>{Nt(b.userId===c.userId);const S=Ly(this.N,b);return zj(i,c.userId,S).next(()=>{})}))}))}xe(i){const r=i.store(Yi.store),o=i.store(Tr.store);return i.store(Vo.store).get(Vo.key).next(a=>{const c=[];return o.Kt((g,_)=>{const b=new bn(g),S=[0,rl(b)];c.push(r.get(S).next(T=>T?Pe.resolve():r.put(new Yi(0,rl(b),a.highestListenSequenceNumber))))}).next(()=>Pe.waitFor(c))})}ke(i,r){i.createObjectStore(gg.store,{keyPath:gg.keyPath});const o=r.store(gg.store),a=new _P,c=g=>{if(a.add(g)){const _=g.lastSegment(),b=g.popLast();return o.put({collectionId:_,parent:rl(b)})}};return r.store(Tr.store).Kt({qt:!0},(g,_)=>{const b=new bn(g);return c(b.popLast())}).next(()=>r.store(ls.store).Kt({qt:!0},([g,_,b],S)=>{const T=Ac(_);return c(T.popLast())}))}$e(i){const r=i.store(oo.store);return r.Kt((o,a)=>{const c=MC(a),g=Uj(this.N,c);return r.put(g)})}}function Jj(s){s.createObjectStore(Yi.store,{keyPath:Yi.keyPath}).createIndex(Yi.documentTargetsIndex,Yi.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(oo.store,{keyPath:oo.keyPath}).createIndex(oo.queryTargetsIndexName,oo.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Vo.store)}const bP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wP{constructor(i,r,o,a,c,g,_,b,S,T){if(this.allowTabSynchronization=i,this.persistenceKey=r,this.clientId=o,this.Oe=c,this.window=g,this.document=_,this.Fe=S,this.Me=T,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=R=>Promise.resolve(),!wP.Pt())throw new Ve(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BW(this,a),this.We=r+"main",this.N=new Lj(b),this.Ge=new il(this.We,11,new jW(this.N)),this.ze=new FW(this.referenceDelegate,this.N),this.Ht=new NW,this.He=new UW(this.N,this.Ht),this.Je=new OW,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===T&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(Te.FAILED_PRECONDITION,bP);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new Po(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var r=this;return this.Qe=function(){var o=(0,Ne.Z)(function*(a){if(r.started)return i(a)});return function(a){return o.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var r=(0,Ne.Z)(function*(o){null===o.newVersion&&(yield i())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(i){var r=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,Ne.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>jI(i).put(new Sc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(r=>this.isPrimary&&!r?this.on(i).next(()=>!1):!!r&&this.an(i).next(()=>!0))).catch(i=>{if(mg(i))return ze("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return RC(i).get(Lo.key).next(r=>Pe.resolve(this.cn(r)))}un(i){return jI(i).delete(this.clientId)}hn(){var i=this;return(0,Ne.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const r=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=ao(o,Sc.store);return a.Lt().next(c=>{const g=i.fn(c,18e5),_=c.filter(b=>-1===g.indexOf(b));return Pe.forEach(_,b=>a.delete(b.clientId)).next(()=>_)})}).catch(()=>[]);if(i.Ye)for(const o of r)i.Ye.removeItem(i.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Pe.resolve(!0):RC(i).get(Lo.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ve(Te.FAILED_PRECONDITION,bP);return!1}}return!(!this.networkEnabled||!this.inForeground)||jI(i).Lt().next(o=>void 0===this.fn(o,5e3).find(a=>{if(this.clientId!==a.clientId){const g=!this.inForeground&&a.inForeground,_=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||g&&_)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&ze("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var i=this;return(0,Ne.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[Lo.store,Sc.store],r=>{const o=new Pj(r,Po.T);return i.on(o).next(()=>i.un(o))}),i.Ge.close(),i.yn()})()}fn(i,r){return i.filter(o=>this.ln(o.updateTimeMs,r)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>jI(i).Lt().next(r=>this.fn(r,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(i){return yP.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,r,o){let c;return ze("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===r?"readonly":"readwrite",TW,g=>(c=new Pj(g,this.Le?this.Le.next():Po.T),"readwrite-primary"===r?this.sn(c).next(_=>!!_||this.rn(c)).next(_=>{if(!_)throw Zr(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ve(Te.FAILED_PRECONDITION,kj);return o(c)}).next(_=>this.an(c).next(()=>_)):this.En(c).next(()=>o(c)))).then(g=>(c.raiseOnCommittedEvent(),g))}En(i){return RC(i).get(Lo.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ve(Te.FAILED_PRECONDITION,bP)})}an(i){const r=new Lo(this.clientId,this.allowTabSynchronization,Date.now());return RC(i).put(Lo.key,r)}static Pt(){return il.Pt()}on(i){const r=RC(i);return r.get(Lo.key).next(o=>this.cn(o)?(ze("IndexedDbPersistence","Releasing primary lease."),r.delete(Lo.key)):Pe.resolve())}ln(i,r){const o=Date.now();return!(i<o-r||i>o&&(Zr(`Detected an update time that is in the future: ${i} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,oe.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var r;try{const o=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(i)));return ze("IndexedDbPersistence",`Client '${i}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Zr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){Zr("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function RC(s){return ao(s,Lo.store)}function jI(s){return ao(s,Sc.store)}function EP(s,i){let r=s.projectId;return s.isDefaultDatabase||(r+="."+s.database),"firestore/"+i+"/"+r+"/"}class HW{constructor(i,r){this.progress=i,this.Tn=r}}class Xj{constructor(i,r,o){this.He=i,this.In=r,this.Ht=o}An(i,r){return this.In.getAllMutationBatchesAffectingDocumentKey(i,r).next(o=>this.Rn(i,r,o))}Rn(i,r,o){return this.He.getEntry(i,r).next(a=>{for(const c of o)c.applyToLocalView(a);return a})}Pn(i,r){i.forEach((o,a)=>{for(const c of r)c.applyToLocalView(a)})}bn(i,r){return this.He.getEntries(i,r).next(o=>this.vn(i,o).next(()=>o))}vn(i,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,r).next(o=>this.Pn(r,o))}getDocumentsMatchingQuery(i,r,o){return mt.isDocumentKey((a=r).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(i,r.path):iP(r)?this.Sn(i,r,o):this.Dn(i,r,o);var a}Vn(i,r){return this.An(i,new mt(r)).next(o=>{let a=lP();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}Sn(i,r,o){const a=r.collectionGroup;let c=lP();return this.Ht.getCollectionParents(i,a).next(g=>Pe.forEach(g,_=>{const b=(S=r,T=_.child(a),new xc(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,T;return this.Dn(i,b,o).next(S=>{S.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}Dn(i,r,o){let a,c;return this.He.getDocumentsMatchingQuery(i,r,o).next(g=>(a=g,this.In.getAllMutationBatchesAffectingQuery(i,r))).next(g=>(c=g,this.Cn(i,c,a).next(_=>{a=_;for(const b of c)for(const S of b.mutations){const T=S.key;let R=a.get(T);null==R&&(R=hr.newInvalidDocument(T),a=a.insert(T,R)),oP(S,R,b.localWriteTime),R.isFoundDocument()||(a=a.remove(T))}}))).next(()=>(a.forEach((g,_)=>{bC(r,_)||(a=a.remove(g))}),a))}Cn(i,r,o){let a=Nn();for(const g of r)for(const _ of g.mutations)_ instanceof Th&&null===o.get(_.key)&&(a=a.add(_.key));let c=o;return this.He.getEntries(i,a).next(g=>(g.forEach((_,b)=>{b.isFoundDocument()&&(c=c.insert(_,b))}),c))}}class CP{constructor(i,r,o,a){this.targetId=i,this.fromCache=r,this.Nn=o,this.xn=a}static kn(i,r){let o=Nn(),a=Nn();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new CP(i,r.fromCache,o,a)}}class eH{$n(i){this.On=i}getDocumentsMatchingQuery(i,r,o,a){return 0===(c=r).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||o.isEqual(Wt.min())?this.Fn(i,r):this.On.bn(i,a).next(c=>{const g=this.Mn(r,c);return(TI(r)||MI(r))&&this.Ln(r.limitType,g,a,o)?this.Fn(i,r):(KF()<=di.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sP(r)),this.On.getDocumentsMatchingQuery(i,r,o).next(_=>(g.forEach(b=>{_=_.insert(b.key,b)}),_)))});var c}Mn(i,r){let o=new Ir(KG(i));return r.forEach((a,c)=>{bC(i,c)&&(o=o.add(c))}),o}Ln(i,r,o,a){if(o.size!==r.size)return!0;const c="F"===i?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fn(i,r){return KF()<=di.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",sP(r)),this.On.getDocumentsMatchingQuery(i,r,Wt.min())}}class $W{constructor(i,r,o,a){this.persistence=i,this.Bn=r,this.N=a,this.Un=new fi(ln),this.qn=new Uy(c=>_C(c),SI),this.Kn=Wt.min(),this.In=i.getMutationQueue(o),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new Xj(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>i.collect(r,this.Un))}}function tH(s,i,r,o){return new $W(s,i,r,o)}function nH(s,i){return xP.apply(this,arguments)}function xP(){return(xP=(0,Ne.Z)(function*(s,i){const r=Je(s);let o=r.In,a=r.Qn;const c=yield r.persistence.runTransaction("Handle user change","readonly",g=>{let _;return r.In.getAllMutationBatches(g).next(b=>(_=b,o=r.persistence.getMutationQueue(i),a=new Xj(r.jn,o,r.persistence.getIndexManager()),o.getAllMutationBatches(g))).next(b=>{const S=[],T=[];let R=Nn();for(const N of _){S.push(N.batchId);for(const L of N.mutations)R=R.add(L.key)}for(const N of b){T.push(N.batchId);for(const L of N.mutations)R=R.add(L.key)}return a.bn(g,R).next(N=>({Wn:N,removedBatchIds:S,addedBatchIds:T}))})});return r.In=o,r.Qn=a,r.Bn.$n(r.Qn),c})).apply(this,arguments)}function zW(s,i){const r=Je(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=i.batch.keys(),c=r.jn.newChangeBuffer({trackRemovals:!0});return function(g,_,b,S){const T=b.batch,R=T.keys();let N=Pe.resolve();return R.forEach(L=>{N=N.next(()=>S.getEntry(_,L)).next(H=>{const ie=b.docVersions.get(L);Nt(null!==ie),H.version.compareTo(ie)<0&&(T.applyToRemoteDocument(H,b),H.isValidDocument()&&S.addEntry(H,b.commitVersion))})}),N.next(()=>g.In.removeMutationBatch(_,T))}(r,o,i,c).next(()=>c.apply(o)).next(()=>r.In.performConsistencyCheck(o)).next(()=>r.Qn.bn(o,a))})}function rH(s){const i=Je(s);return i.persistence.runTransaction("Get last remote snapshot version","readonly",r=>i.ze.getLastRemoteSnapshotVersion(r))}function qW(s,i){const r=Je(s),o=i.snapshotVersion;let a=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const g=r.jn.newChangeBuffer({trackRemovals:!0});a=r.Un;const _=[];i.targetChanges.forEach((S,T)=>{const R=a.get(T);if(!R)return;_.push(r.ze.removeMatchingKeys(c,S.removedDocuments,T).next(()=>r.ze.addMatchingKeys(c,S.addedDocuments,T)));const N=S.resumeToken;if(N.approximateByteSize()>0){const L=R.withResumeToken(N,o).withSequenceNumber(c.currentSequenceNumber);a=a.insert(T,L),H=R,we=S,Nt((ie=L).resumeToken.approximateByteSize()>0),(0===H.resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||we.addedDocuments.size+we.modifiedDocuments.size+we.removedDocuments.size>0)&&_.push(r.ze.updateTargetData(c,L))}var H,ie,we});let b=pa();if(i.documentUpdates.forEach((S,T)=>{i.resolvedLimboDocuments.has(S)&&_.push(r.persistence.referenceDelegate.updateLimboDocument(c,S))}),_.push(iH(c,g,i.documentUpdates,o,void 0).next(S=>{b=S})),!o.isEqual(Wt.min())){const S=r.ze.getLastRemoteSnapshotVersion(c).next(T=>r.ze.setTargetsMetadata(c,c.currentSequenceNumber,o));_.push(S)}return Pe.waitFor(_).next(()=>g.apply(c)).next(()=>r.Qn.vn(c,b)).next(()=>b)}).then(c=>(r.Un=a,c))}function iH(s,i,r,o,a){let c=Nn();return r.forEach(g=>c=c.add(g)),i.getEntries(s,c).next(g=>{let _=pa();return r.forEach((b,S)=>{const T=g.get(b),R=(null==a?void 0:a.get(b))||o;S.isNoDocument()&&S.version.isEqual(Wt.min())?(i.removeEntry(b,R),_=_.insert(b,S)):!T.isValidDocument()||S.version.compareTo(T.version)>0||0===S.version.compareTo(T.version)&&T.hasPendingWrites?(i.addEntry(S,R),_=_.insert(b,S)):ze("LocalStore","Ignoring outdated watch update for ",b,". Current version:",T.version," Watch version:",S.version)}),_})}function WW(s,i){const r=Je(s);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===i&&(i=-1),r.In.getNextMutationBatchAfterBatchId(o,i)))}function Gy(s,i){const r=Je(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.ze.getTargetData(o,i).next(c=>c?(a=c,Pe.resolve(a)):r.ze.allocateTargetId(o).next(g=>(a=new Rh(i,g,0,o.currentSequenceNumber),r.ze.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.Un.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Un=r.Un.insert(o.targetId,o),r.qn.set(i,o.targetId)),o})}function jy(s,i,r){return AP.apply(this,arguments)}function AP(){return(AP=(0,Ne.Z)(function*(s,i,r){const o=Je(s),a=o.Un.get(i),c=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",c,g=>o.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!mg(g))throw g;ze("LocalStore",`Failed to update sequence numbers for target ${i}: ${g}`)}o.Un=o.Un.remove(i),o.qn.delete(a.target)})).apply(this,arguments)}function HI(s,i,r){const o=Je(s);let a=Wt.min(),c=Nn();return o.persistence.runTransaction("Execute query","readonly",g=>function(_,b,S){const T=Je(_),R=T.qn.get(S);return void 0!==R?Pe.resolve(T.Un.get(R)):T.ze.getTargetData(b,S)}(o,g,fa(i)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(g,_.targetId).next(b=>{c=b})}).next(()=>o.Bn.getDocumentsMatchingQuery(g,i,r?a:Wt.min(),r?c:Nn())).next(_=>({documents:_,Gn:c})))}function sH(s,i){const r=Je(s),o=Je(r.ze),a=r.Un.get(i);return a?Promise.resolve(a.target):r.persistence.runTransaction("Get target data","readonly",c=>o.Et(c,i).next(g=>g?g.target:null))}function oH(s){const i=Je(s);return i.persistence.runTransaction("Get new document changes","readonly",r=>function(o,a,c){const g=Je(o);let _=pa(),b=gP(c);const S=Nh(a),T=IDBKeyRange.lowerBound(b,!0);return S.Kt({index:Tr.readTimeIndex,range:T},(R,N)=>{const L=pP(g.N,N);_=_.insert(L.key,L),b=N.readTime}).next(()=>({Tn:_,readTime:Bj(b)}))}(i.jn,r,i.Kn)).then(({Tn:r,readTime:o})=>(i.Kn=o,r))}function SP(){return(SP=(0,Ne.Z)(function*(s){const i=Je(s);return i.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const a=Nh(o);let c=Wt.min();return a.Kt({index:Tr.readTimeIndex,reverse:!0},(g,_,b)=>{_.readTime&&(c=Bj(_.readTime)),b.done()}).next(()=>c)}(r)).then(r=>{i.Kn=r})})).apply(this,arguments)}function DP(){return(DP=(0,Ne.Z)(function*(s,i,r,o){const a=Je(s);let c=Nn(),g=pa(),_=hj();for(const T of r){const R=i.zn(T.metadata.name);T.document&&(c=c.add(R)),g=g.insert(R,i.Hn(T)),_=_.insert(R,i.Jn(T.metadata.readTime))}const b=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield Gy(a,(T=o,fa(Dy(bn.fromString(`__bundle__/docs/${T}`)))));var T;return a.persistence.runTransaction("Apply bundle documents","readwrite",T=>iH(T,b,g,Wt.min(),_).next(R=>(b.apply(T),R)).next(R=>a.ze.removeMatchingKeysForTargetId(T,S.targetId).next(()=>a.ze.addMatchingKeys(T,c,S.targetId)).next(()=>a.Qn.vn(T,R)).next(()=>R)))})).apply(this,arguments)}function ZW(s,i){return IP.apply(this,arguments)}function IP(){return(IP=(0,Ne.Z)(function*(s,i,r=Nn()){const o=yield Gy(s,fa(mP(i.bundledQuery))),a=Je(s);return a.persistence.runTransaction("Save named query","readwrite",c=>{const g=Si(i.readTime);if(o.snapshotVersion.compareTo(g)>=0)return a.Je.saveNamedQuery(c,i);const _=o.withResumeToken(Ai.EMPTY_BYTE_STRING,g);return a.Un=a.Un.insert(_.targetId,_),a.ze.updateTargetData(c,_).next(()=>a.ze.removeMatchingKeysForTargetId(c,o.targetId)).next(()=>a.ze.addMatchingKeys(c,r,o.targetId)).next(()=>a.Je.saveNamedQuery(c,i))})})).apply(this,arguments)}class QW{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,r){return Pe.resolve(this.Yn.get(r))}saveBundleMetadata(i,r){var o;return this.Yn.set(r.id,{id:(o=r).id,version:o.version,createTime:Si(o.createTime)}),Pe.resolve()}getNamedQuery(i,r){return Pe.resolve(this.Xn.get(r))}saveNamedQuery(i,r){return this.Xn.set(r.name,{name:(o=r).name,query:mP(o.bundledQuery),readTime:Si(o.readTime)}),Pe.resolve();var o}}class TP{constructor(){this.Zn=new Ir(Di.ts),this.es=new Ir(Di.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,r){const o=new Di(i,r);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(i,r){i.forEach(o=>this.addReference(o,r))}removeReference(i,r){this.rs(new Di(i,r))}os(i,r){i.forEach(o=>this.removeReference(o,r))}cs(i){const r=new mt(new bn([])),o=new Di(r,i),a=new Di(r,i+1),c=[];return this.es.forEachInRange([o,a],g=>{this.rs(g),c.push(g.key)}),c}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const r=new mt(new bn([])),o=new Di(r,i),a=new Di(r,i+1);let c=Nn();return this.es.forEachInRange([o,a],g=>{c=c.add(g.key)}),c}containsKey(i){const r=new Di(i,0),o=this.Zn.firstAfterOrEqual(r);return null!==o&&i.isEqual(o.key)}}class Di{constructor(i,r){this.key=i,this.ls=r}static ts(i,r){return mt.comparator(i.key,r.key)||ln(i.ls,r.ls)}static ns(i,r){return ln(i.ls,r.ls)||mt.comparator(i.key,r.key)}}class JW{constructor(i,r){this.Ht=i,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Ir(Di.ts)}checkEmpty(i){return Pe.resolve(0===this.In.length)}addMutationBatch(i,r,o,a){const c=this.fs;this.fs++;const g=new hP(c,r,o,a);this.In.push(g);for(const _ of a)this.ds=this.ds.add(new Di(_.key,c)),this.Ht.addToCollectionParentIndex(i,_.key.path.popLast());return Pe.resolve(g)}lookupMutationBatch(i,r){return Pe.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(i,r){const a=this._s(r+1),c=a<0?0:a;return Pe.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Pe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,r){const o=new Di(r,0),a=new Di(r,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([o,a],g=>{const _=this.ws(g.ls);c.push(_)}),Pe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(i,r){let o=new Ir(ln);return r.forEach(a=>{const c=new Di(a,0),g=new Di(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,g],_=>{o=o.add(_.ls)})}),Pe.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(i,r){const o=r.path,a=o.length+1;let c=o;mt.isDocumentKey(c)||(c=c.child(""));const g=new Di(new mt(c),0);let _=new Ir(ln);return this.ds.forEachWhile(b=>{const S=b.key.path;return!!o.isPrefixOf(S)&&(S.length===a&&(_=_.add(b.ls)),!0)},g),Pe.resolve(this.gs(_))}gs(i){const r=[];return i.forEach(o=>{const a=this.ws(o);null!==a&&r.push(a)}),r}removeMutationBatch(i,r){Nt(0===this.ys(r.batchId,"removed")),this.In.shift();let o=this.ds;return Pe.forEach(r.mutations,a=>{const c=new Di(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(i,a.key)}).next(()=>{this.ds=o})}te(i){}containsKey(i,r){const o=new Di(r,0),a=this.ds.firstAfterOrEqual(o);return Pe.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(i){return Pe.resolve()}ys(i,r){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const r=this._s(i);return r<0||r>=this.In.length?null:this.In[r]}}class XW{constructor(i,r){this.Ht=i,this.ps=r,this.docs=new fi(mt.comparator),this.size=0}addEntry(i,r,o){const a=r.key,c=this.docs.get(a),g=c?c.size:0,_=this.ps(r);return this.docs=this.docs.insert(a,{document:r.clone(),size:_,readTime:o}),this.size+=_-g,this.Ht.addToCollectionParentIndex(i,a.path.popLast())}removeEntry(i){const r=this.docs.get(i);r&&(this.docs=this.docs.remove(i),this.size-=r.size)}getEntry(i,r){const o=this.docs.get(r);return Pe.resolve(o?o.document.clone():hr.newInvalidDocument(r))}getEntries(i,r){let o=pa();return r.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.clone():hr.newInvalidDocument(a))}),Pe.resolve(o)}getDocumentsMatchingQuery(i,r,o){let a=pa();const c=new mt(r.path.child("")),g=this.docs.getIteratorFrom(c);for(;g.hasNext();){const{key:_,value:{document:b,readTime:S}}=g.getNext();if(!r.path.isPrefixOf(_.path))break;S.compareTo(o)<=0||bC(r,b)&&(a=a.insert(b.key,b.clone()))}return Pe.resolve(a)}Es(i,r){return Pe.forEach(this.docs,o=>r(o))}newChangeBuffer(i){return new eY(this)}getSize(i){return Pe.resolve(this.size)}}class eY extends Zj{constructor(i){super(),this.Se=i}applyChanges(i){const r=[];return this.changes.forEach((o,a)=>{a.document.isValidDocument()?r.push(this.Se.addEntry(i,a.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Pe.waitFor(r)}getFromCache(i,r){return this.Se.getEntry(i,r)}getAllFromCache(i,r){return this.Se.getEntries(i,r)}}class tY{constructor(i){this.persistence=i,this.Ts=new Uy(r=>_C(r),SI),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Is=0,this.As=new TP,this.targetCount=0,this.Rs=yg.se()}forEachTarget(i,r){return this.Ts.forEach((o,a)=>r(a)),Pe.resolve()}getLastRemoteSnapshotVersion(i){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Pe.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(i,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Is&&(this.Is=r),Pe.resolve()}ae(i){this.Ts.set(i.target,i);const r=i.targetId;r>this.highestTargetId&&(this.Rs=new yg(r),this.highestTargetId=r),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,r){return this.ae(r),this.targetCount+=1,Pe.resolve()}updateTargetData(i,r){return this.ae(r),Pe.resolve()}removeTargetData(i,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(i,r,o){let a=0;const c=[];return this.Ts.forEach((g,_)=>{_.sequenceNumber<=r&&null===o.get(_.targetId)&&(this.Ts.delete(g),c.push(this.removeMatchingKeysForTargetId(i,_.targetId)),a++)}),Pe.waitFor(c).next(()=>a)}getTargetCount(i){return Pe.resolve(this.targetCount)}getTargetData(i,r){const o=this.Ts.get(r)||null;return Pe.resolve(o)}addMatchingKeys(i,r,o){return this.As.ss(r,o),Pe.resolve()}removeMatchingKeys(i,r,o){this.As.os(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach(g=>{c.push(a.markPotentiallyOrphaned(i,g))}),Pe.waitFor(c)}removeMatchingKeysForTargetId(i,r){return this.As.cs(r),Pe.resolve()}getMatchingKeysForTargetId(i,r){const o=this.As.hs(r);return Pe.resolve(o)}containsKey(i,r){return Pe.resolve(this.As.containsKey(r))}}class nY{constructor(i,r){this.Ps={},this.Le=new Po(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new tY(this),this.Ht=new kW,this.He=new XW(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new Lj(r),this.Je=new QW(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let r=this.Ps[i.toKey()];return r||(r=new JW(this.Ht,this.referenceDelegate),this.Ps[i.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,r,o){ze("MemoryPersistence","Starting transaction:",i);const a=new rY(this.Le.next());return this.referenceDelegate.vs(),o(a).next(c=>this.referenceDelegate.Vs(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ss(i,r){return Pe.or(Object.values(this.Ps).map(o=>()=>o.containsKey(i,r)))}}class rY extends Nj{constructor(i){super(),this.currentSequenceNumber=i}}class MP{constructor(i){this.persistence=i,this.Ds=new TP,this.Cs=null}static Ns(i){return new MP(i)}get xs(){if(this.Cs)return this.Cs;throw yt()}addReference(i,r,o){return this.Ds.addReference(o,r),this.xs.delete(o.toString()),Pe.resolve()}removeReference(i,r,o){return this.Ds.removeReference(o,r),this.xs.add(o.toString()),Pe.resolve()}markPotentiallyOrphaned(i,r){return this.xs.add(r.toString()),Pe.resolve()}removeTarget(i,r){this.Ds.cs(r.targetId).forEach(a=>this.xs.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(i,r.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>o.removeTargetData(i,r))}vs(){this.Cs=new Set}Vs(i){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.xs,o=>{const a=mt.fromPath(o);return this.ks(i,a).next(c=>{c||r.removeEntry(a)})}).next(()=>(this.Cs=null,r.apply(i)))}updateLimboDocument(i,r){return this.ks(i,r).next(o=>{o?this.xs.delete(r.toString()):this.xs.add(r.toString())})}bs(i){return 0}ks(i,r){return Pe.or([()=>Pe.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(i,r),()=>this.persistence.Ss(i,r)])}}function aH(s,i){return`firestore_clients_${s}_${i}`}function lH(s,i,r){let o=`firestore_mutations_${s}_${r}`;return i.isAuthenticated()&&(o+=`_${i.uid}`),o}function RP(s,i){return`firestore_targets_${s}_${i}`}class $I{constructor(i,r,o,a){this.user=i,this.batchId=r,this.state=o,this.error=a}static $s(i,r,o){const a=JSON.parse(o);let c,g="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(c=new Ve(a.error.code,a.error.message))),g?new $I(i,r,a.state,c):(Zr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class OC{constructor(i,r,o){this.targetId=i,this.state=r,this.error=o}static $s(i,r){const o=JSON.parse(r);let a,c="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(a=new Ve(o.error.code,o.error.message))),c?new OC(i,o.state,a):(Zr("SharedClientState",`Failed to parse target state for ID '${i}': ${r}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class zI{constructor(i,r){this.clientId=i,this.activeTargetIds=r}static $s(i,r){const o=JSON.parse(r);let a="object"==typeof o&&o.activeTargetIds instanceof Array,c=FI();for(let g=0;a&&g<o.activeTargetIds.length;++g)a=LG(o.activeTargetIds[g]),c=c.add(o.activeTargetIds[g]);return a?new zI(i,c):(Zr("SharedClientState",`Failed to parse client data for instance '${i}': ${r}`),null)}}class OP{constructor(i,r){this.clientId=i,this.onlineState=r}static $s(i){const r=JSON.parse(i);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new OP(r.clientId,r.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${i}`),null)}}class kP{constructor(){this.activeTargetIds=FI()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class NP{constructor(i,r,o,a,c){this.window=i,this.Oe=r,this.persistenceKey=o,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new fi(ln),this.started=!1,this.Ks=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=aH(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new kP),this.Ws=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,Ne.Z)(function*(){const r=yield i.syncEngine.pn();for(const a of r){if(a===i.Ls)continue;const c=i.getItem(aH(i.persistenceKey,a));if(c){const g=zI.$s(a,c);g&&(i.qs=i.qs.insert(g.clientId,g))}}i.Ys();const o=i.storage.getItem(i.Hs);if(o){const a=i.Xs(o);a&&i.Zs(a)}for(const a of i.Ks)i.Us(a);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let r=!1;return this.qs.forEach((o,a)=>{a.activeTargetIds.has(i)&&(r=!0)}),r}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,r,o){this.ei(i,r,o),this.ni(i)}addLocalQueryTarget(i){let r="not-current";if(this.isActiveQueryTarget(i)){const o=this.storage.getItem(RP(this.persistenceKey,i));if(o){const a=OC.$s(i,o);a&&(r=a.state)}}return this.si.Fs(i),this.Ys(),r}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(RP(this.persistenceKey,i))}updateQueryState(i,r,o){this.ii(i,r,o)}handleUserChange(i,r,o){r.forEach(a=>{this.ni(a)}),this.currentUser=i,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const r=this.storage.getItem(i);return ze("SharedClientState","READ",i,r),r}setItem(i,r){ze("SharedClientState","SET",i,r),this.storage.setItem(i,r)}removeItem(i){ze("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var r=this;const o=i;if(o.storageArea===this.storage){if(ze("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ne.Z)(function*(){if(r.started){if(null!==o.key)if(r.Ws.test(o.key)){if(null==o.newValue){const a=r.ai(o.key);return r.ci(a,null)}{const a=r.ui(o.key,o.newValue);if(a)return r.ci(a.clientId,a)}}else if(r.Gs.test(o.key)){if(null!==o.newValue){const a=r.hi(o.key,o.newValue);if(a)return r.li(a)}}else if(r.zs.test(o.key)){if(null!==o.newValue){const a=r.fi(o.key,o.newValue);if(a)return r.di(a)}}else if(o.key===r.Hs){if(null!==o.newValue){const a=r.Xs(o.newValue);if(a)return r.Zs(a)}}else if(o.key===r.Qs){const a=function(c){let g=Po.T;if(null!=c)try{const _=JSON.parse(c);Nt("number"==typeof _),g=_}catch(_){Zr("SharedClientState","Failed to read sequence number from WebStorage",_)}return g}(o.newValue);a!==Po.T&&r.sequenceNumberHandler(a)}else if(o.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,r,o){const a=new $I(this.currentUser,i,r,o),c=lH(this.persistenceKey,this.currentUser,i);this.setItem(c,a.Os())}ni(i){const r=lH(this.persistenceKey,this.currentUser,i);this.removeItem(r)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,r,o){const a=RP(this.persistenceKey,i),c=new OC(i,r,o);this.setItem(a,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const r=this.Ws.exec(i);return r?r[1]:null}ui(i,r){const o=this.ai(i);return zI.$s(o,r)}hi(i,r){const o=this.Gs.exec(i),a=Number(o[1]);return $I.$s(new zi(void 0!==o[2]?o[2]:null),a,r)}fi(i,r){const o=this.zs.exec(i),a=Number(o[1]);return OC.$s(a,r)}Xs(i){return OP.$s(i)}li(i){var r=this;return(0,Ne.Z)(function*(){if(i.user.uid===r.currentUser.uid)return r.syncEngine._i(i.batchId,i.state,i.error);ze("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,r){const o=r?this.qs.insert(i,r):this.qs.remove(i),a=this.ti(this.qs),c=this.ti(o),g=[],_=[];return c.forEach(b=>{a.has(b)||g.push(b)}),a.forEach(b=>{c.has(b)||_.push(b)}),this.syncEngine.gi(g,_).then(()=>{this.qs=o})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let r=FI();return i.forEach((o,a)=>{r=r.unionWith(a.activeTargetIds)}),r}}class uH{constructor(){this.yi=new kP,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,r,o){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,r,o){this.pi[i]=r}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new kP,Promise.resolve()}handleUserChange(i,r,o){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class iY{Ei(i){}shutdown(){}}class cH{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(i){this.Pi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Pi)i(0)}Ri(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Pi)i(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class oY{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class aY extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,r,o,a){const c=this.Bi(i,r);ze("RestConnection","Sending: ",c,o);const g={};return this.Ui(g,a),this.qi(i,c,g,o).then(_=>(ze("RestConnection","Received: ",_),_),_=>{throw hC("RestConnection",`${i} failed with error: `,_,"url: ",c,"request:",o),_})}Ki(i,r,o,a){return this.Li(i,r,o,a)}Ui(i,r){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+wy,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const o in r.authHeaders)r.authHeaders.hasOwnProperty(o)&&(i[o]=r.authHeaders[o])}Bi(i,r){return`${this.Fi}/v1/${r}:${sY[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,r,o,a){return new Promise((c,g)=>{const _=new MG;_.listenOnce(DG.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case EI.NO_ERROR:const S=_.getResponseJson();ze("Connection","XHR received:",JSON.stringify(S)),c(S);break;case EI.TIMEOUT:ze("Connection",'RPC "'+i+'" timed out'),g(new Ve(Te.DEADLINE_EXCEEDED,"Request time out"));break;case EI.HTTP_ERROR:const T=_.getStatus();if(ze("Connection",'RPC "'+i+'" failed with status:',T,"response text:",_.getResponseText()),T>0){const R=_.getResponseJson().error;if(R&&R.status&&R.message){const N=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(H)>=0?H:Te.UNKNOWN}(R.status);g(new Ve(N,R.message))}else g(new Ve(Te.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Ve(Te.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{ze("Connection",'RPC "'+i+'" completed.')}});const b=JSON.stringify(a);_.send(r,"POST",b,o,15)})}ji(i,r){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],a=new wI,c=oI(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new TG({})),this.Ui(g.initMessageHeaders,r),(0,oe.uI)()||(0,oe.b$)()||(0,oe.d)()||(0,oe.w1)()||(0,oe.Mn)()||(0,oe.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const _=o.join("");ze("Connection","Creating WebChannel: "+_,g);const b=a.createWebChannel(_,g);let S=!1,T=!1;const R=new oY({vi:L=>{T?ze("Connection","Not sending because WebChannel is closed:",L):(S||(ze("Connection","Opening WebChannel transport."),b.open(),S=!0),ze("Connection","WebChannel sending:",L),b.send(L))},Vi:()=>b.close()}),N=(L,H,ie)=>{L.listen(H,we=>{try{ie(we)}catch(Le){setTimeout(()=>{throw Le},0)}})};return N(b,dC.EventType.OPEN,()=>{T||ze("Connection","WebChannel transport opened.")}),N(b,dC.EventType.CLOSE,()=>{T||(T=!0,ze("Connection","WebChannel transport closed"),R.$i())}),N(b,dC.EventType.ERROR,L=>{T||(T=!0,hC("Connection","WebChannel transport errored:",L),R.$i(new Ve(Te.UNAVAILABLE,"The operation could not be completed")))}),N(b,dC.EventType.MESSAGE,L=>{var H;if(!T){const ie=L.data[0];Nt(!!ie);const we=ie,Le=we.error||(null===(H=we[0])||void 0===H?void 0:H.error);if(Le){ze("Connection","WebChannel received error:",Le);const Ze=Le.status;let Ke=function(Er){const Ls=Xr[Er];if(void 0!==Ls)return cj(Ls)}(Ze),wt=Le.message;void 0===Ke&&(Ke=Te.INTERNAL,wt="Unknown error status: "+Ze+" with message "+Le.message),T=!0,R.$i(new Ve(Ke,wt)),b.close()}else ze("Connection","WebChannel received:",ie),R.Oi(ie)}}),N(c,IG.STAT_EVENT,L=>{L.stat===YF_PROXY?ze("Connection","Detected buffering proxy"):L.stat===YF_NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.ki()},0),R}}function dH(){return"undefined"!=typeof window?window:null}function qI(){return"undefined"!=typeof document?document:null}function kC(s){return new pW(s,!0)}class FP{constructor(i,r,o=1e3,a=1.5,c=6e4){this.Oe=i,this.timerId=r,this.Qi=o,this.Wi=a,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const r=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),a=Math.max(0,r-o);a>0&&ze("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class hH{constructor(i,r,o,a,c,g){this.Oe=i,this.er=o,this.nr=a,this.credentialsProvider=c,this.listener=g,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new FP(i,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,Ne.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,Ne.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,r){var o=this;return(0,Ne.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==i?o.rr.reset():r&&r.code===Te.RESOURCE_EXHAUSTED?(Zr(r.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):r&&r.code===Te.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=i,yield o.listener.Ci(r)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===r&&this.yr(o)},o=>{i(()=>{const a=new Ve(Te.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(a)})})}yr(i){const r=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{r(()=>this.pr(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}ur(){var i=this;this.state=4,this.rr.Xi((0,Ne.Z)(function*(){i.state=0,i.start()}))}pr(i){return ze("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return r=>{this.Oe.enqueueAndForget(()=>this.sr===i?r():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lY extends hH{constructor(i,r,o,a,c){super(i,"listen_stream_connection_backoff","listen_stream_idle",r,o,c),this.N=a}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const r=function(s,i){let r;if("targetChange"in i){const o="NO_CHANGE"===(b=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:yt(),a=i.targetChange.targetIds||[],c=function(b,S){return b.D?(Nt(void 0===S||"string"==typeof S),Ai.fromBase64String(S||"")):(Nt(void 0===S||S instanceof Uint8Array),Ai.fromUint8Array(S||new Uint8Array))}(s,i.targetChange.resumeToken),g=i.targetChange.cause,_=g&&function(b){const S=void 0===b.code?Te.UNKNOWN:cj(b.code);return new Ve(S,b.message||"")}(g);r=new pj(o,a,c,_||null)}else if("documentChange"in i){const o=i.documentChange,a=ou(s,o.document.name),c=Si(o.document.updateTime),g=new as({mapValue:{fields:o.document.fields}}),_=hr.newFoundDocument(a,c,g);r=new PI(o.targetIds||[],o.removedTargetIds||[],_.key,_)}else if("documentDelete"in i){const o=i.documentDelete,a=ou(s,o.document),c=o.readTime?Si(o.readTime):Wt.min(),g=hr.newNoDocument(a,c);r=new PI([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in i){const o=i.documentRemove,a=ou(s,o.document);r=new PI([],o.removedTargetIds||[],a,null)}else{if(!("filter"in i))return yt();{const o=i.filter,c=new sW(o.count||0);r=new fj(o.targetId,c)}}var b;return r}(this.N,i),o=function(a){if(!("targetChange"in a))return Wt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Wt.min():c.readTime?Si(c.readTime):Wt.min()}(i);return this.listener.Tr(r,o)}Ir(i){const r={};r.database=IC(this.N),r.addTarget=function(a,c){let g;const _=c.target;return g=DI(_)?{documents:Aj(a,_)}:{query:Sj(a,_)},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?g.resumeToken=yj(a,c.resumeToken):c.snapshotVersion.compareTo(Wt.min())>0&&(g.readTime=SC(a,c.snapshotVersion.toTimestamp())),g}(this.N,i);const o=function(s,i){const r=function(o,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,i.purpose);return null==r?null:{"goog-listen-tags":r}}(0,i);o&&(r.labels=o),this.wr(r)}Ar(i){const r={};r.database=IC(this.N),r.removeTarget=i,this.wr(r)}}class uY extends hH{constructor(i,r,o,a,c){super(i,"write_stream_connection_backoff","write_stream_idle",r,o,c),this.N=a,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(Nt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const r=function(s,i){return s&&s.length>0?(Nt(void 0!==i),s.map(r=>function(o,a){let c=Si(o.updateTime?o.updateTime:a);return c.isEqual(Wt.min())&&(c=Si(a)),new nW(c,o.transformResults||[])}(r,i))):[]}(i.writeResults,i.commitTime),o=Si(i.commitTime);return this.listener.vr(o,r)}return Nt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=IC(this.N),this.wr(i)}br(i){const r={streamToken:this.lastStreamToken,writes:i.map(o=>LI(this.N,o))};this.wr(r)}}class cY extends class{}{constructor(i,r,o){super(),this.credentials=i,this.nr=r,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new Ve(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,r,o){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(i,r,o,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ve(Te.UNKNOWN,a.toString())})}Ki(i,r,o){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(i,r,o,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ve(Te.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class dY{constructor(i,r){this.asyncQueue=i,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const r=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Zr(r),this.$r=!1):ze("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class hY{constructor(i,r,o,a,c){var g=this;this.localStore=i,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=c,this.Qr.Ei(_=>{o.enqueueAndForget((0,Ne.Z)(function*(){var b;Fh(g)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Ne.Z)(function*(S){const T=Je(S);T.Kr.add(4),yield Hy(T),T.Wr.set("Unknown"),T.Kr.delete(4),yield NC(T)}),function(S){return b.apply(this,arguments)})(g))}))}),this.Wr=new dY(o,a)}}function NC(s){return PP.apply(this,arguments)}function PP(){return(PP=(0,Ne.Z)(function*(s){if(Fh(s))for(const i of s.jr)yield i(!0)})).apply(this,arguments)}function Hy(s){return LP.apply(this,arguments)}function LP(){return(LP=(0,Ne.Z)(function*(s){for(const i of s.jr)yield i(!1)})).apply(this,arguments)}function WI(s,i){const r=Je(s);r.qr.has(i.targetId)||(r.qr.set(i.targetId,i),UP(r)?BP(r):zy(r).cr()&&VP(r,i))}function FC(s,i){const r=Je(s),o=zy(r);r.qr.delete(i),o.cr()&&fH(r,i),0===r.qr.size&&(o.cr()?o.lr():Fh(r)&&r.Wr.set("Unknown"))}function VP(s,i){s.Gr.Y(i.targetId),zy(s).Ir(i)}function fH(s,i){s.Gr.Y(i),zy(s).Ar(i)}function BP(s){s.Gr=new dW({getRemoteKeysForTarget:i=>s.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>s.qr.get(i)||null}),zy(s).start(),s.Wr.Or()}function UP(s){return Fh(s)&&!zy(s).ar()&&s.qr.size>0}function Fh(s){return 0===Je(s).Kr.size}function pH(s){s.Gr=void 0}function fY(s){return GP.apply(this,arguments)}function GP(){return(GP=(0,Ne.Z)(function*(s){s.qr.forEach((i,r)=>{VP(s,i)})})).apply(this,arguments)}function pY(s,i){return jP.apply(this,arguments)}function jP(){return(jP=(0,Ne.Z)(function*(s,i){pH(s),UP(s)?(s.Wr.Lr(i),BP(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function gY(s,i,r){return HP.apply(this,arguments)}function HP(){return(HP=(0,Ne.Z)(function*(s,i,r){if(s.Wr.set("Online"),i instanceof pj&&2===i.state&&i.cause)try{yield(o=(0,Ne.Z)(function*(a,c){const g=c.cause;for(const _ of c.targetIds)a.qr.has(_)&&(yield a.remoteSyncer.rejectListen(_,g),a.qr.delete(_),a.Gr.removeTarget(_))}),function(a,c){return o.apply(this,arguments)})(s,i)}catch(o){ze("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),o),yield YI(s,o)}else if(i instanceof PI?s.Gr.rt(i):i instanceof fj?s.Gr.ft(i):s.Gr.ct(i),!r.isEqual(Wt.min()))try{const o=yield rH(s.localStore);r.compareTo(o)>=0&&(yield function(a,c){const g=a.Gr._t(c);return g.targetChanges.forEach((_,b)=>{if(_.resumeToken.approximateByteSize()>0){const S=a.qr.get(b);S&&a.qr.set(b,S.withResumeToken(_.resumeToken,c))}}),g.targetMismatches.forEach(_=>{const b=a.qr.get(_);if(!b)return;a.qr.set(_,b.withResumeToken(Ai.EMPTY_BYTE_STRING,b.snapshotVersion)),fH(a,_);const S=new Rh(b.target,_,1,b.sequenceNumber);VP(a,S)}),a.remoteSyncer.applyRemoteEvent(g)}(s,r))}catch(o){ze("RemoteStore","Failed to raise snapshot:",o),yield YI(s,o)}var o})).apply(this,arguments)}function YI(s,i,r){return $P.apply(this,arguments)}function $P(){return($P=(0,Ne.Z)(function*(s,i,r){if(!mg(i))throw i;s.Kr.add(1),yield Hy(s),s.Wr.set("Offline"),r||(r=()=>rH(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield r(),s.Kr.delete(1),yield NC(s)}))})).apply(this,arguments)}function gH(s,i){return i().catch(r=>YI(s,r,i))}function $y(s){return zP.apply(this,arguments)}function zP(){return(zP=(0,Ne.Z)(function*(s){const i=Je(s),r=Ph(i);let o=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;mY(i);)try{const a=yield WW(i.localStore,o);if(null===a){0===i.Ur.length&&r.lr();break}o=a.batchId,_Y(i,a)}catch(a){yield YI(i,a)}mH(i)&&_H(i)})).apply(this,arguments)}function mY(s){return Fh(s)&&s.Ur.length<10}function _Y(s,i){s.Ur.push(i);const r=Ph(s);r.cr()&&r.Pr&&r.br(i.mutations)}function mH(s){return Fh(s)&&!Ph(s).ar()&&s.Ur.length>0}function _H(s){Ph(s).start()}function yY(s){return qP.apply(this,arguments)}function qP(){return(qP=(0,Ne.Z)(function*(s){Ph(s).Sr()})).apply(this,arguments)}function vY(s){return WP.apply(this,arguments)}function WP(){return(WP=(0,Ne.Z)(function*(s){const i=Ph(s);for(const r of s.Ur)i.br(r.mutations)})).apply(this,arguments)}function bY(s,i,r){return YP.apply(this,arguments)}function YP(){return(YP=(0,Ne.Z)(function*(s,i,r){const o=s.Ur.shift(),a=fP.from(o,i,r);yield gH(s,()=>s.remoteSyncer.applySuccessfulWrite(a)),yield $y(s)})).apply(this,arguments)}function wY(s,i){return KP.apply(this,arguments)}function KP(){return(KP=(0,Ne.Z)(function*(s,i){var r;i&&Ph(s).Pr&&(yield(r=(0,Ne.Z)(function*(o,a){if(uj(c=a.code)&&c!==Te.ABORTED){const g=o.Ur.shift();Ph(o).hr(),yield gH(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield $y(o)}var c}),function(o,a){return r.apply(this,arguments)})(s,i)),mH(s)&&_H(s)})).apply(this,arguments)}function ZP(s,i){return QP.apply(this,arguments)}function QP(){return(QP=(0,Ne.Z)(function*(s,i){const r=Je(s);i?(r.Kr.delete(2),yield NC(r)):i||(r.Kr.add(2),yield Hy(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function zy(s){return s.zr||(s.zr=function(i,r,o){const a=Je(i);return a.Cr(),new lY(r,a.nr,a.credentials,a.N,o)}(s.datastore,s.asyncQueue,{Si:fY.bind(null,s),Ci:pY.bind(null,s),Tr:gY.bind(null,s)}),s.jr.push(function(){var i=(0,Ne.Z)(function*(r){r?(s.zr.hr(),UP(s)?BP(s):s.Wr.set("Unknown")):(yield s.zr.stop(),pH(s))});return function(r){return i.apply(this,arguments)}}())),s.zr}function Ph(s){return s.Hr||(s.Hr=function(i,r,o){const a=Je(i);return a.Cr(),new uY(r,a.nr,a.credentials,a.N,o)}(s.datastore,s.asyncQueue,{Si:yY.bind(null,s),Ci:wY.bind(null,s),Vr:vY.bind(null,s),vr:bY.bind(null,s)}),s.jr.push(function(){var i=(0,Ne.Z)(function*(r){r?(s.Hr.hr(),yield $y(s)):(yield s.Hr.stop(),s.Ur.length>0&&(ze("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(r){return i.apply(this,arguments)}}())),s.Hr}class JP{constructor(i,r,o,a,c){this.asyncQueue=i,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(i,r,o,a,c){const g=Date.now()+o,_=new JP(i,r,g,a,c);return _.start(o),_}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(Te.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(s,i){if(Zr("AsyncQueue",`${i}: ${s}`),mg(s))return new Ve(Te.UNAVAILABLE,`${i}: ${s}`);throw s}class Wy{constructor(i){this.comparator=i?(r,o)=>i(r,o)||mt.comparator(r.key,o.key):(r,o)=>mt.comparator(r.key,o.key),this.keyedMap=lP(),this.sortedSet=new fi(this.comparator)}static emptySet(i){return new Wy(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const r=this.keyedMap.get(i);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((r,o)=>(i(r),!1))}add(i){const r=this.delete(i.key);return r.copy(r.keyedMap.insert(i.key,i),r.sortedSet.insert(i,null))}delete(i){const r=this.get(i);return r?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(r)):this}isEqual(i){if(!(i instanceof Wy)||this.size!==i.size)return!1;const r=this.sortedSet.getIterator(),o=i.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const i=[];return this.forEach(r=>{i.push(r.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,r){const o=new Wy;return o.comparator=this.comparator,o.keyedMap=i,o.sortedSet=r,o}}class yH{constructor(){this.Jr=new fi(mt.comparator)}track(i){const r=i.doc.key,o=this.Jr.get(r);o?0!==i.type&&3===o.type?this.Jr=this.Jr.insert(r,i):3===i.type&&1!==o.type?this.Jr=this.Jr.insert(r,{type:o.type,doc:i.doc}):2===i.type&&2===o.type?this.Jr=this.Jr.insert(r,{type:2,doc:i.doc}):2===i.type&&0===o.type?this.Jr=this.Jr.insert(r,{type:0,doc:i.doc}):1===i.type&&0===o.type?this.Jr=this.Jr.remove(r):1===i.type&&2===o.type?this.Jr=this.Jr.insert(r,{type:1,doc:o.doc}):0===i.type&&1===o.type?this.Jr=this.Jr.insert(r,{type:2,doc:i.doc}):yt():this.Jr=this.Jr.insert(r,i)}Yr(){const i=[];return this.Jr.inorderTraversal((r,o)=>{i.push(o)}),i}}class Yy{constructor(i,r,o,a,c,g,_,b){this.query=i,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=g,this.syncStateChanged=_,this.excludesMetadataChanges=b}static fromInitialDocuments(i,r,o,a){const c=[];return r.forEach(g=>{c.push({type:0,doc:g})}),new Yy(i,r,Wy.emptySet(r),c,o,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&vC(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const r=this.docChanges,o=i.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}class EY{constructor(){this.Xr=void 0,this.listeners=[]}}class CY{constructor(){this.queries=new Uy(i=>YG(i),vC),this.onlineState="Unknown",this.Zr=new Set}}function XP(s,i){return e1.apply(this,arguments)}function e1(){return(e1=(0,Ne.Z)(function*(s,i){const r=Je(s),o=i.query;let a=!1,c=r.queries.get(o);if(c||(a=!0,c=new EY),a)try{c.Xr=yield r.onListen(o)}catch(g){const _=qy(g,`Initialization of query '${sP(i.query)}' failed`);return void i.onError(_)}r.queries.set(o,c),c.listeners.push(i),i.eo(r.onlineState),c.Xr&&i.no(c.Xr)&&r1(r)})).apply(this,arguments)}function t1(s,i){return n1.apply(this,arguments)}function n1(){return(n1=(0,Ne.Z)(function*(s,i){const r=Je(s),o=i.query;let a=!1;const c=r.queries.get(o);if(c){const g=c.listeners.indexOf(i);g>=0&&(c.listeners.splice(g,1),a=0===c.listeners.length)}if(a)return r.queries.delete(o),r.onUnlisten(o)})).apply(this,arguments)}function xY(s,i){const r=Je(s);let o=!1;for(const a of i){const g=r.queries.get(a.query);if(g){for(const _ of g.listeners)_.no(a)&&(o=!0);g.Xr=a}}o&&r1(r)}function AY(s,i,r){const o=Je(s),a=o.queries.get(i);if(a)for(const c of a.listeners)c.onError(r);o.queries.delete(i)}function r1(s){s.Zr.forEach(i=>{i.next()})}class i1{constructor(i,r,o){this.query=i,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(i){if(!this.options.includeMetadataChanges){const o=[];for(const a of i.docChanges)3!==a.type&&o.push(a);i=new Yy(i.query,i.docs,i.oldDocs,o,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let r=!1;return this.io?this.oo(i)&&(this.so.next(i),r=!0):this.ao(i,this.onlineState)&&(this.co(i),r=!0),this.ro=i,r}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),r=!0),r}ao(i,r){return!i.fromCache||!(this.options.uo&&"Offline"!==r||i.docs.isEmpty()&&"Offline"!==r)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=Yy.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class SY{constructor(i,r){this.payload=i,this.byteLength=r}ho(){return"metadata"in this.payload}}class vH{constructor(i){this.N=i}zn(i){return ou(this.N,i)}Hn(i){return i.metadata.exists?Cj(this.N,i.document,!1):hr.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return Si(i)}}class DY{constructor(i,r,o){this.lo=i,this.localStore=r,this.N=o,this.queries=[],this.documents=[],this.progress=bH(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let r=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++r):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(i){const r=new Map,o=new vH(this.N);for(const a of i)if(a.metadata.queries){const c=o.zn(a.metadata.name);for(const g of a.metadata.queries){const _=(r.get(g)||Nn()).add(c);r.set(g,_)}}return r}complete(){var i=this;return(0,Ne.Z)(function*(){const r=yield function(s,i,r,o){return DP.apply(this,arguments)}(i.localStore,new vH(i.N),i.documents,i.lo.id),o=i.wo(i.documents);for(const a of i.queries)yield ZW(i.localStore,a,o.get(a.name));return i.progress.taskState="Success",new HW(Object.assign({},i.progress),r)})()}}function bH(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class wH{constructor(i){this.key=i}}class EH{constructor(i){this.key=i}}class CH{constructor(i,r){this.query=i,this._o=r,this.mo=null,this.current=!1,this.yo=Nn(),this.mutatedKeys=Nn(),this.po=KG(i),this.Eo=new Wy(this.po)}get To(){return this._o}Io(i,r){const o=r?r.Ao:new yH,a=r?r.Eo:this.Eo;let c=r?r.mutatedKeys:this.mutatedKeys,g=a,_=!1;const b=TI(this.query)&&a.size===this.query.limit?a.last():null,S=MI(this.query)&&a.size===this.query.limit?a.first():null;if(i.inorderTraversal((T,R)=>{const N=a.get(T),L=bC(this.query,R)?R:null,H=!!N&&this.mutatedKeys.has(N.key),ie=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let we=!1;N&&L?N.data.isEqual(L.data)?H!==ie&&(o.track({type:3,doc:L}),we=!0):this.Ro(N,L)||(o.track({type:2,doc:L}),we=!0,(b&&this.po(L,b)>0||S&&this.po(L,S)<0)&&(_=!0)):!N&&L?(o.track({type:0,doc:L}),we=!0):N&&!L&&(o.track({type:1,doc:N}),we=!0,(b||S)&&(_=!0)),we&&(L?(g=g.add(L),c=ie?c.add(T):c.delete(T)):(g=g.delete(T),c=c.delete(T)))}),TI(this.query)||MI(this.query))for(;g.size>this.query.limit;){const T=TI(this.query)?g.last():g.first();g=g.delete(T.key),c=c.delete(T.key),o.track({type:1,doc:T})}return{Eo:g,Ao:o,Ln:_,mutatedKeys:c}}Ro(i,r){return i.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(i,r,o){const a=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const c=i.Ao.Yr();c.sort((S,T)=>function(R,N){const L=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return L(R)-L(N)}(S.type,T.type)||this.po(S.doc,T.doc)),this.Po(o);const g=r?this.bo():[],_=0===this.yo.size&&this.current?1:0,b=_!==this.mo;return this.mo=_,0!==c.length||b?{snapshot:new Yy(this.query,i.Eo,a,c,i.mutatedKeys,0===_,b,!1),vo:g}:{vo:g}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new yH,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}Po(i){i&&(i.addedDocuments.forEach(r=>this._o=this._o.add(r)),i.modifiedDocuments.forEach(r=>{}),i.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=i.current)}bo(){if(!this.current)return[];const i=this.yo;this.yo=Nn(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const r=[];return i.forEach(o=>{this.yo.has(o)||r.push(new EH(o))}),this.yo.forEach(o=>{i.has(o)||r.push(new wH(o))}),r}So(i){this._o=i.Gn,this.yo=Nn();const r=this.Io(i.documents);return this.applyChanges(r,!0)}Do(){return Yy.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class IY{constructor(i,r,o){this.query=i,this.targetId=r,this.view=o}}class TY{constructor(i){this.key=i,this.Co=!1}}class MY{constructor(i,r,o,a,c,g){this.localStore=i,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=g,this.No={},this.xo=new Uy(_=>YG(_),vC),this.ko=new Map,this.$o=new Set,this.Oo=new fi(mt.comparator),this.Fo=new Map,this.Mo=new TP,this.Lo={},this.Bo=new Map,this.Uo=yg.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function RY(s,i){return s1.apply(this,arguments)}function s1(){return(s1=(0,Ne.Z)(function*(s,i){const r=I1(s);let o,a;const c=r.xo.get(i);if(c)o=c.targetId,r.sharedClientState.addLocalQueryTarget(o),a=c.view.Do();else{const g=yield Gy(r.localStore,fa(i)),_=r.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,a=yield o1(r,i,o,"current"===_),r.isPrimaryClient&&WI(r.remoteStore,g)}return a})).apply(this,arguments)}function o1(s,i,r,o){return a1.apply(this,arguments)}function a1(){return(a1=(0,Ne.Z)(function*(s,i,r,o){s.Ko=(T,R,N)=>{return(L=(0,Ne.Z)(function*(H,ie,we,Le){let Ze=ie.view.Io(we);Ze.Ln&&(Ze=yield HI(H.localStore,ie.query,!1).then(({documents:Er})=>ie.view.Io(Er,Ze)));const Ke=Le&&Le.targetChanges.get(ie.targetId),wt=ie.view.applyChanges(Ze,H.isPrimaryClient,Ke);return _1(H,ie.targetId,wt.vo),wt.snapshot}),function(H,ie,we,Le){return L.apply(this,arguments)})(s,T,R,N);var L};const a=yield HI(s.localStore,i,!0),c=new CH(i,a.Gn),g=c.Io(a.documents),_=AC.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==s.onlineState),b=c.applyChanges(g,s.isPrimaryClient,_);_1(s,r,b.vo);const S=new IY(i,r,c);return s.xo.set(i,S),s.ko.has(r)?s.ko.get(r).push(i):s.ko.set(r,[i]),b.snapshot})).apply(this,arguments)}function OY(s,i){return l1.apply(this,arguments)}function l1(){return(l1=(0,Ne.Z)(function*(s,i){const r=Je(s),o=r.xo.get(i),a=r.ko.get(o.targetId);if(a.length>1)return r.ko.set(o.targetId,a.filter(c=>!vC(c,i))),void r.xo.delete(i);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield jy(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),FC(r.remoteStore,o.targetId),Ky(r,o.targetId)}).catch(vg))):(Ky(r,o.targetId),yield jy(r.localStore,o.targetId,!0))})).apply(this,arguments)}function u1(){return(u1=(0,Ne.Z)(function*(s,i,r){const o=T1(s);try{const a=yield function(c,g){const _=Je(c),b=xi.now(),S=g.reduce((R,N)=>R.add(N.key),Nn());let T;return _.persistence.runTransaction("Locally write mutations","readwrite",R=>_.Qn.bn(R,S).next(N=>{T=N;const L=[];for(const H of g){const ie=iW(H,T.get(H.key));null!=ie&&L.push(new Th(H.key,ie,GG(ie.value.mapValue),Jr.exists(!0)))}return _.In.addMutationBatch(R,b,L,g)})).then(R=>(R.applyToLocalDocumentSet(T),{batchId:R.batchId,changes:T}))}(o.localStore,i);o.sharedClientState.addPendingMutation(a.batchId),function(c,g,_){let b=c.Lo[c.currentUser.toKey()];b||(b=new fi(ln)),b=b.insert(g,_),c.Lo[c.currentUser.toKey()]=b}(o,a.batchId,r),yield Dc(o,a.changes),yield $y(o.remoteStore)}catch(a){const c=qy(a,"Failed to persist write");r.reject(c)}})).apply(this,arguments)}function xH(s,i){return c1.apply(this,arguments)}function c1(){return(c1=(0,Ne.Z)(function*(s,i){const r=Je(s);try{const o=yield qW(r.localStore,i);i.targetChanges.forEach((a,c)=>{const g=r.Fo.get(c);g&&(Nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.Co=!0:a.modifiedDocuments.size>0?Nt(g.Co):a.removedDocuments.size>0&&(Nt(g.Co),g.Co=!1))}),yield Dc(r,o,i)}catch(o){yield vg(o)}})).apply(this,arguments)}function AH(s,i,r){const o=Je(s);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const a=[];o.xo.forEach((c,g)=>{const _=g.view.eo(i);_.snapshot&&a.push(_.snapshot)}),function(c,g){const _=Je(c);_.onlineState=g;let b=!1;_.queries.forEach((S,T)=>{for(const R of T.listeners)R.eo(g)&&(b=!0)}),b&&r1(_)}(o.eventManager,i),a.length&&o.No.Tr(a),o.onlineState=i,o.isPrimaryClient&&o.sharedClientState.setOnlineState(i)}}function NY(s,i,r){return d1.apply(this,arguments)}function d1(){return(d1=(0,Ne.Z)(function*(s,i,r){const o=Je(s);o.sharedClientState.updateQueryState(i,"rejected",r);const a=o.Fo.get(i),c=a&&a.key;if(c){let g=new fi(mt.comparator);g=g.insert(c,hr.newNoDocument(c,Wt.min()));const _=Nn().add(c),b=new xC(Wt.min(),new Map,new Ir(ln),g,_);yield xH(o,b),o.Oo=o.Oo.remove(c),o.Fo.delete(i),y1(o)}else yield jy(o.localStore,i,!1).then(()=>Ky(o,i,r)).catch(vg)})).apply(this,arguments)}function FY(s,i){return h1.apply(this,arguments)}function h1(){return(h1=(0,Ne.Z)(function*(s,i){const r=Je(s),o=i.batch.batchId;try{const a=yield zW(r.localStore,i);m1(r,o,null),g1(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Dc(r,a)}catch(a){yield vg(a)}})).apply(this,arguments)}function PY(s,i,r){return f1.apply(this,arguments)}function f1(){return(f1=(0,Ne.Z)(function*(s,i,r){const o=Je(s);try{const a=yield function(c,g){const _=Je(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let S;return _.In.lookupMutationBatch(b,g).next(T=>(Nt(null!==T),S=T.keys(),_.In.removeMutationBatch(b,T))).next(()=>_.In.performConsistencyCheck(b)).next(()=>_.Qn.bn(b,S))})}(o.localStore,i);m1(o,i,r),g1(o,i),o.sharedClientState.updateMutationState(i,"rejected",r),yield Dc(o,a)}catch(a){yield vg(a)}})).apply(this,arguments)}function p1(){return(p1=(0,Ne.Z)(function*(s,i){const r=Je(s);Fh(r.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(c){const g=Je(c);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>g.In.getHighestUnacknowledgedBatchId(_))}(r.localStore);if(-1===o)return void i.resolve();const a=r.Bo.get(o)||[];a.push(i),r.Bo.set(o,a)}catch(o){const a=qy(o,"Initialization of waitForPendingWrites() operation failed");i.reject(a)}})).apply(this,arguments)}function g1(s,i){(s.Bo.get(i)||[]).forEach(r=>{r.resolve()}),s.Bo.delete(i)}function m1(s,i,r){const o=Je(s);let a=o.Lo[o.currentUser.toKey()];if(a){const c=a.get(i);c&&(r?c.reject(r):c.resolve(),a=a.remove(i)),o.Lo[o.currentUser.toKey()]=a}}function Ky(s,i,r=null){s.sharedClientState.removeLocalQueryTarget(i);for(const o of s.ko.get(i))s.xo.delete(o),r&&s.No.jo(o,r);s.ko.delete(i),s.isPrimaryClient&&s.Mo.cs(i).forEach(o=>{s.Mo.containsKey(o)||SH(s,o)})}function SH(s,i){s.$o.delete(i.path.canonicalString());const r=s.Oo.get(i);null!==r&&(FC(s.remoteStore,r),s.Oo=s.Oo.remove(i),s.Fo.delete(r),y1(s))}function _1(s,i,r){for(const o of r)o instanceof wH?(s.Mo.addReference(o.key,i),VY(s,o)):o instanceof EH?(ze("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,i),s.Mo.containsKey(o.key)||SH(s,o.key)):yt()}function VY(s,i){const r=i.key,o=r.path.canonicalString();s.Oo.get(r)||s.$o.has(o)||(ze("SyncEngine","New document in limbo: "+r),s.$o.add(o),y1(s))}function y1(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const i=s.$o.values().next().value;s.$o.delete(i);const r=new mt(bn.fromString(i)),o=s.Uo.next();s.Fo.set(o,new TY(r)),s.Oo=s.Oo.insert(r,o),WI(s.remoteStore,new Rh(fa(Dy(r.path)),o,2,Po.T))}}function Dc(s,i,r){return v1.apply(this,arguments)}function v1(){return(v1=(0,Ne.Z)(function*(s,i,r){const o=Je(s),a=[],c=[],g=[];var _;o.xo.isEmpty()||(o.xo.forEach((_,b)=>{g.push(o.Ko(b,i,r).then(S=>{if(S){o.isPrimaryClient&&o.sharedClientState.updateQueryState(b.targetId,S.fromCache?"not-current":"current"),a.push(S);const T=CP.kn(b.targetId,S);c.push(T)}}))}),yield Promise.all(g),o.No.Tr(a),yield(_=(0,Ne.Z)(function*(b,S){const T=Je(b);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Pe.forEach(S,N=>Pe.forEach(N.Nn,L=>T.persistence.referenceDelegate.addReference(R,N.targetId,L)).next(()=>Pe.forEach(N.xn,L=>T.persistence.referenceDelegate.removeReference(R,N.targetId,L)))))}catch(R){if(!mg(R))throw R;ze("LocalStore","Failed to update sequence numbers: "+R)}for(const R of S){const N=R.targetId;if(!R.fromCache){const L=T.Un.get(N),ie=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);T.Un=T.Un.insert(N,ie)}}}),function(b,S){return _.apply(this,arguments)})(o.localStore,c))})).apply(this,arguments)}function BY(s,i){return b1.apply(this,arguments)}function b1(){return(b1=(0,Ne.Z)(function*(s,i){const r=Je(s);if(!r.currentUser.isEqual(i)){ze("SyncEngine","User change. New user:",i.toKey());const o=yield nH(r.localStore,i);r.currentUser=i,(a=r).Bo.forEach(g=>{g.forEach(_=>{_.reject(new Ve(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),r.sharedClientState.handleUserChange(i,o.removedBatchIds,o.addedBatchIds),yield Dc(r,o.Wn)}var a})).apply(this,arguments)}function UY(s,i){const r=Je(s),o=r.Fo.get(i);if(o&&o.Co)return Nn().add(o.key);{let a=Nn();const c=r.ko.get(i);if(!c)return a;for(const g of c){const _=r.xo.get(g);a=a.unionWith(_.view.To)}return a}}function GY(s,i){return w1.apply(this,arguments)}function w1(){return(w1=(0,Ne.Z)(function*(s,i){const r=Je(s),o=yield HI(r.localStore,i.query,!0),a=i.view.So(o);return r.isPrimaryClient&&_1(r,i.targetId,a.vo),a})).apply(this,arguments)}function jY(s){return E1.apply(this,arguments)}function E1(){return(E1=(0,Ne.Z)(function*(s){const i=Je(s);return oH(i.localStore).then(r=>Dc(i,r))})).apply(this,arguments)}function HY(s,i,r,o){return C1.apply(this,arguments)}function C1(){return(C1=(0,Ne.Z)(function*(s,i,r,o){const a=Je(s),c=yield function(g,_){const b=Je(g),S=Je(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",T=>S.Xt(T,_).next(R=>R?b.Qn.bn(T,R):Pe.resolve(null)))}(a.localStore,i);var _;null!==c?("pending"===r?yield $y(a.remoteStore):"acknowledged"===r||"rejected"===r?(m1(a,i,o||null),g1(a,i),_=i,Je(Je(a.localStore).In).te(_)):yt(),yield Dc(a,c)):ze("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function x1(){return(x1=(0,Ne.Z)(function*(s,i){const r=Je(s);if(I1(r),T1(r),!0===i&&!0!==r.qo){const o=r.sharedClientState.getAllActiveQueryTargets(),a=yield DH(r,o.toArray());r.qo=!0,yield ZP(r.remoteStore,!0);for(const c of a)WI(r.remoteStore,c)}else if(!1===i&&!1!==r.qo){const o=[];let a=Promise.resolve();r.ko.forEach((c,g)=>{r.sharedClientState.isLocalQueryTarget(g)?o.push(g):a=a.then(()=>(Ky(r,g),jy(r.localStore,g,!0))),FC(r.remoteStore,g)}),yield a,yield DH(r,o),function(c){const g=Je(c);g.Fo.forEach((_,b)=>{FC(g.remoteStore,b)}),g.Mo.us(),g.Fo=new Map,g.Oo=new fi(mt.comparator)}(r),r.qo=!1,yield ZP(r.remoteStore,!1)}})).apply(this,arguments)}function DH(s,i,r){return A1.apply(this,arguments)}function A1(){return(A1=(0,Ne.Z)(function*(s,i,r){const o=Je(s),a=[],c=[];for(const g of i){let _;const b=o.ko.get(g);if(b&&0!==b.length){_=yield Gy(o.localStore,fa(b[0]));for(const S of b){const T=o.xo.get(S),R=yield GY(o,T);R.snapshot&&c.push(R.snapshot)}}else{const S=yield sH(o.localStore,g);_=yield Gy(o.localStore,S),yield o1(o,IH(S),g,!1)}a.push(_)}return o.No.Tr(c),a})).apply(this,arguments)}function IH(s){return qG(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function zY(s){const i=Je(s);return Je(Je(i.localStore).persistence).pn()}function qY(s,i,r,o){return S1.apply(this,arguments)}function S1(){return(S1=(0,Ne.Z)(function*(s,i,r,o){const a=Je(s);if(a.qo)ze("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(i))switch(r){case"current":case"not-current":{const c=yield oH(a.localStore),g=xC.createSynthesizedRemoteEventForCurrentChange(i,"current"===r);yield Dc(a,c,g);break}case"rejected":yield jy(a.localStore,i,!0),Ky(a,i,o);break;default:yt()}})).apply(this,arguments)}function WY(s,i,r){return D1.apply(this,arguments)}function D1(){return(D1=(0,Ne.Z)(function*(s,i,r){const o=I1(s);if(o.qo){for(const a of i){if(o.ko.has(a)){ze("SyncEngine","Adding an already active target "+a);continue}const c=yield sH(o.localStore,a),g=yield Gy(o.localStore,c);yield o1(o,IH(c),g.targetId,!1),WI(o.remoteStore,g)}for(const a of r)o.ko.has(a)&&(yield jy(o.localStore,a,!1).then(()=>{FC(o.remoteStore,a),Ky(o,a)}).catch(vg))}})).apply(this,arguments)}function I1(s){const i=Je(s);return i.remoteStore.remoteSyncer.applyRemoteEvent=xH.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=UY.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=NY.bind(null,i),i.No.Tr=xY.bind(null,i.eventManager),i.No.jo=AY.bind(null,i.eventManager),i}function T1(s){const i=Je(s);return i.remoteStore.remoteSyncer.applySuccessfulWrite=FY.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=PY.bind(null,i),i}class TH{constructor(){this.synchronizeTabs=!1}initialize(i){var r=this;return(0,Ne.Z)(function*(){r.N=kC(i.databaseInfo.databaseId),r.sharedClientState=r.Wo(i),r.persistence=r.Go(i),yield r.persistence.start(),r.gcScheduler=r.zo(i),r.localStore=r.Ho(i)})()}zo(i){return null}Ho(i){return tH(this.persistence,new eH,i.initialUser,this.N)}Go(i){return new nY(MP.Ns,this.N)}Wo(i){return new uH}terminate(){var i=this;return(0,Ne.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class MH extends TH{constructor(i,r,o){super(),this.Jo=i,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(i){var r=()=>super.initialize,o=this;return(0,Ne.Z)(function*(){yield r().call(o,i),yield function(s){return SP.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,i),yield T1(o.Jo.syncEngine),yield $y(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(i){return tH(this.persistence,new eH,i.initialUser,this.N)}zo(i){return new LW(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const r=EP(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new wP(this.synchronizeTabs,r,i.clientId,o,i.asyncQueue,dH(),qI(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new uH}}class KY extends MH{constructor(i,r){super(i,r,!1),this.Jo=i,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(i){var r=()=>super.initialize,o=this;return(0,Ne.Z)(function*(){yield r().call(o,i);const a=o.Jo.syncEngine;o.sharedClientState instanceof NP&&(o.sharedClientState.syncEngine={_i:HY.bind(null,a),mi:qY.bind(null,a),gi:WY.bind(null,a),pn:zY.bind(null,a),wi:jY.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var c=(0,Ne.Z)(function*(g){yield function(s,i){return x1.apply(this,arguments)}(o.Jo.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):g||o.gcScheduler.stop())});return function(g){return c.apply(this,arguments)}}())})()}Wo(i){const r=dH();if(!NP.Pt(r))throw new Ve(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=EP(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new NP(r,i.asyncQueue,o,i.clientId,i.initialUser)}}class M1{initialize(i,r){var o=this;return(0,Ne.Z)(function*(){o.localStore||(o.localStore=i.localStore,o.sharedClientState=i.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!i.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>AH(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=BY.bind(null,o.syncEngine),yield ZP(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(i){return new CY}createDatastore(i){const r=kC(i.databaseInfo.databaseId),o=new aY(i.databaseInfo);return new cY(i.credentials,o,r)}createRemoteStore(i){return r=this.localStore,o=this.datastore,a=i.asyncQueue,c=_=>AH(this.syncEngine,_,0),g=cH.Pt()?new cH:new iY,new hY(r,o,a,c,g);var r,o,a,c,g}createSyncEngine(i,r){return function(o,a,c,g,_,b,S){const T=new MY(o,a,c,g,_,b);return S&&(T.qo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,r)}terminate(){return(i=(0,Ne.Z)(function*(r){const o=Je(r);ze("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield Hy(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(r){return i.apply(this,arguments)})(this.remoteStore);var i}}function RH(s,i=10240){let r=0;return{read:()=>(0,Ne.Z)(function*(){if(r<s.byteLength){const o={value:s.slice(r,r+i),done:!1};return r+=i,o}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class KI{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,r){this.muted||setTimeout(()=>{this.muted||i(r)},0)}}class ZY{constructor(i,r){this.Zo=i,this.N=r,this.metadata=new Ci,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,Ne.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,Ne.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,Ne.Z)(function*(){const r=yield i.na();if(null===r)return null;const o=i.ta.decode(r),a=Number(o);isNaN(a)&&i.sa(`length string (${o}) is not valid number`);const c=yield i.ia(a);return new SY(JSON.parse(c),r.length+a)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,Ne.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const r=i.ra();r<0&&i.sa("Reached the end of bundle when a length string is expected.");const o=i.buffer.slice(0,r);return i.buffer=i.buffer.slice(r),o})()}ia(i){var r=this;return(0,Ne.Z)(function*(){for(;r.buffer.length<i;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const o=r.ta.decode(r.buffer.slice(0,i));return r.buffer=r.buffer.slice(i),o})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,Ne.Z)(function*(){const r=yield i.Zo.read();if(!r.done){const o=new Uint8Array(i.buffer.length+r.value.length);o.set(i.buffer),o.set(r.value,i.buffer.length),i.buffer=o}return r.done})()}}class QY{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var r=this;return(0,Ne.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ve(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,Ne.Z)(function*(c,g){const _=Je(c),b=IC(_.N)+"/documents",S={documents:g.map(L=>DC(_.N,L))},T=yield _.Ki("BatchGetDocuments",b,S),R=new Map;T.forEach(L=>{const H=function(s,i){return"found"in i?function(r,o){Nt(!!o.found);const a=ou(r,o.found.name),c=Si(o.found.updateTime),g=new as({mapValue:{fields:o.found.fields}});return hr.newFoundDocument(a,c,g)}(s,i):"missing"in i?function(r,o){Nt(!!o.missing),Nt(!!o.readTime);const a=ou(r,o.missing),c=Si(o.readTime);return hr.newNoDocument(a,c)}(s,i):yt()}(_.N,L);R.set(H.key.toString(),H)});const N=[];return g.forEach(L=>{const H=R.get(L.toString());Nt(!!H),N.push(H)}),N}),function(c,g){return a.apply(this,arguments)})(r.datastore,i);var a;return o.forEach(a=>r.recordVersion(a)),o})()}set(i,r){this.write(r.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,r){try{this.write(r.toMutation(i,this.preconditionForUpdate(i)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(i.toString())}delete(i){this.write(new CC(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,Ne.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const r=i.readVersions;var o;i.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,a)=>{const c=mt.fromPath(a);i.mutations.push(new aP(c,i.precondition(c)))}),yield(o=(0,Ne.Z)(function*(a,c){const g=Je(a),_=IC(g.N)+"/documents",b={writes:c.map(S=>LI(g.N,S))};yield g.Li("Commit",_,b)}),function(a,c){return o.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let r;if(i.isFoundDocument())r=i.version;else{if(!i.isNoDocument())throw yt();r=Wt.min()}const o=this.readVersions.get(i.key.toString());if(o){if(!r.isEqual(o))throw new Ve(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),r)}precondition(i){const r=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&r?Jr.updateTime(r):Jr.none()}preconditionForUpdate(i){const r=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&r){if(r.isEqual(Wt.min()))throw new Ve(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jr.updateTime(r)}return Jr.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class JY{constructor(i,r,o,a){this.asyncQueue=i,this.datastore=r,this.updateFunction=o,this.deferred=a,this.aa=5,this.rr=new FP(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,Ne.Z)(function*(){const r=new QY(i.datastore),o=i.ua(r);o&&o.then(a=>{i.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{i.deferred.resolve(a)}).catch(c=>{i.ha(c)}))}).catch(a=>{i.ha(a)})}))}ua(i){try{const r=this.updateFunction(i);return!dg(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const r=i.code;return"aborted"===r||"failed-precondition"===r||!uj(r)}return!1}}class XY{constructor(i,r,o){var a=this;this.credentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=zi.UNAUTHENTICATED,this.clientId=OG.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var c=(0,Ne.Z)(function*(g){ze("FirestoreClient","Received user=",g.uid),yield a.credentialListener(g),a.user=g});return function(g){return c.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,Ne.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const r=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),r.resolve()}catch(o){const a=qy(o,"Failed to shutdown persistence");r.reject(a)}})),r.promise}}function OH(s,i){return R1.apply(this,arguments)}function R1(){return(R1=(0,Ne.Z)(function*(s,i){s.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const r=yield s.getConfiguration();yield i.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(function(){var a=(0,Ne.Z)(function*(c){o.isEqual(c)||(yield nH(i.localStore,c),o=c)});return function(c){return a.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=i})).apply(this,arguments)}function kH(s,i){return O1.apply(this,arguments)}function O1(){return(O1=(0,Ne.Z)(function*(s,i){s.asyncQueue.verifyOperationInProgress();const r=yield k1(s);ze("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield i.initialize(r,o),s.setCredentialChangeListener(a=>{return(c=(0,Ne.Z)(function*(g,_){const b=Je(g);b.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const S=Fh(b);b.Kr.add(3),yield Hy(b),S&&b.Wr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(_),b.Kr.delete(3),yield NC(b)}),function(g,_){return c.apply(this,arguments)})(i.remoteStore,a);var c}),s.onlineComponents=i})).apply(this,arguments)}function k1(s){return N1.apply(this,arguments)}function N1(){return(N1=(0,Ne.Z)(function*(s){return s.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield OH(s,new TH)),s.offlineComponents})).apply(this,arguments)}function ZI(s){return F1.apply(this,arguments)}function F1(){return(F1=(0,Ne.Z)(function*(s){return s.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield kH(s,new M1)),s.onlineComponents})).apply(this,arguments)}function NH(s){return k1(s).then(i=>i.persistence)}function P1(s){return k1(s).then(i=>i.localStore)}function FH(s){return ZI(s).then(i=>i.remoteStore)}function L1(s){return ZI(s).then(i=>i.syncEngine)}function Zy(s){return V1.apply(this,arguments)}function V1(){return(V1=(0,Ne.Z)(function*(s){const i=yield ZI(s),r=i.eventManager;return r.onListen=RY.bind(null,i.syncEngine),r.onUnlisten=OY.bind(null,i.syncEngine),r})).apply(this,arguments)}function PH(s,i,r={}){const o=new Ci;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,c,g,_,b){const S=new KI({next:R=>{c.enqueueAndForget(()=>t1(a,T));const N=R.docs.has(g);!N&&R.fromCache?b.reject(new Ve(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&R.fromCache&&_&&"server"===_.source?b.reject(new Ve(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(R)},error:R=>b.reject(R)}),T=new i1(Dy(g.path),S,{includeMetadataChanges:!0,uo:!0});return XP(a,T)}(yield Zy(s),s.asyncQueue,i,r,o)})),o.promise}function LH(s,i,r={}){const o=new Ci;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,c,g,_,b){const S=new KI({next:R=>{c.enqueueAndForget(()=>t1(a,T)),R.fromCache&&"server"===_.source?b.reject(new Ve(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(R)},error:R=>b.reject(R)}),T=new i1(g,S,{includeMetadataChanges:!0,uo:!0});return XP(a,T)}(yield Zy(s),s.asyncQueue,i,r,o)})),o.promise}class l4{constructor(i,r,o,a,c,g,_,b){this.databaseId=i,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=g,this.autoDetectLongPolling=_,this.useFetchStreams=b}}class Qy{constructor(i,r){this.projectId=i,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Qy&&i.projectId===this.projectId&&i.database===this.database}}const VH=new Map;function B1(s,i,r){if(!r)throw new Ve(Te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${i}.`)}function BH(s,i,r,o){if(!0===i&&!0===o)throw new Ve(Te.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function UH(s){if(!mt.isDocumentKey(s))throw new Ve(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function GH(s){if(mt.isDocumentKey(s))throw new Ve(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function QI(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const i=function(r){if(r.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(r.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return i?`a custom ${i} object`:"an object"}}return"function"==typeof s?"a function":yt()}function mn(s,i){if("_delegate"in s&&(s=s._delegate),!(s instanceof i)){if(i.name===s.constructor.name)throw new Ve(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=QI(s);throw new Ve(Te.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${r}`)}}return s}function jH(s,i){if(i<=0)throw new Ve(Te.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${i}.`)}class HH{constructor(i){var r;if(void 0===i.host){if(void 0!==i.ssl)throw new Ve(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(r=i.ssl)||void 0===r||r;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Ve(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,BH("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class PC{constructor(i,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HH({}),this._settingsFrozen=!1,i instanceof Qy?this._databaseId=i:(this._app=i,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ve(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qy(o.options.projectId)}(i))}get app(){if(!this._app)throw new Ve(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Ve(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HH(i),void 0!==i.credentials&&(this._credentials=function(r){if(!r)return new O6;switch(r.type){case"gapi":const o=r.client;return Nt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new P6(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ve(Te.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=VH.get(i);r&&(ze("ComponentProvider","Removing Datastore"),VH.delete(i),r.terminate())}(this),Promise.resolve()}}class nr{constructor(i,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new nr(this.firestore,i,this._key)}}class us{constructor(i,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=i}withConverter(i){return new us(this.firestore,i,this._query)}}class lu extends us{constructor(i,r,o){super(i,r,Dy(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new nr(this.firestore,null,new mt(i))}withConverter(i){return new lu(this.firestore,i,this._path)}}function $H(s,i,...r){if(s=(0,oe.m9)(s),B1("collection","path",i),s instanceof PC){const o=bn.fromString(i,...r);return GH(o),new lu(s,null,o)}{if(!(s instanceof nr||s instanceof lu))throw new Ve(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=bn.fromString(s.path,...r).child(bn.fromString(i));return GH(o),new lu(s.firestore,null,o)}}function JI(s,i,...r){if(s=(0,oe.m9)(s),1===arguments.length&&(i=OG.I()),B1("doc","path",i),s instanceof PC){const o=bn.fromString(i,...r);return UH(o),new nr(s,null,new mt(o))}{if(!(s instanceof nr||s instanceof lu))throw new Ve(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(bn.fromString(i,...r));return UH(o),new nr(s.firestore,s instanceof lu?s.converter:null,new mt(o))}}function zH(s,i){return s=(0,oe.m9)(s),i=(0,oe.m9)(i),(s instanceof nr||s instanceof lu)&&(i instanceof nr||i instanceof lu)&&s.firestore===i.firestore&&s.path===i.path&&s.converter===i.converter}function qH(s,i){return s=(0,oe.m9)(s),i=(0,oe.m9)(i),s instanceof us&&i instanceof us&&s.firestore===i.firestore&&vC(s._query,i._query)&&s.converter===i.converter}class d4{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new FP(this,"async_queue_retry"),this.Ea=()=>{const r=qI();r&&ze("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const i=qI();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const r=qI();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new Ci;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,Ne.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(r){if(!mg(r))throw r;ze("AsyncQueue","Operation failed with retryable error: "+r)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const r=this.fa.then(()=>(this.ga=!0,i().catch(o=>{throw this.ma=o,this.ga=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=r,r}enqueueAfterDelay(i,r,o){this.Ta(),this.pa.indexOf(i)>-1&&(r=0);const a=JP.createAndSchedule(this,i,r,o,c=>this.Ra(c));return this._a.push(a),a}Ta(){this.ma&&yt()}verifyOperationInProgress(){}Pa(){var i=this;return(0,Ne.Z)(function*(){let r;do{r=i.fa,yield r}while(r!==i.fa)})()}ba(i){for(const r of this._a)if(r.timerId===i)return!0;return!1}va(i){return this.Pa().then(()=>{this._a.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==i&&r.timerId===i)break;return this.Pa()})}Va(i){this.pa.push(i)}Ra(i){const r=this._a.indexOf(i);this._a.splice(r,1)}}function U1(s){return function(i,r){if("object"!=typeof i||null===i)return!1;const o=i;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(s)}class h4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,r,o){this._progressObserver={next:i,error:r,complete:o}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,r){return this._taskCompletionResolver.promise.then(i,r)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class Mr extends PC{constructor(i,r){super(i,r),this.type="firestore",this._queue=new d4,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||WH(this),this._firestoreClient.terminate()}}function pi(s){return s._firestoreClient||WH(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function WH(s){var i;const r=s._freezeSettings(),o=(c=(null===(i=s._app)||void 0===i?void 0:i.options.appId)||"",new l4(s._databaseId,c,s._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;s._firestoreClient=new XY(s._credentials,s._queue,o)}function YH(s,i,r){const o=new Ci;return s.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield OH(s,r),yield kH(s,i),o.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===Te.FAILED_PRECONDITION||c.code===Te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),o.reject(a)}var c})).then(()=>o.promise)}function KH(s){if(s._initialized||s._terminated)throw new Ve(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ic{constructor(...i){for(let r=0;r<i.length;++r)if(0===i[r].length)throw new Ve(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class uu{constructor(i){this._byteString=i}static fromBase64String(i){try{return new uu(Ai.fromBase64String(i))}catch(r){throw new Ve(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(i){return new uu(Ai.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class bg{constructor(i){this._methodName=i}}class XI{constructor(i,r){if(!isFinite(i)||i<-90||i>90)throw new Ve(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(r)||r<-180||r>180)throw new Ve(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=i,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return ln(this._lat,i._lat)||ln(this._long,i._long)}}const E4=/^__.*__$/;class C4{constructor(i,r,o){this.data=i,this.fieldMask=r,this.fieldTransforms=o}toMutation(i,r){return null!==this.fieldMask?new Th(i,this.data,this.fieldMask,r,this.fieldTransforms):new EC(i,this.data,r,this.fieldTransforms)}}class ZH{constructor(i,r,o){this.data=i,this.fieldMask=r,this.fieldTransforms=o}toMutation(i,r){return new Th(i,this.data,this.fieldMask,r,this.fieldTransforms)}}function QH(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class eT{constructor(i,r,o,a,c,g){this.settings=i,this.databaseId=r,this.N=o,this.ignoreUndefinedProperties=a,void 0===c&&this.Sa(),this.fieldTransforms=c||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new eT(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(i),a=this.Ca({path:o,xa:!1});return a.ka(i),a}$a(i){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(i),a=this.Ca({path:o,xa:!1});return a.Sa(),a}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return nT(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(r=>i.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>i.isPrefixOf(r.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(QH(this.Da)&&E4.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class x4{constructor(i,r,o){this.databaseId=i,this.ignoreUndefinedProperties=r,this.N=o||kC(i)}Ba(i,r,o,a=!1){return new eT({Da:i,methodName:r,La:o,path:qi.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function wg(s){const i=s._freezeSettings(),r=kC(s._databaseId);return new x4(s._databaseId,!!i.ignoreUndefinedProperties,r)}function tT(s,i,r,o,a,c={}){const g=s.Ba(c.merge||c.mergeFields?2:0,i,r,a);$1("Data must be an object, but it was:",g,o);const _=e3(o,g);let b,S;if(c.merge)b=new Cy(g.fieldMask),S=g.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const N=z1(i,R,r);if(!g.contains(N))throw new Ve(Te.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);n3(T,N)||T.push(N)}b=new Cy(T),S=g.fieldTransforms.filter(R=>b.covers(R.field))}else b=null,S=g.fieldTransforms;return new C4(new as(_),b,S)}class LC extends bg{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof LC}}function JH(s,i,r){return new eT({Da:3,La:i.settings.La,methodName:s._methodName,xa:r},i.databaseId,i.N,i.ignoreUndefinedProperties)}class G1 extends bg{_toFieldTransform(i){return new wC(i.path,new Ty)}isEqual(i){return i instanceof G1}}class A4 extends bg{constructor(i,r){super(i),this.Ua=r}_toFieldTransform(i){const r=JH(this,i,!0),o=this.Ua.map(c=>Eg(c,r)),a=new fg(o);return new wC(i.path,a)}isEqual(i){return this===i}}class S4 extends bg{constructor(i,r){super(i),this.Ua=r}_toFieldTransform(i){const r=JH(this,i,!0),o=this.Ua.map(c=>Eg(c,r)),a=new pg(o);return new wC(i.path,a)}isEqual(i){return this===i}}class D4 extends bg{constructor(i,r){super(i),this.qa=r}_toFieldTransform(i){const r=new My(i.N,JG(i.N,this.qa));return new wC(i.path,r)}isEqual(i){return this===i}}function j1(s,i,r,o){const a=s.Ba(1,i,r);$1("Data must be an object, but it was:",a,o);const c=[],g=as.empty();cg(o,(b,S)=>{const T=q1(i,b,r);S=(0,oe.m9)(S);const R=a.$a(T);if(S instanceof LC)c.push(T);else{const N=Eg(S,R);null!=N&&(c.push(T),g.set(T,N))}});const _=new Cy(c);return new ZH(g,_,a.fieldTransforms)}function H1(s,i,r,o,a,c){const g=s.Ba(1,i,r),_=[z1(i,o,r)],b=[a];if(c.length%2!=0)throw new Ve(Te.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)_.push(z1(i,c[N])),b.push(c[N+1]);const S=[],T=as.empty();for(let N=_.length-1;N>=0;--N)if(!n3(S,_[N])){const L=_[N];let H=b[N];H=(0,oe.m9)(H);const ie=g.$a(L);if(H instanceof LC)S.push(L);else{const we=Eg(H,ie);null!=we&&(S.push(L),T.set(L,we))}}const R=new Cy(S);return new ZH(T,R,g.fieldTransforms)}function XH(s,i,r,o=!1){return Eg(r,s.Ba(o?4:3,i))}function Eg(s,i){if(t3(s=(0,oe.m9)(s)))return $1("Unsupported field value:",i,s),e3(s,i);if(s instanceof bg)return function(r,o){if(!QH(o.Da))throw o.Fa(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(s,i),null;if(void 0===s&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),s instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(r,o){const a=[];let c=0;for(const g of r){let _=Eg(g,o.Oa(c));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),c++}return{arrayValue:{values:a}}}(s,i)}return function(r,o){if(null===(r=(0,oe.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return JG(o.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const a=xi.fromDate(r);return{timestampValue:SC(o.N,a)}}if(r instanceof xi){const a=new xi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:SC(o.N,a)}}if(r instanceof XI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uu)return{bytesValue:yj(o.N,r._byteString)};if(r instanceof nr){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:uP(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Fa(`Unsupported field value: ${QI(r)}`)}(s,i)}function e3(s,i){const r={};return FG(s)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):cg(s,(o,a)=>{const c=Eg(a,i.Na(o));null!=c&&(r[o]=c)}),{mapValue:{fields:r}}}function t3(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof xi||s instanceof XI||s instanceof uu||s instanceof nr||s instanceof bg)}function $1(s,i,r){if(!t3(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=QI(r);throw i.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function z1(s,i,r){if((i=(0,oe.m9)(i))instanceof Ic)return i._internalPath;if("string"==typeof i)return q1(s,i);throw nT("Field path arguments must be of type string or FieldPath.",s,!1,void 0,r)}const I4=new RegExp("[~\\*/\\[\\]]");function q1(s,i,r){if(i.search(I4)>=0)throw nT(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Ic(...i.split("."))._internalPath}catch(o){throw nT(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function nT(s,i,r,o,a){const c=o&&!o.isEmpty(),g=void 0!==a;let _=`Function ${i}() called with invalid data`;r&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(c||g)&&(b+=" (found",c&&(b+=` in field ${o}`),g&&(b+=` in document ${a}`),b+=")"),new Ve(Te.INVALID_ARGUMENT,_+s+b)}function n3(s,i){return s.some(r=>r.isEqual(i))}class VC{constructor(i,r,o,a,c){this._firestore=i,this._userDataWriter=r,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new T4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const r=this._document.data.field(rT("DocumentSnapshot.get",i));if(null!==r)return this._userDataWriter.convertValue(r)}}}class T4 extends VC{data(){return super.data()}}function rT(s,i){return"string"==typeof i?q1(s,i):i instanceof Ic?i._internalPath:i._delegate._internalPath}class Cg{constructor(i,r){this.hasPendingWrites=i,this.fromCache=r}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Tc extends VC{constructor(i,r,o,a,c,g){super(i,r,o,a,g),this._firestore=i,this._firestoreImpl=i,this.metadata=c}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const r=new BC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,r={}){if(this._document){const o=this._document.data.field(rT("DocumentSnapshot.get",i));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class BC extends Tc{data(i={}){return super.data(i)}}class Lh{constructor(i,r,o,a){this._firestore=i,this._userDataWriter=r,this._snapshot=a,this.metadata=new Cg(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const i=[];return this.forEach(r=>i.push(r)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,r){this._snapshot.docs.forEach(o=>{i.call(r,new BC(this._firestore,this._userDataWriter,o.key,o,new Cg(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const r=!!i.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ve(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new BC(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Cg(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const _=new BC(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Cg(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let b=-1,S=-1;return 0!==g.type&&(b=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),1!==g.type&&(c=c.add(g.doc),S=c.indexOf(g.doc.key)),{type:M4(g.type),doc:_,oldIndex:b,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function M4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function r3(s,i){return s instanceof Tc&&i instanceof Tc?s._firestore===i._firestore&&s._key.isEqual(i._key)&&(null===s._document?null===i._document:s._document.isEqual(i._document))&&s._converter===i._converter:s instanceof Lh&&i instanceof Lh&&s._firestore===i._firestore&&qH(s.query,i.query)&&s.metadata.isEqual(i.metadata)&&s._snapshot.isEqual(i._snapshot)}function i3(s){if(MI(s)&&0===s.explicitOrderBy.length)throw new Ve(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UC{}function Vh(s,...i){for(const r of i)s=r._apply(s);return s}class R4 extends UC{constructor(i,r,o){super(),this.Ka=i,this.ja=r,this.Qa=o,this.type="where"}_apply(i){const r=wg(i.firestore),o=function(a,c,g,_,b,S,T){let R;if(b.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ve(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){c3(T,S);const L=[];for(const H of T)L.push(u3(_,a,H));R={arrayValue:{values:L}}}else R=u3(_,a,T)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||c3(T,S),R=XH(g,"where",T,"in"===S||"not-in"===S);const N=Os.create(b,S,R);return function(L,H){if(H.v()){const we=rP(L);if(null!==we&&!we.isEqual(H.field))throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${H.field.toString()}'`);const Le=nP(L);null!==Le&&d3(0,H.field,Le)}const ie=function(we,Le){for(const Ze of we.filters)if(Le.indexOf(Ze.op)>=0)return Ze.op;return null}(L,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==ie)throw new Ve(Te.INVALID_ARGUMENT,ie===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${ie.toString()}' filters.`)}(a,N),N}(i._query,0,r,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new us(i.firestore,i.converter,function(a,c){const g=a.filters.concat([c]);return new xc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),g,a.limit,a.limitType,a.startAt,a.endAt)}(i._query,o))}}class k4 extends UC{constructor(i,r){super(),this.Ka=i,this.Wa=r,this.type="orderBy"}_apply(i){const r=function(o,a,c){if(null!==o.startAt)throw new Ve(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ve(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Sy(a,c);return function(_,b){if(null===nP(_)){const S=rP(_);null!==S&&d3(0,S,b.field)}}(o,g),g}(i._query,this.Ka,this.Wa);return new us(i.firestore,i.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new xc(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(i._query,r))}}class s3 extends UC{constructor(i,r,o){super(),this.type=i,this.Ga=r,this.za=o}_apply(i){return new us(i.firestore,i.converter,WG(i._query,this.Ga,this.za))}}class o3 extends UC{constructor(i,r,o){super(),this.type=i,this.Ha=r,this.Ja=o}_apply(i){const r=l3(i,this.type,this.Ha,this.Ja);return new us(i.firestore,i.converter,(a=r,new xc((o=i._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class a3 extends UC{constructor(i,r,o){super(),this.type=i,this.Ha=r,this.Ja=o}_apply(i){const r=l3(i,this.type,this.Ha,this.Ja);return new us(i.firestore,i.converter,(a=r,new xc((o=i._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function l3(s,i,r,o){if(r[0]=(0,oe.m9)(r[0]),r[0]instanceof VC)return function(a,c,g,_,b){if(!_)throw new Ve(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const S=[];for(const T of Iy(a))if(T.field.isKeyField())S.push(xI(c,_.key));else{const R=_.data.field(T.field);if(QF(R))throw new Ve(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const N=T.field.canonicalString();throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}S.push(R)}return new yC(S,b)}(s._query,s.firestore._databaseId,i,r[0]._document,o);{const a=wg(s.firestore);return function(c,g,_,b,S,T){const R=c.explicitOrderBy;if(S.length>R.length)throw new Ve(Te.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let L=0;L<S.length;L++){const H=S[L];if(R[L].field.isKeyField()){if("string"!=typeof H)throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof H}`);if(!iP(c)&&-1!==H.indexOf("/"))throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${H}' contains a slash.`);const ie=c.path.child(bn.fromString(H));if(!mt.isDocumentKey(ie))throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const we=new mt(ie);N.push(xI(g,we))}else{const ie=XH(_,b,H);N.push(ie)}}return new yC(N,T)}(s._query,s.firestore._databaseId,a,i,r,o)}}function u3(s,i,r){if("string"==typeof(r=(0,oe.m9)(r))){if(""===r)throw new Ve(Te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iP(i)&&-1!==r.indexOf("/"))throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=i.path.child(bn.fromString(r));if(!mt.isDocumentKey(o))throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return xI(s,new mt(o))}if(r instanceof nr)return xI(s,r._key);throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${QI(r)}.`)}function c3(s,i){if(!Array.isArray(s)||0===s.length)throw new Ve(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(s.length>10)throw new Ve(Te.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function d3(s,i,r){if(!r.isEqual(i))throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class W1{convertValue(i,r="none"){switch(hg(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Qr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,r);case 5:return i.stringValue;case 6:return this.convertBytes(xy(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,r);case 10:return this.convertObject(i.mapValue,r);default:throw yt()}}convertObject(i,r){const o={};return cg(i.fields,(a,c)=>{o[a]=this.convertValue(c,r)}),o}convertGeoPoint(i){return new XI(Qr(i.latitude),Qr(i.longitude))}convertArray(i,r){return(i.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(i,r){switch(r){case"previous":const o=PG(i);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(pC(i));default:return null}}convertTimestamp(i){const r=Ih(i);return new xi(r.seconds,r.nanos)}convertDocumentKey(i,r){const o=bn.fromString(i);Nt(Rj(o));const a=new Qy(o.get(1),o.get(3)),c=new mt(o.popFirst(5));return a.isEqual(r)||Zr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function iT(s,i,r){let o;return o=s?r&&(r.merge||r.mergeFields)?s.toFirestore(i,r):s.toFirestore(i):i,o}class G4 extends W1{constructor(i){super(),this.firestore=i}convertBytes(i){return new uu(i)}convertReference(i){const r=this.convertDocumentKey(i,this.firestore._databaseId);return new nr(this.firestore,null,r)}}class h3{constructor(i,r){this._firestore=i,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=wg(i)}set(i,r,o){this._verifyNotCommitted();const a=Bh(i,this._firestore),c=iT(a.converter,r,o),g=tT(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,o);return this._mutations.push(g.toMutation(a._key,Jr.none())),this}update(i,r,o,...a){this._verifyNotCommitted();const c=Bh(i,this._firestore);let g;return g="string"==typeof(r=(0,oe.m9)(r))||r instanceof Ic?H1(this._dataReader,"WriteBatch.update",c._key,r,o,a):j1(this._dataReader,"WriteBatch.update",c._key,r),this._mutations.push(g.toMutation(c._key,Jr.exists(!0))),this}delete(i){this._verifyNotCommitted();const r=Bh(i,this._firestore);return this._mutations=this._mutations.concat(new CC(r._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bh(s,i){if((s=(0,oe.m9)(s)).firestore!==i)throw new Ve(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class xg extends W1{constructor(i){super(),this.firestore=i}convertBytes(i){return new uu(i)}convertReference(i){const r=this.convertDocumentKey(i,this.firestore._databaseId);return new nr(this.firestore,null,r)}}function f3(s,i,r){s=mn(s,nr);const o=mn(s.firestore,Mr),a=iT(s.converter,i,r);return Jy(o,[tT(wg(o),"setDoc",s._key,a,null!==s.converter,r).toMutation(s._key,Jr.none())])}function p3(s,i,r,...o){s=mn(s,nr);const a=mn(s.firestore,Mr),c=wg(a);let g;return g="string"==typeof(i=(0,oe.m9)(i))||i instanceof Ic?H1(c,"updateDoc",s._key,i,r,o):j1(c,"updateDoc",s._key,i),Jy(a,[g.toMutation(s._key,Jr.exists(!0))])}function g3(s,...i){var r,o,a;s=(0,oe.m9)(s);let c={includeMetadataChanges:!1},g=0;"object"!=typeof i[g]||U1(i[g])||(c=i[g],g++);const _={includeMetadataChanges:c.includeMetadataChanges};if(U1(i[g])){const R=i[g];i[g]=null===(r=R.next)||void 0===r?void 0:r.bind(R),i[g+1]=null===(o=R.error)||void 0===o?void 0:o.bind(R),i[g+2]=null===(a=R.complete)||void 0===a?void 0:a.bind(R)}let b,S,T;if(s instanceof nr)S=mn(s.firestore,Mr),T=Dy(s._key.path),b={next:R=>{i[g]&&i[g](Y1(S,s,R))},error:i[g+1],complete:i[g+2]};else{const R=mn(s,us);S=mn(R.firestore,Mr),T=R._query;const N=new xg(S);b={next:L=>{i[g]&&i[g](new Lh(S,N,R,L))},error:i[g+1],complete:i[g+2]},i3(s._query)}return function(R,N,L,H){const ie=new KI(H),we=new i1(N,ie,L);return R.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return XP(yield Zy(R),we)})),()=>{ie.Xo(),R.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return t1(yield Zy(R),we)}))}}(pi(S),T,_,b)}function Jy(s,i){return function(r,o){const a=new Ci;return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(s,i,r){return u1.apply(this,arguments)}(yield L1(r),o,a)})),a.promise}(pi(s),i)}function Y1(s,i,r){const o=r.docs.get(i._key),a=new xg(s);return new Tc(s,a,i._key,o,new Cg(r.hasPendingWrites,r.fromCache),i.converter)}class Q4 extends class{constructor(i,r){this._firestore=i,this._transaction=r,this._dataReader=wg(i)}get(i){const r=Bh(i,this._firestore),o=new G4(this._firestore);return this._transaction.lookup([r._key]).then(a=>{if(!a||1!==a.length)return yt();const c=a[0];if(c.isFoundDocument())return new VC(this._firestore,o,c.key,c,r.converter);if(c.isNoDocument())return new VC(this._firestore,o,r._key,null,r.converter);throw yt()})}set(i,r,o){const a=Bh(i,this._firestore),c=iT(a.converter,r,o),g=tT(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,o);return this._transaction.set(a._key,g),this}update(i,r,o,...a){const c=Bh(i,this._firestore);let g;return g="string"==typeof(r=(0,oe.m9)(r))||r instanceof Ic?H1(this._dataReader,"Transaction.update",c._key,r,o,a):j1(this._dataReader,"Transaction.update",c._key,r),this._transaction.update(c._key,g),this}delete(i){const r=Bh(i,this._firestore);return this._transaction.delete(r._key),this}}{constructor(i,r){super(i,r),this._firestore=i}get(i){const r=Bh(i,this._firestore),o=new xg(this._firestore);return super.get(i).then(a=>new Tc(this._firestore,o,r._key,a._document,new Cg(!1,!1),r.converter))}}function K1(s,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return i}function m3(){if("undefined"==typeof Uint8Array)throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function _3(){if("undefined"==typeof atob)throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){wy=s})(bh.SDK_VERSION),(0,bh._registerComponent)(new $E.wA("firestore",(s,{options:i})=>{const r=s.getProvider("app").getImmediate(),o=new Mr(r,new N6(s.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),o._setSettings(i),o},"PUBLIC")),(0,bh.registerVersion)("@firebase/firestore","3.0.1",void 0);class GC{constructor(i){this._delegate=i}static fromBase64String(i){return _3(),new GC(uu.fromBase64String(i))}static fromUint8Array(i){return m3(),new GC(uu.fromUint8Array(i))}toBase64(){return _3(),this._delegate.toBase64()}toUint8Array(){return m3(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Z1(s){return function(s,i){if("object"!=typeof s||null===s)return!1;const r=s;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(s)}class l8{enableIndexedDbPersistence(i,r){return function(s,i){KH(s=mn(s,Mr));const r=pi(s),o=s._freezeSettings(),a=new M1;return YH(r,a,new MH(a,o.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(i){return function(s){KH(s=mn(s,Mr));const i=pi(s),r=s._freezeSettings(),o=new M1;return YH(i,o,new KY(o,r.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(s){if(s._initialized&&!s._terminated)throw new Ve(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Ci;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(r=(0,Ne.Z)(function*(o){if(!il.Pt())return Promise.resolve();const a=o+"main";yield il.delete(a)}),function(o){return r.apply(this,arguments)})(EP(s._databaseId,s._persistenceKey)),i.resolve()}catch(r){i.reject(r)}var r})),i.promise}(i._delegate)}}class y3{constructor(i,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},i instanceof Qy||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const r=this._delegate._getSettings();!i.merge&&r.host!==i.host&&hC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},r),i)).merge,this._delegate._setSettings(i)}useEmulator(i,r,o={}){!function(s,i,r,o={}){var a;const c=(s=mn(s,PC))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==i&&hC("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},c),{host:`${i}:${r}`,ssl:!1})),o.mockUserToken){let g,_;if("string"==typeof o.mockUserToken)g=o.mockUserToken,_=zi.MOCK_USER;else{g=(0,oe.Sg)(o.mockUserToken,null===(a=s._app)||void 0===a?void 0:a.options.projectId);const b=o.mockUserToken.sub||o.mockUserToken.user_id;if(!b)throw new Ve(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new zi(b)}s._credentials=new k6(new RG(g,_))}}(this._delegate,i,r,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ne.Z)(function*(){const i=yield NH(s),r=yield FH(s);return i.setNetworkEnabled(!0),function(o){const a=Je(o);return a.Kr.delete(0),NC(a)}(r)}))}(pi(s=mn(s,Mr)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ne.Z)(function*(){const i=yield NH(s),r=yield FH(s);return i.setNetworkEnabled(!1),(o=(0,Ne.Z)(function*(a){const c=Je(a);c.Kr.add(0),yield Hy(c),c.Wr.set("Offline")}),function(a){return o.apply(this,arguments)})(r);var o}))}(pi(s=mn(s,Mr)))}(this._delegate)}enablePersistence(i){let r=!1,o=!1;return i&&(r=!!i.synchronizeTabs,o=!!i.experimentalForceOwningTab,BH("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(i){const r=new Ci;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(s,i){return p1.apply(this,arguments)}(yield L1(i),r)})),r.promise}(pi(s=mn(s,Mr)))}(this._delegate)}onSnapshotsInSync(i){return function(s,i){return function(s,i){const r=new KI(i);return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return o=yield Zy(s),a=r,Je(o).Zr.add(a),void a.next();var o,a})),()=>{r.Xo(),s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return o=yield Zy(s),a=r,void Je(o).Zr.delete(a);var o,a}))}}(pi(s=mn(s,Mr)),U1(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new Xy(this,$H(this._delegate,i))}catch(r){throw ks(r,"collection()","Firestore.collection()")}}doc(i){try{return new ga(this,JI(this._delegate,i))}catch(r){throw ks(r,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Ns(this,function(s,i){if(s=mn(s,PC),B1("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Ve(Te.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(s,null,(r=i,new xc(bn.emptyPath(),r)));var r}(this._delegate,i))}catch(r){throw ks(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(s,i){return function(s,i){const r=new Ci;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const o=yield(a=s,ZI(a).then(c=>c.datastore));var a;new JY(s.asyncQueue,o,i,r).run()})),r.promise}(pi(s),r=>i(new Q4(s,r)))}(this._delegate,r=>i(new v3(this,r)))}batch(){return pi(this._delegate),new b3(new h3(this._delegate,i=>Jy(this._delegate,i)))}loadBundle(i){return function(s,i){const r=pi(s=mn(s,Mr)),o=new h4;return function(s,i,r,o){const a=function(c,g){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,b=function(b,S){if(b instanceof Uint8Array)return RH(b,S);if(b instanceof ArrayBuffer)return RH(new Uint8Array(b),S);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new ZY(b,g);var b}(r,kC(i));s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function(s,i,r){const o=Je(s);var a;(a=(0,Ne.Z)(function*(c,g,_){try{const b=yield g.getMetadata();if(yield function(N,L){const H=Je(N),ie=Si(L.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",we=>H.Je.getBundleMetadata(we,L.id)).then(we=>!!we&&we.createTime.compareTo(ie)>=0)}(c.localStore,b))return yield g.close(),void _._completeWith((N=b,{taskState:"Success",documentsLoaded:N.totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}));_._updateProgress(bH(b));const S=new DY(b,c.localStore,g.N);let T=yield g.Qo();for(;T;){const N=yield S.fo(T);N&&_._updateProgress(N),T=yield g.Qo()}const R=yield S.complete();yield Dc(c,R.Tn,void 0),yield function(N,L){const H=Je(N);return H.persistence.runTransaction("Save bundle","readwrite",ie=>H.Je.saveBundleMetadata(ie,L))}(c.localStore,b),_._completeWith(R.progress)}catch(b){hC("SyncEngine",`Loading bundle failed with ${b}`),_._failWith(b)}var N}),function(c,g,_){return a.apply(this,arguments)})(o,i,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield L1(s),a,o)}))}(r,s._databaseId,i,o),o}(this._delegate,i)}namedQuery(i){return function(s,i){return function(s,i){return s.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(r,o){const a=Je(r);return a.persistence.runTransaction("Get named query","readonly",c=>a.Je.getNamedQuery(c,o))}(yield P1(s),i)}))}(pi(s=mn(s,Mr)),i).then(r=>r?new us(s,null,r.query):null)}(this._delegate,i).then(r=>r?new Ns(this,r):null)}}class sT extends W1{constructor(i){super(),this.firestore=i}convertBytes(i){return new GC(new uu(i))}convertReference(i){const r=this.convertDocumentKey(i,this.firestore._databaseId);return ga.forKey(r,this.firestore,null)}}class v3{constructor(i,r){this._firestore=i,this._delegate=r,this._userDataWriter=new sT(i)}get(i){const r=Sg(i);return this._delegate.get(r).then(o=>new jC(this._firestore,new Tc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(i,r,o){const a=Sg(i);return o?(K1("Transaction.set",o),this._delegate.set(a,r,o)):this._delegate.set(a,r),this}update(i,r,o,...a){const c=Sg(i);return 2===arguments.length?this._delegate.update(c,r):this._delegate.update(c,r,o,...a),this}delete(i){const r=Sg(i);return this._delegate.delete(r),this}}class b3{constructor(i){this._delegate=i}set(i,r,o){const a=Sg(i);return o?(K1("WriteBatch.set",o),this._delegate.set(a,r,o)):this._delegate.set(a,r),this}update(i,r,o,...a){const c=Sg(i);return 2===arguments.length?this._delegate.update(c,r):this._delegate.update(c,r,o,...a),this}delete(i){const r=Sg(i);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Ag{constructor(i,r,o){this._firestore=i,this._userDataWriter=r,this._delegate=o}fromFirestore(i,r){const o=new BC(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new HC(this._firestore,o),null!=r?r:{})}toFirestore(i,r){return r?this._delegate.toFirestore(i,r):this._delegate.toFirestore(i)}static getInstance(i,r){const o=Ag.INSTANCES;let a=o.get(i);a||(a=new WeakMap,o.set(i,a));let c=a.get(r);return c||(c=new Ag(i,new sT(i),r),a.set(r,c)),c}}Ag.INSTANCES=new WeakMap;class ga{constructor(i,r){this.firestore=i,this._delegate=r,this._userDataWriter=new sT(i)}static forPath(i,r,o){if(i.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new ga(r,new nr(r._delegate,o,new mt(i)))}static forKey(i,r,o){return new ga(r,new nr(r._delegate,o,i))}get id(){return this._delegate.id}get parent(){return new Xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new Xy(this.firestore,$H(this._delegate,i))}catch(r){throw ks(r,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,oe.m9)(i))instanceof nr&&zH(this._delegate,i)}set(i,r){r=K1("DocumentReference.set",r);try{return r?f3(this._delegate,i,r):f3(this._delegate,i)}catch(o){throw ks(o,"setDoc()","DocumentReference.set()")}}update(i,r,...o){try{return 1===arguments.length?p3(this._delegate,i):p3(this._delegate,i,r,...o)}catch(a){throw ks(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Jy(mn(s.firestore,Mr),[new CC(s._key,Jr.none())])}(this._delegate)}onSnapshot(...i){const r=w3(i),o=E3(i,a=>new jC(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return g3(this._delegate,r,o)}get(i){let r;return r="cache"===(null==i?void 0:i.source)?function(s){s=mn(s,nr);const i=mn(s.firestore,Mr),r=pi(i),o=new xg(i);return function(s,i){const r=new Ci;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(o=(0,Ne.Z)(function*(a,c,g){try{const _=yield function(b,S){const T=Je(b);return T.persistence.runTransaction("read document","readonly",R=>T.Qn.An(R,S))}(a,c);_.isFoundDocument()?g.resolve(_):_.isNoDocument()?g.resolve(null):g.reject(new Ve(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const b=qy(_,`Failed to get document '${c} from cache`);g.reject(b)}}),function(a,c,g){return o.apply(this,arguments)})(yield P1(s),i,r);var o})),r.promise}(r,s._key).then(a=>new Tc(i,o,s._key,a,new Cg(null!==a&&a.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=mn(s,nr);const i=mn(s.firestore,Mr);return PH(pi(i),s._key,{source:"server"}).then(r=>Y1(i,s,r))}(this._delegate):function(s){s=mn(s,nr);const i=mn(s.firestore,Mr);return PH(pi(i),s._key).then(r=>Y1(i,s,r))}(this._delegate),r.then(o=>new jC(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(i){return new ga(this.firestore,this._delegate.withConverter(i?Ag.getInstance(this.firestore,i):null))}}function ks(s,i,r){return s.message=s.message.replace(i,r),s}function w3(s){for(const i of s)if("object"==typeof i&&!Z1(i))return i;return{}}function E3(s,i){var r,o;let a;return a=Z1(s[0])?s[0]:Z1(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:c=>{a.next&&a.next(i(c))},error:null===(r=a.error)||void 0===r?void 0:r.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class jC{constructor(i,r){this._firestore=i,this._delegate=r}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,r){return this._delegate.get(i,r)}isEqual(i){return r3(this._delegate,i._delegate)}}class HC extends jC{data(i){const r=this._delegate.data(i);return function(s,i){s||yt()}(void 0!==r),r}}class Ns{constructor(i,r){this.firestore=i,this._delegate=r,this._userDataWriter=new sT(i)}where(i,r,o){try{return new Ns(this.firestore,Vh(this._delegate,function(s,i,r){const o=i,a=rT("where",s);return new R4(a,o,r)}(i,r,o)))}catch(a){throw ks(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,r){try{return new Ns(this.firestore,Vh(this._delegate,function(s,i="asc"){const r=i,o=rT("orderBy",s);return new k4(o,r)}(i,r)))}catch(o){throw ks(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Ns(this.firestore,Vh(this._delegate,function(s){return jH("limit",s),new s3("limit",s,"F")}(i)))}catch(r){throw ks(r,"limit()","Query.limit()")}}limitToLast(i){try{return new Ns(this.firestore,Vh(this._delegate,function(s){return jH("limitToLast",s),new s3("limitToLast",s,"L")}(i)))}catch(r){throw ks(r,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Ns(this.firestore,Vh(this._delegate,function(...s){return new o3("startAt",s,!0)}(...i)))}catch(r){throw ks(r,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Ns(this.firestore,Vh(this._delegate,function(...s){return new o3("startAfter",s,!1)}(...i)))}catch(r){throw ks(r,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Ns(this.firestore,Vh(this._delegate,function(...s){return new a3("endBefore",s,!0)}(...i)))}catch(r){throw ks(r,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Ns(this.firestore,Vh(this._delegate,function(...s){return new a3("endAt",s,!1)}(...i)))}catch(r){throw ks(r,"endAt()","Query.endAt()")}}isEqual(i){return qH(this._delegate,i._delegate)}get(i){let r;return r="cache"===(null==i?void 0:i.source)?function(s){s=mn(s,us);const i=mn(s.firestore,Mr),r=pi(i),o=new xg(i);return function(s,i){const r=new Ci;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(o=(0,Ne.Z)(function*(a,c,g){try{const _=yield HI(a,c,!0),b=new CH(c,_.Gn),S=b.Io(_.documents),T=b.applyChanges(S,!1);g.resolve(T.snapshot)}catch(_){const b=qy(_,`Failed to execute query '${c} against cache`);g.reject(b)}}),function(a,c,g){return o.apply(this,arguments)})(yield P1(s),i,r);var o})),r.promise}(r,s._query).then(a=>new Lh(i,o,s,a))}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=mn(s,us);const i=mn(s.firestore,Mr),r=pi(i),o=new xg(i);return LH(r,s._query,{source:"server"}).then(a=>new Lh(i,o,s,a))}(this._delegate):function(s){s=mn(s,us);const i=mn(s.firestore,Mr),r=pi(i),o=new xg(i);return i3(s._query),LH(r,s._query).then(a=>new Lh(i,o,s,a))}(this._delegate),r.then(o=>new Q1(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...i){const r=w3(i),o=E3(i,a=>new Q1(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return g3(this._delegate,r,o)}withConverter(i){return new Ns(this.firestore,this._delegate.withConverter(i?Ag.getInstance(this.firestore,i):null))}}class c8{constructor(i,r){this._firestore=i,this._delegate=r}get type(){return this._delegate.type}get doc(){return new HC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Q1{constructor(i,r){this._firestore=i,this._delegate=r}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new HC(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(r=>new c8(this._firestore,r))}forEach(i,r){this._delegate.forEach(o=>{i.call(r,new HC(this._firestore,o))})}isEqual(i){return r3(this._delegate,i._delegate)}}class Xy extends Ns{constructor(i,r){super(i,r),this.firestore=i,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new ga(this.firestore,i):null}doc(i){try{return new ga(this.firestore,void 0===i?JI(this._delegate):JI(this._delegate,i))}catch(r){throw ks(r,"doc()","CollectionReference.doc()")}}add(i){return function(s,i){const r=mn(s.firestore,Mr),o=JI(s),a=iT(s.converter,i);return Jy(r,[tT(wg(s.firestore),"addDoc",o._key,a,null!==s.converter,{}).toMutation(o._key,Jr.exists(!1))]).then(()=>o)}(this._delegate,i).then(r=>new ga(this.firestore,r))}isEqual(i){return zH(this._delegate,i._delegate)}withConverter(i){return new Xy(this.firestore,this._delegate.withConverter(i?Ag.getInstance(this.firestore,i):null))}}function Sg(s){return mn(s,nr)}class J1{constructor(...i){this._delegate=new Ic(...i)}static documentId(){return new J1(qi.keyField().canonicalString())}isEqual(i){return(i=(0,oe.m9)(i))instanceof Ic&&this._delegate._internalPath.isEqual(i._internalPath)}}class Dg{constructor(i){this._delegate=i}static serverTimestamp(){const i=new G1("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new Dg(i)}static delete(){const i=new LC("deleteField");return i._methodName="FieldValue.delete",new Dg(i)}static arrayUnion(...i){const r=function(...s){return new A4("arrayUnion",s)}(...i);return r._methodName="FieldValue.arrayUnion",new Dg(r)}static arrayRemove(...i){const r=function(...s){return new S4("arrayRemove",s)}(...i);return r._methodName="FieldValue.arrayRemove",new Dg(r)}static increment(i){const r=function(s){return new D4("increment",s)}(i);return r._methodName="FieldValue.increment",new Dg(r)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const d8={Firestore:y3,GeoPoint:XI,Timestamp:xi,Blob:GC,Transaction:v3,WriteBatch:b3,DocumentReference:ga,DocumentSnapshot:jC,Query:Ns,QueryDocumentSnapshot:HC,QuerySnapshot:Q1,CollectionReference:Xy,FieldPath:J1,FieldValue:Dg,setLogLevel:function(s){!function(s){Dh.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function C3(s,i){return i?vr(()=>s,i):vr(()=>s)}!function(s){(function(s,i){s.INTERNAL.registerComponent(new $E.wA("firestore-compat",r=>((i,r)=>new y3(i,r,new l8))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},d8)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(JD.Z);var X1=U(9673),oT=U(7841);const x3=new f.OlP("angularfire2.auth.use-emulator"),A3=new f.OlP("angularfire2.auth.settings"),S3=new f.OlP("angularfire2.auth.tenant-id"),D3=new f.OlP("angularfire2.auth.langugage-code"),I3=new f.OlP("angularfire2.auth.use-device-language"),T3=new f.OlP("angularfire.auth.persistence"),M3=(s,i,r,o,a,c,g,_)=>(0,er.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const b=i.runOutsideAngular(()=>s.auth());if(r&&b.useEmulator(...r),o&&(b.tenantId=o),b.languageCode=a,c&&b.useDeviceLanguage(),g)for(const[S,T]of Object.entries(g))b.settings[S]=T;return _&&b.setPersistence(_),b},[r,o,a,c,g,_]);let eL=(()=>{class s{constructor(r,o,a,c,g,_,b,S,T,R,N){const L=new Pt.xQ,H=(0,it.of)(void 0).pipe((0,Jl.QV)(g.outsideAngular),vr(()=>c.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9083)))),(0,bt.U)(()=>(0,so.on)(r,c,o)),(0,bt.U)(ie=>M3(ie,c,_,S,T,R,b,N)),C_({bufferSize:1,refCount:!1}));if(ts(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{H.pipe(ci()).subscribe();const we=H.pipe(vr(Ke=>Ke.getRedirectResult().then(wt=>wt,()=>null)),er.iC,C_({bufferSize:1,refCount:!1})),Le=H.pipe(vr(Ke=>new Dn.y(wt=>({unsubscribe:c.runOutsideAngular(()=>Ke.onAuthStateChanged(Er=>wt.next(Er),Er=>wt.error(Er),()=>wt.complete()))})))),Ze=H.pipe(vr(Ke=>new Dn.y(wt=>({unsubscribe:c.runOutsideAngular(()=>Ke.onIdTokenChanged(Er=>wt.next(Er),Er=>wt.error(Er),()=>wt.complete()))}))));this.authState=we.pipe(C3(Le),(0,X1.R)(g.outsideAngular),(0,Jl.QV)(g.insideAngular)),this.user=we.pipe(C3(Ze),(0,X1.R)(g.outsideAngular),(0,Jl.QV)(g.insideAngular)),this.idToken=this.user.pipe(vr(Ke=>Ke?(0,Rn.D)(Ke.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(vr(Ke=>Ke?(0,Rn.D)(Ke.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,Ul.T)(we,L,this.authState.pipe(zn(Ke=>!Ke))).pipe((0,bt.U)(Ke=>(null==Ke?void 0:Ke.user)?Ke:null),(0,X1.R)(g.outsideAngular),(0,Jl.QV)(g.insideAngular))}return(0,so.pX)(this,H,c,{spy:{apply:(ie,we,Le)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&Le.then(Ze=>L.next(Ze))}}})}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(so.Dh),f.LFG(so.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(er.HU),f.LFG(x3,8),f.LFG(A3,8),f.LFG(S3,8),f.LFG(D3,8),f.LFG(I3,8),f.LFG(T3,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();function R3(s,i){return function(s,i=w_.z){return new Dn.y(r=>{let o;return null!=i?i.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},r)}):o=s.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(s,i)}function tL(s,i){return R3(s,i).pipe((0,bt.U)(r=>({payload:r,type:"query"})))}function aT(s,i){return tL(s,i).pipe(Ss(void 0),wp(),(0,bt.U)(([r,o])=>{const a=o.payload.docChanges(),c=a.map(g=>({type:g.type,payload:g}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,_)=>{const b=a.find(T=>T.doc.ref.isEqual(g.ref)),S=null==r?void 0:r.payload.docs.find(T=>T.ref.isEqual(g.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(g.metadata)||!b&&S&&JSON.stringify(S.metadata)===JSON.stringify(g.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:g}})}),c}))}function O3(s,i,r){return aT(s,r).pipe(Pd((o,a)=>function(s,i,r){return i.forEach(o=>{r.indexOf(o.type)>-1&&(s=function(s,i){switch(i.type){case"added":if(!s[i.newIndex]||!s[i.newIndex].doc.ref.isEqual(i.doc.ref))return nL(s,i.newIndex,0,i);break;case"modified":if(null==s[i.oldIndex]||s[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const r=s.slice();return r.splice(i.oldIndex,1),r.splice(i.newIndex,0,i),r}return nL(s,i.newIndex,1,i)}break;case"removed":if(s[i.oldIndex]&&s[i.oldIndex].doc.ref.isEqual(i.doc.ref))return nL(s,i.oldIndex,1)}return s}(s,o))}),s}(o,a.map(c=>c.payload),i),[]),Zl(),(0,bt.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function nL(s,i,r,...o){const a=s.slice();return a.splice(i,r,...o),a}function k3(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class N3{constructor(i,r,o){this.ref=i,this.query=r,this.afs=o}stateChanges(i){let r=aT(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(r=r.pipe((0,bt.U)(o=>o.filter(a=>i.indexOf(a.type)>-1)))),r.pipe(Ss(void 0),wp(),zn(([o,a])=>a.length>0||!o),(0,bt.U)(([o,a])=>a),er.iC)}auditTrail(i){return this.stateChanges(i).pipe(Pd((r,o)=>[...r,...o],[]))}snapshotChanges(i){const r=k3(i);return O3(this.query,r,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(i={}){return tL(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(o=>i.idField?Object.assign(Object.assign({},o.data()),{[i.idField]:o.id}):o.data())),er.iC)}get(i){return(0,Rn.D)(this.query.get(i)).pipe(er.f6)}add(i){return this.ref.add(i)}doc(i){return new F3(this.ref.doc(i),this.afs)}}class F3{constructor(i,r){this.ref=i,this.afs=r}set(i,r){return this.ref.set(i,r)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,r){const o=this.ref.collection(i),{ref:a,query:c}=V3(o,r);return new N3(a,c,this.afs)}snapshotChanges(){return function(s,i){return R3(s,i).pipe(Ss(void 0),wp(),(0,bt.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:r})=>i.idField?Object.assign(Object.assign({},r.data()),{[i.idField]:r.id}):r.data()))}get(i){return(0,Rn.D)(this.ref.get(i)).pipe((0,Jl.QV)(this.afs.schedulers.insideAngular))}}class v8{constructor(i,r){this.query=i,this.afs=r}stateChanges(i){return i&&0!==i.length?aT(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.filter(o=>i.indexOf(o.type)>-1)),zn(r=>r.length>0),er.iC):aT(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(i){return this.stateChanges(i).pipe(Pd((r,o)=>[...r,...o],[]))}snapshotChanges(i){const r=k3(i);return O3(this.query,r,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(i={}){return tL(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(o=>o.payload.docs.map(a=>i.idField?Object.assign({[i.idField]:a.id},a.data()):a.data())),er.iC)}get(i){return(0,Rn.D)(this.query.get(i)).pipe(er.f6)}}const P3=new f.OlP("angularfire2.enableFirestorePersistence"),L3=new f.OlP("angularfire2.firestore.persistenceSettings"),b8=new f.OlP("angularfire2.firestore.settings"),w8=new f.OlP("angularfire2.firestore.use-emulator");function V3(s,i=(r=>r)){return{query:i(s),ref:s}}let $C=(()=>{class s{constructor(r,o,a,c,g,_,b,S,T,R,N,L,H,ie,we,Le){this.schedulers=b;const Ze=(0,so.on)(r,_,o),Ke=T;R&&M3(Ze,_,N,H,ie,we,L,Le),[this.firestore,this.persistenceEnabled$]=(0,er.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const wt=_.runOutsideAngular(()=>Ze.firestore());if(c&&wt.settings(c),Ke&&wt.useEmulator(...Ke),a&&!ts(g)){const Er=()=>{try{return(0,Rn.D)(wt.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Ls){return"undefined"!=typeof console&&console.warn(Ls),(0,it.of)(!1)}};return[wt,_.runOutsideAngular(Er)]}return[wt,(0,it.of)(!1)]},[c,Ke,a])}collection(r,o){let a;a="string"==typeof r?this.firestore.collection(r):r;const{ref:c,query:g}=V3(a,o),_=this.schedulers.ngZone.run(()=>c);return new N3(_,g,this)}collectionGroup(r,o){const a=o||(g=>g),c=this.firestore.collectionGroup(r);return new v8(a(c),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const a=this.schedulers.ngZone.run(()=>o);return new F3(a,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(so.Dh),f.LFG(so.xv,8),f.LFG(P3,8),f.LFG(b8,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(er.HU),f.LFG(L3,8),f.LFG(w8,8),f.LFG(eL,8),f.LFG(x3,8),f.LFG(A3,8),f.LFG(S3,8),f.LFG(D3,8),f.LFG(I3,8),f.LFG(T3,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),E8=(()=>{class s{constructor(){oT.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:s,providers:[{provide:P3,useValue:!0},{provide:L3,useValue:r}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[$C]}),s})();function C8(s,i){if(1&s&&(f.TgZ(0,"div",5),f.TgZ(1,"div",6),f.TgZ(2,"div",7),f._uU(3),f.qZA(),f.TgZ(4,"div",8),f._uU(5),f.qZA(),f.qZA(),f.qZA()),2&s){const r=i.index,o=f.oxw();f.xp6(3),f.Oqu(r+1),f.xp6(2),f.Oqu(o.items[r].score)}}const x8=function(){return[0,1,2,3,4]};let A8=(()=>{class s{constructor(r,o,a){this.data=r,this.db=o}ngOnInit(){this.db.collection("scores").valueChanges().subscribe(r=>{console.log(r),this.items=r,this.foo()})}foo(){var r;(null===(r=this.items)||void 0===r?void 0:r.length)>0&&console.log(this.items)}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(HE),f.Y36($C),f.Y36($C))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-top-scores"]],decls:9,vars:2,consts:[["fxLayout","column","fxLayoutGap","3.5%"],["fxLayoutAlign","center"],["fxLayout","row","fxLayoutGap","25%","fxLayoutAlign","center"],["fxLayout","column"],["fxLayout","column","fxLayoutGap","4.5%",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutGap","4.5%"],["fxLayout","row","fxLayoutGap","30%","fxLayoutAlign","center"],["fxLayout","column","fxLayoutAlign","start"],["fxLayout","column","fxLayoutAlign","end"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"h2",1),f._uU(2,"Top 5 Scores"),f.qZA(),f.TgZ(3,"div",2),f.TgZ(4,"div",3),f._uU(5,"Rank"),f.qZA(),f.TgZ(6,"div",3),f._uU(7,"Scores"),f.qZA(),f.qZA(),f.qZA(),f.YNc(8,C8,6,2,"div",4)),2&r&&(f.xp6(8),f.Q6J("ngForOf",f.DdM(1,x8)))},directives:[Fm,sb,ia,rn],styles:[""]}),s})();const B3=["mat-button",""],U3=["*"],D8=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],I8=PE(VD(LN(class{constructor(s){this._elementRef=s}})));let rL=(()=>{class s extends I8{constructor(r,o,a){super(r),this._focusMonitor=o,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of D8)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);r.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(r,o){r?this._focusMonitor.focusVia(this._getHostElement(),r,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...r){return r.some(o=>this._getHostElement().hasAttribute(o))}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(U_),f.Y36(io,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(r,o){if(1&r&&f.Gf(Jp,5),2&r){let a;f.iGM(a=f.CRH())&&(o.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(r,o){2&r&&(f.uIk("disabled",o.disabled||null),f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[f.qOj],attrs:B3,ngContentSelectors:U3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(r,o){1&r&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1),f._UZ(3,"span",2)),2&r&&(f.xp6(2),f.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),f.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Jp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),s})(),T8=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[jD,br],br]}),s})();function M8(s,i){if(1&s&&f._UZ(0,"div",9),2&s){const r=i.$implicit;f.Udp("grid-column",r.x)("grid-row",r.y)}}let R8=(()=>{class s{constructor(r,o){this.matDialog=r,this.db=o,this.inputDir={x:0,y:0},this.score=0,this.lastPaintTime=0,this.pause_option=!0,this.previous_key="",this.food={x:6,y:7},this.ctime=(new Date).getTime(),this.a=2,this.b=16,this.food_position={x:Math.round(this.a+(this.b-this.a)*Math.random()),y:Math.round(this.a+(this.b-this.a)*Math.random())},this.head_position={x:Math.round(this.a+(this.b-this.a)*Math.random()),y:Math.round(this.a+(this.b-this.a)*Math.random())},this.previous_position={x:this.head_position.x-1,y:this.head_position.y},this.snakeArr=[{x:-100,y:-100}],this.condition_for_snake_loop=this.snakeArr.length>1,this.notEaten=!0,this.scoreBox="scoreBox",this.score_list="score_list",this.last_key="",this.key_work_done=!0,this.db.collection("scores").valueChanges().subscribe(a=>{console.log(a),this.val=a})}ngOnInit(){this.gameEngine()}openDialog(){this.pause_option=!1;const r=new yh;r.disableClose=!0,r.autoFocus=!0,r.width="60%";let o=[this.val[0].score,this.val[1].score,this.val[2].score,this.val[3].score,this.val[4].score];o.sort((a,c)=>a<c?1:-1);for(let a=0;a<5;a++)this.val[a].score=o[a];this.matDialog.open(A8,{width:"40%",data:this.val})}isCollide(){for(let r=1;r<this.snakeArr.length;r++)if(this.head_position.x===this.snakeArr[r].x&&this.head_position.y===this.snakeArr[r].y)return this.notEaten=!0,!0;return(this.head_position.x<=1||this.head_position.x>=18||this.head_position.y<=1||this.head_position.y>=18)&&(this.notEaten=!0,!0)}gameEngine(){if(console.log("Pause Option: ",this.pause_option),!0===this.pause_option){if(this.condition_for_snake_loop=this.snakeArr.length>1,this.isCollide()){let r=[this.val[0].score,this.val[1].score,this.val[2].score,this.val[3].score,this.val[4].score];r.push(this.score),r.sort((o,a)=>o<a?1:-1);for(let o=0;o<5;o++){console.log("hello",o),this.val[o].score=r[o];let a="top"+(o+1).toString();console.log(a),this.db.collection("scores").doc(a).set({score:this.val[o].score})}console.log(this.val),this.inputDir={x:0,y:0},alert("Game Over"),this.head_position={x:Math.round(this.a+(this.b-this.a)*Math.random()),y:Math.round(this.a+(this.b-this.a)*Math.random())},this.snakeArr=[{x:-1,y:-1}],this.score=0,this.previous_key=""}this.head_position.y===this.food_position.y&&this.head_position.x===this.food_position.x&&(this.score+=1,this.snakeArr.push(this.previous_position),this.food_position={x:Math.round(this.a+(this.b-this.a)*Math.random()),y:Math.round(this.a+(this.b-this.a)*Math.random())});for(let r=this.snakeArr.length-2;r>=0;r--)this.snakeArr[r+1]=Object.assign({},this.snakeArr[r]);if(this.snakeArr.length>1&&(this.snakeArr[1].x+=this.inputDir.x,this.snakeArr[1].y+=this.inputDir.y),"ArrowUp"!==this.previous_key||"ArrowDown"==this.last_key&&1!==this.snakeArr.length)if("ArrowDown"!==this.previous_key||"ArrowUp"==this.last_key&&1!==this.snakeArr.length)if("ArrowLeft"!==this.previous_key||"ArrowRight"==this.last_key&&1!==this.snakeArr.length){if("ArrowRight"===this.previous_key&&("ArrowLeft"!=this.last_key||1===this.snakeArr.length)){this.pause_option=!0,this.head_position.x++;let r=this.snakeArr.length;if(r>1&&(this.snakeArr[1].y=this.head_position.y,this.snakeArr[1].x=this.head_position.x-1),r<=2)for(let o=2;o<r-1;o++)this.snakeArr[o].x=this.snakeArr[o+1].x,this.snakeArr[o].y=this.snakeArr[o+1].y;r>1&&(this.previous_position.x=this.snakeArr[r-1].x,this.previous_position.y=this.snakeArr[r-1].y),this.last_key="ArrowRight"}}else{this.pause_option=!0,this.head_position.x--;let r=this.snakeArr.length;if(r>1&&(this.snakeArr[1].y=this.head_position.y,this.snakeArr[1].x=this.head_position.x+1),r<=2)for(let o=2;o<r-1;o++)this.snakeArr[o].x=this.snakeArr[o+1].x,this.snakeArr[o].y=this.snakeArr[o+1].y;r>1&&(this.previous_position.x=this.snakeArr[r-1].x,this.previous_position.y=this.snakeArr[r-1].y),this.last_key="ArrowLeft"}else{this.pause_option=!0,this.head_position.y++;let r=this.snakeArr.length;if(r>1&&(this.snakeArr[1].y=this.head_position.y-1,this.snakeArr[1].x=this.head_position.x),r<=2)for(let o=2;o<r-1;o++)this.snakeArr[o].x=this.snakeArr[o+1].x,this.snakeArr[o].y=this.snakeArr[o+1].y;r>1&&(this.previous_position.x=this.snakeArr[r-1].x,this.previous_position.y=this.snakeArr[r-1].y),this.last_key="ArrowDown"}else{this.pause_option=!0,this.head_position.y--;let r=this.snakeArr.length;if(r>1&&(this.snakeArr[1].y=this.head_position.y+1,this.snakeArr[1].x=this.head_position.x),r<=2)for(let o=2;o<r-1;o++)this.snakeArr[o].x=this.snakeArr[o+1].x,this.snakeArr[o].y=this.snakeArr[o+1].y;r>1&&(this.previous_position.x=this.snakeArr[r-1].x,this.previous_position.y=this.snakeArr[r-1].y),this.last_key="ArrowUp"}this.key_work_done=!0}else this.key_work_done=!0;setTimeout(()=>{this.gameEngine()},200)}onKeydownHandle(r){console.log(r.code),1===this.snakeArr.length&&!0===this.key_work_done?("ArrowUp"===r.key?(this.pause_option=!0,this.inputDir.x=0,this.inputDir.y=-1,this.previous_key=r.key,this.key_work_done=!1):"ArrowDown"===r.key?(this.pause_option=!0,this.inputDir.x=0,this.inputDir.y=1,this.previous_key=r.key,this.key_work_done=!1):"ArrowLeft"===r.key?(this.pause_option=!0,this.inputDir.x=-1,this.inputDir.y=0,this.previous_key=r.key,this.key_work_done=!1):"ArrowRight"===r.key?(this.pause_option=!0,this.inputDir.x=1,this.inputDir.y=0,this.previous_key=r.key,this.key_work_done=!1):" "===r.key&&(console.log("Hi this"),!0===this.pause_option?this.pause_option=!1:(this.pause_option=!0,this.previous_key=this.last_key),this.key_work_done=!1),this.key_work_done=!1):this.snakeArr.length>1&&!0===this.key_work_done&&("ArrowUp"===r.key&&"ArrowDown"!=this.previous_key?(this.pause_option=!0,this.inputDir.x=0,this.inputDir.y=-1,this.previous_key=r.key,this.key_work_done=!1):"ArrowDown"===r.key&&"ArrowUp"!=this.previous_key?(this.pause_option=!0,this.inputDir.x=0,this.inputDir.y=1,this.previous_key=r.key,this.key_work_done=!1):"ArrowLeft"===r.key&&"ArrowRight"!=this.previous_key?(this.pause_option=!0,this.inputDir.x=-1,this.inputDir.y=0,this.previous_key=r.key,this.key_work_done=!1):"ArrowRight"===r.key&&"ArrowLeft"!=this.previous_key?(this.pause_option=!0,this.inputDir.x=1,this.inputDir.y=0,this.previous_key=r.key,this.key_work_done=!1):" "===r.key&&(!0===this.pause_option?this.pause_option=!1:(this.pause_option=!0,this.previous_key=this.last_key),this.key_work_done=!1))}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(hy),f.Y36($C))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-snake"]],hostBindings:function(r,o){1&r&&f.NdJ("keydown",function(c){return o.onKeydownHandle(c)},!1,f.evT)},decls:19,vars:15,consts:[["fxLayout","row","fxLayoutAlign","center",1,"body"],["id","board"],[1,"food"],[1,"head"],["class","snake",3,"grid-column","grid-row",4,"ngFor","ngForOf"],[3,"id"],["id","instructionBox"],["id","spaceBox"],["mat-fab","",3,"id","click"],[1,"snake"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f._UZ(2,"div",2),f._UZ(3,"div",3),f.YNc(4,M8,1,4,"div",4),f.ALo(5,"slice"),f.qZA(),f.TgZ(6,"div",5),f._uU(7),f.qZA(),f.TgZ(8,"div",6),f._uU(9,"ArrowUp \u2191,ArrowDown \u2193,"),f._UZ(10,"br"),f._uU(11,"ArrowLeft \u2190,ArrowRight \u2192"),f._UZ(12,"br"),f._uU(13,"To move the snake"),f._UZ(14,"br"),f.qZA(),f.TgZ(15,"div",7),f._uU(16,"Press Space \u23b5 to pause the game"),f.qZA(),f.TgZ(17,"button",8),f.NdJ("click",function(){return o.openDialog()}),f._uU(18,"Top Scores"),f.qZA(),f.qZA()),2&r&&(f.xp6(2),f.Udp("grid-column",o.food_position.x)("grid-row",o.food_position.y),f.xp6(1),f.Udp("grid-column",o.head_position.x)("grid-row",o.head_position.y),f.xp6(1),f.Q6J("ngForOf",f.xi3(5,12,o.snakeArr,1)),f.xp6(2),f.Q6J("id",o.scoreBox),f.xp6(1),f.hij("Score:",o.score,""),f.xp6(10),f.Q6J("id",o.score_list))},directives:[Fm,ia,rn,rL],pipes:[es],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}.body[_ngcontent-%COMP%]{background-image:url(bg.ca71855e59385066f45d.jpg);min-height:100vh;background-size:100vw 100vh;background-repeat:no-repeat}#board[_ngcontent-%COMP%]{margin-left:10%;margin-top:2%;background:linear-gradient(rgb(23,23,187),white);width:90vmin;height:90vmin;border:5px solid black;border-radius:5%;display:grid;grid-template-rows:repeat(18,1fr);grid-template-columns:repeat(18,1fr)}#scoreBox[_ngcontent-%COMP%]{position:absolute;top:5%;right:15%;font-size:200%;font-weight:bold}#instructionBox[_ngcontent-%COMP%]{position:absolute;top:15%;left:1%;font-size:150%;font-weight:bold;text-align:center;line-height:1.5;padding:1%;border-radius:10%;border-style:dotted;border-color:#00f}#spaceBox[_ngcontent-%COMP%]{position:absolute;top:40%;left:1.5%;font-size:120%;font-weight:bold;text-align:center;line-height:1.5;padding:1%;border-radius:10%;border-style:dotted;border-color:#00f}#score_list[_ngcontent-%COMP%]{left:10%;margin-top:10%;color:#fff;width:10%;font-size:24px;border-radius:12%;font-weight:bold;text-align:center;background-color:#d2691e}.head[_ngcontent-%COMP%]{background:linear-gradient(red,yellow);border-style:solid;border-color:tomato;border-radius:15%}.snake[_ngcontent-%COMP%]{background:linear-gradient(rgb(0,12,0),purple);border-radius:15%;margin:5%;border-style:solid;border-color:#fff}.food[_ngcontent-%COMP%]{background-size:125%;background-repeat:no-repeat;background-image:url(/assets/image/apple.png)}"]}),s})();const O8=["*",[["mat-card-footer"]]],k8=["*","mat-card-footer"];let V8=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),s})(),B8=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),s})(),U8=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),s})(),G8=(()=>{class s{constructor(r){this._animationMode=r}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(io,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(r,o){2&r&&f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:k8,decls:2,vars:0,template:function(r,o){1&r&&(f.F$t(O8),f.Hsn(0),f.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),s})(),j8=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[br],br]}),s})();const H8=["underline"],$8=["connectionContainer"],z8=["inputContainer"],q8=["label"];function W8(s,i){1&s&&(f.ynx(0),f.TgZ(1,"div",14),f._UZ(2,"div",15),f._UZ(3,"div",16),f._UZ(4,"div",17),f.qZA(),f.TgZ(5,"div",18),f._UZ(6,"div",15),f._UZ(7,"div",16),f._UZ(8,"div",17),f.qZA(),f.BQk())}function Y8(s,i){1&s&&(f.TgZ(0,"div",19),f.Hsn(1,1),f.qZA())}function K8(s,i){if(1&s&&(f.ynx(0),f.Hsn(1,2),f.TgZ(2,"span"),f._uU(3),f.qZA(),f.BQk()),2&s){const r=f.oxw(2);f.xp6(3),f.Oqu(r._control.placeholder)}}function Z8(s,i){1&s&&f.Hsn(0,3,["*ngSwitchCase","true"])}function Q8(s,i){1&s&&(f.TgZ(0,"span",23),f._uU(1," *"),f.qZA())}function J8(s,i){if(1&s){const r=f.EpF();f.TgZ(0,"label",20,21),f.NdJ("cdkObserveContent",function(){return f.CHM(r),f.oxw().updateOutlineGap()}),f.YNc(2,K8,4,1,"ng-container",12),f.YNc(3,Z8,1,0,"ng-content",12),f.YNc(4,Q8,2,0,"span",22),f.qZA()}if(2&s){const r=f.oxw();f.ekj("mat-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),f.Q6J("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),f.uIk("for",r._control.id)("aria-owns",r._control.id),f.xp6(2),f.Q6J("ngSwitchCase",!1),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function X8(s,i){1&s&&(f.TgZ(0,"div",24),f.Hsn(1,4),f.qZA())}function eK(s,i){if(1&s&&(f.TgZ(0,"div",25,26),f._UZ(2,"span",27),f.qZA()),2&s){const r=f.oxw();f.xp6(2),f.ekj("mat-accent","accent"==r.color)("mat-warn","warn"==r.color)}}function tK(s,i){if(1&s&&(f.TgZ(0,"div"),f.Hsn(1,5),f.qZA()),2&s){const r=f.oxw();f.Q6J("@transitionMessages",r._subscriptAnimationState)}}function nK(s,i){if(1&s&&(f.TgZ(0,"div",31),f._uU(1),f.qZA()),2&s){const r=f.oxw(2);f.Q6J("id",r._hintLabelId),f.xp6(1),f.Oqu(r.hintLabel)}}function rK(s,i){if(1&s&&(f.TgZ(0,"div",28),f.YNc(1,nK,2,2,"div",29),f.Hsn(2,6),f._UZ(3,"div",30),f.Hsn(4,7),f.qZA()),2&s){const r=f.oxw();f.Q6J("@transitionMessages",r._subscriptAnimationState),f.xp6(1),f.Q6J("ngIf",r.hintLabel)}}const iK=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],sK=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],j3=new f.OlP("MatError"),aK={transitionMessages:LS("transitionMessages",[Lp("enter",el({opacity:1,transform:"translateY(0%)"})),Qw("void => enter",[el({opacity:0,transform:"translateY(-5px)"}),VS("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let iL=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s}),s})(),lK=0;const H3=new f.OlP("MatHint");let uK=(()=>{class s{constructor(){this.align="start",this.id="mat-hint-"+lK++}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(r,o){2&r&&(f.uIk("id",o.id)("align",null),f.ekj("mat-form-field-hint-end","end"===o.align))},inputs:{align:"align",id:"id"},features:[f._Bn([{provide:H3,useExisting:s}])]}),s})(),sL=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-label"]]}),s})(),cK=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-placeholder"]]}),s})();const $3=new f.OlP("MatPrefix"),z3=new f.OlP("MatSuffix");let dK=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","matSuffix",""]],features:[f._Bn([{provide:z3,useExisting:s}])]}),s})(),q3=0;const fK=PE(class{constructor(s){this._elementRef=s}},"primary"),pK=new f.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Y3=new f.OlP("MatFormField");let gK=(()=>{class s extends fK{constructor(r,o,a,c,g,_,b,S){super(r),this._changeDetectorRef=o,this._dir=c,this._defaults=g,this._platform=_,this._ngZone=b,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Pt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+q3++,this._labelId="mat-form-field-label-"+q3++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==S,this.appearance=g&&g.appearance?g.appearance:"legacy",this._hideRequiredMarker=!(!g||null==g.hideRequiredMarker)&&g.hideRequiredMarker}get appearance(){return this._appearance}set appearance(r){const o=this._appearance;this._appearance=r||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==r&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(r){this._hideRequiredMarker=Qt(r)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(r){this._hintLabel=r,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(r){r!==this._floatLabel&&(this._floatLabel=r||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(r){this._explicitFormFieldControl=r}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const r=this._control;r.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${r.controlType}`),r.stateChanges.pipe(Ss(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),r.ngControl&&r.ngControl.valueChanges&&r.ngControl.valueChanges.pipe(ui(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ui(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ul.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ss(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ss(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ui(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(r){const o=this._control?this._control.ngControl:null;return o&&o[r]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Qa(this._label.nativeElement,"transitionend").pipe(oa(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let r=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&r.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,a=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;o?r.push(o.id):this._hintLabel&&r.push(this._hintLabelId),a&&r.push(a.id)}else this._errorChildren&&r.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(r)}}_validateControlChild(){}updateOutlineGap(){const r=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&r&&r.children.length&&r.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const c=this._connectionContainerRef.nativeElement,g=c.querySelectorAll(".mat-form-field-outline-start"),_=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const b=c.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(b),T=r.children,R=this._getStartEnd(T[0].getBoundingClientRect());let N=0;for(let L=0;L<T.length;L++)N+=T[L].offsetWidth;o=Math.abs(R-S)-5,a=N>0?.75*N+10:0}for(let b=0;b<g.length;b++)g[b].style.width=`${o}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(r){return this._dir&&"rtl"===this._dir.value?r.right:r.left}_isAttachedToDOM(){const r=this._elementRef.nativeElement;if(r.getRootNode){const o=r.getRootNode();return o&&o!==r}return document.documentElement.contains(r)}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(xs,8),f.Y36(pK,8),f.Y36(qn),f.Y36(f.R0b),f.Y36(io,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-form-field"]],contentQueries:function(r,o,a){if(1&r&&(f.Suo(a,iL,5),f.Suo(a,iL,7),f.Suo(a,sL,5),f.Suo(a,sL,7),f.Suo(a,cK,5),f.Suo(a,j3,5),f.Suo(a,H3,5),f.Suo(a,$3,5),f.Suo(a,z3,5)),2&r){let c;f.iGM(c=f.CRH())&&(o._controlNonStatic=c.first),f.iGM(c=f.CRH())&&(o._controlStatic=c.first),f.iGM(c=f.CRH())&&(o._labelChildNonStatic=c.first),f.iGM(c=f.CRH())&&(o._labelChildStatic=c.first),f.iGM(c=f.CRH())&&(o._placeholderChild=c.first),f.iGM(c=f.CRH())&&(o._errorChildren=c),f.iGM(c=f.CRH())&&(o._hintChildren=c),f.iGM(c=f.CRH())&&(o._prefixChildren=c),f.iGM(c=f.CRH())&&(o._suffixChildren=c)}},viewQuery:function(r,o){if(1&r&&(f.Gf(H8,5),f.Gf($8,7),f.Gf(z8,5),f.Gf(q8,5)),2&r){let a;f.iGM(a=f.CRH())&&(o.underlineRef=a.first),f.iGM(a=f.CRH())&&(o._connectionContainerRef=a.first),f.iGM(a=f.CRH())&&(o._inputContainerRef=a.first),f.iGM(a=f.CRH())&&(o._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(r,o){2&r&&f.ekj("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[f._Bn([{provide:Y3,useExisting:s}]),f.qOj],ngContentSelectors:sK,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(r,o){1&r&&(f.F$t(iK),f.TgZ(0,"div",0),f.TgZ(1,"div",1,2),f.NdJ("click",function(c){return o._control.onContainerClick&&o._control.onContainerClick(c)}),f.YNc(3,W8,9,0,"ng-container",3),f.YNc(4,Y8,2,0,"div",4),f.TgZ(5,"div",5,6),f.Hsn(7),f.TgZ(8,"span",7),f.YNc(9,J8,5,16,"label",8),f.qZA(),f.qZA(),f.YNc(10,X8,2,0,"div",9),f.qZA(),f.YNc(11,eK,3,4,"div",10),f.TgZ(12,"div",11),f.YNc(13,tK,2,1,"div",12),f.YNc(14,rK,5,2,"div",13),f.qZA(),f.qZA()),2&r&&(f.xp6(3),f.Q6J("ngIf","outline"==o.appearance),f.xp6(1),f.Q6J("ngIf",o._prefixChildren.length),f.xp6(5),f.Q6J("ngIf",o._hasFloatingLabel()),f.xp6(1),f.Q6J("ngIf",o._suffixChildren.length),f.xp6(1),f.Q6J("ngIf","outline"!=o.appearance),f.xp6(1),f.Q6J("ngSwitch",o._getDisplayedMessages()),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","hint"))},directives:[Ho,Xi,Qn,bU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[aK.transitionMessages]},changeDetection:0}),s})(),oL=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[gs,br,Vk],br]}),s})();const K3=Ap({passive:!0});let Z3=(()=>{class s{constructor(r,o){this._platform=r,this._ngZone=o,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return Js.E;const o=Es(r),a=this._monitoredElements.get(o);if(a)return a.subject;const c=new Pt.xQ,g="cdk-text-field-autofilled",_=b=>{"cdk-text-field-autofill-start"!==b.animationName||o.classList.contains(g)?"cdk-text-field-autofill-end"===b.animationName&&o.classList.contains(g)&&(o.classList.remove(g),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!1}))):(o.classList.add(g),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",_,K3),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:c,unlisten:()=>{o.removeEventListener("animationstart",_,K3)}}),c}stopMonitoring(r){const o=Es(r),a=this._monitoredElements.get(o);a&&(a.unlisten(),a.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((r,o)=>this.stopMonitoring(o))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(qn),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(qn),f.LFG(f.R0b))},token:s,providedIn:"root"}),s})(),Q3=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[x_]]}),s})();const _K=new f.OlP("MAT_INPUT_VALUE_ACCESSOR"),yK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let vK=0;const bK=VN(class{constructor(s,i,r,o){this._defaultErrorStateMatcher=s,this._parentForm=i,this._parentFormGroup=r,this.ngControl=o}});let wK=(()=>{class s extends bK{constructor(r,o,a,c,g,_,b,S,T,R){super(_,c,g,a),this._elementRef=r,this._platform=o,this._autofillMonitor=S,this._formField=R,this._uid="mat-input-"+vK++,this.focused=!1,this.stateChanges=new Pt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>Cp().has(H));const N=this._elementRef.nativeElement,L=N.nodeName.toLowerCase();this._inputValueAccessor=b||N,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&T.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",H=>{const ie=H.target;!ie.value&&0===ie.selectionStart&&0===ie.selectionEnd&&(ie.setSelectionRange(1,1),ie.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(r){this._disabled=Qt(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required}set required(r){this._required=Qt(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&Cp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=Qt(r)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,o;const a=(null===(o=null===(r=this._formField)||void 0===r?void 0:r._hideControlPlaceholder)||void 0===o?void 0:o.call(r))?null:this.placeholder;if(a!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=a,a?c.setAttribute("placeholder",a):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_validateType(){yK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const r=this._elementRef.nativeElement,o=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(qn),f.Y36(mr,10),f.Y36(rs,8),f.Y36(Ll,8),f.Y36(KN),f.Y36(_K,10),f.Y36(Z3),f.Y36(f.R0b),f.Y36(Y3,8))},s.\u0275dir=f.lG2({type:s,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(r,o){1&r&&f.NdJ("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&r&&(f.Ikx("disabled",o.disabled)("required",o.required),f.uIk("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),f.ekj("mat-input-server",o._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[f._Bn([{provide:iL,useExisting:s}]),f.qOj,f.TTD]}),s})(),EK=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[KN],imports:[[Q3,oL,br],Q3,oL]}),s})();var CK=U(205),xK=U(8819);class J3{}class Mc{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(r=>{const o=r.indexOf(":");if(o>0){const a=r.slice(0,o),c=a.toLowerCase(),g=r.slice(o+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(g):this.headers.set(c,[g])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(r=>{let o=i[r];const a=r.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(a,o),this.maybeSetNormalizedName(r,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const r=this.headers.get(i.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,r){return this.clone({name:i,value:r,op:"a"})}set(i,r){return this.clone({name:i,value:r,op:"s"})}delete(i,r){return this.clone({name:i,value:r,op:"d"})}maybeSetNormalizedName(i,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,i)}init(){this.lazyInit&&(this.lazyInit instanceof Mc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(r=>{this.headers.set(r,i.headers.get(r)),this.normalizedNames.set(r,i.normalizedNames.get(r))})}clone(i){const r=new Mc;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Mc?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([i]),r}applyUpdate(i){const r=i.name.toLowerCase();switch(i.op){case"a":case"s":let o=i.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(i.name,r);const a=("a"===i.op?this.headers.get(r):void 0)||[];a.push(...o),this.headers.set(r,a);break;case"d":const c=i.value;if(c){let g=this.headers.get(r);if(!g)return;g=g.filter(_=>-1===c.indexOf(_)),0===g.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,g)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>i(this.normalizedNames.get(r),this.headers.get(r)))}}class AK{encodeKey(i){return e$(i)}encodeValue(i){return e$(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const DK=/%(\d[a-f0-9])/gi,IK={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function e$(s){return encodeURIComponent(s).replace(DK,(i,r)=>{var o;return null!==(o=IK[r])&&void 0!==o?o:i})}function t$(s){return`${s}`}class Uh{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new AK,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(s,i){const r=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[g,_]=-1==c?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,c)),i.decodeValue(a.slice(c+1))],b=r.get(g)||[];b.push(_),r.set(g,b)}),r}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(r=>{const o=i.fromObject[r];this.map.set(r,Array.isArray(o)?o:[o])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const r=this.map.get(i);return r?r[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,r){return this.clone({param:i,value:r,op:"a"})}appendAll(i){const r=[];return Object.keys(i).forEach(o=>{const a=i[o];Array.isArray(a)?a.forEach(c=>{r.push({param:o,value:c,op:"a"})}):r.push({param:o,value:a,op:"a"})}),this.clone(r)}set(i,r){return this.clone({param:i,value:r,op:"s"})}delete(i,r){return this.clone({param:i,value:r,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const r=this.encoder.encodeKey(i);return this.map.get(i).map(o=>r+"="+this.encoder.encodeValue(o)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const r=new Uh({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(i),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const r=("a"===i.op?this.map.get(i.param):void 0)||[];r.push(t$(i.value)),this.map.set(i.param,r);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let o=this.map.get(i.param)||[];const a=o.indexOf(t$(i.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(i.param,o):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class TK{constructor(){this.map=new Map}set(i,r){return this.map.set(i,r),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function n$(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function r$(s){return"undefined"!=typeof Blob&&s instanceof Blob}function i$(s){return"undefined"!=typeof FormData&&s instanceof FormData}class zC{constructor(i,r,o,a){let c;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,c=a):c=o,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Mc),this.context||(this.context=new TK),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=r;else{const _=r.indexOf("?");this.urlWithParams=r+(-1===_?"?":_<r.length-1?"&":"")+g}}else this.params=new Uh,this.urlWithParams=r}serializeBody(){return null===this.body?null:n$(this.body)||r$(this.body)||i$(this.body)||function(s){return"undefined"!=typeof URLSearchParams&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||i$(this.body)?null:r$(this.body)?this.body.type||null:n$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var r;const o=i.method||this.method,a=i.url||this.url,c=i.responseType||this.responseType,g=void 0!==i.body?i.body:this.body,_=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,b=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let S=i.headers||this.headers,T=i.params||this.params;const R=null!==(r=i.context)&&void 0!==r?r:this.context;return void 0!==i.setHeaders&&(S=Object.keys(i.setHeaders).reduce((N,L)=>N.set(L,i.setHeaders[L]),S)),i.setParams&&(T=Object.keys(i.setParams).reduce((N,L)=>N.set(L,i.setParams[L]),T)),new zC(o,a,g,{params:T,headers:S,context:R,reportProgress:b,responseType:c,withCredentials:_})}}var ei=(()=>((ei=ei||{})[ei.Sent=0]="Sent",ei[ei.UploadProgress=1]="UploadProgress",ei[ei.ResponseHeader=2]="ResponseHeader",ei[ei.DownloadProgress=3]="DownloadProgress",ei[ei.Response=4]="Response",ei[ei.User=5]="User",ei))();class lT extends class{constructor(i,r=200,o="OK"){this.headers=i.headers||new Mc,this.status=void 0!==i.status?i.status:r,this.statusText=i.statusText||o,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=ei.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new lT({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function uL(s,i){return{body:i,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let uT=(()=>{class s{constructor(r){this.handler=r}request(r,o,a={}){let c;if(r instanceof zC)c=r;else{let b,S;b=a.headers instanceof Mc?a.headers:new Mc(a.headers),a.params&&(S=a.params instanceof Uh?a.params:new Uh({fromObject:a.params})),c=new zC(r,o,void 0!==a.body?a.body:null,{headers:b,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const g=(0,it.of)(c).pipe(Ld(b=>this.handler.handle(b)));if(r instanceof zC||"events"===a.observe)return g;const _=g.pipe(zn(b=>b instanceof lT));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,bt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return _.pipe((0,bt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return _.pipe((0,bt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return _.pipe((0,bt.U)(b=>b.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(r,o={}){return this.request("DELETE",r,o)}get(r,o={}){return this.request("GET",r,o)}head(r,o={}){return this.request("HEAD",r,o)}jsonp(r,o){return this.request("JSONP",r,{params:(new Uh).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,o={}){return this.request("OPTIONS",r,o)}patch(r,o,a={}){return this.request("PATCH",r,uL(a,o))}post(r,o,a={}){return this.request("POST",r,uL(a,o))}put(r,o,a={}){return this.request("PUT",r,uL(a,o))}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(J3))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const VK=["*"];function c$(s){return Error(`Unable to find icon with the name "${s}"`)}function d$(s){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${s}".`)}function h$(s){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${s}".`)}class Ig{constructor(i,r,o){this.url=i,this.svgText=r,this.options=o}}let cT=(()=>{class s{constructor(r,o,a,c){this._httpClient=r,this._sanitizer=o,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(r,o,a){return this.addSvgIconInNamespace("",r,o,a)}addSvgIconLiteral(r,o,a){return this.addSvgIconLiteralInNamespace("",r,o,a)}addSvgIconInNamespace(r,o,a,c){return this._addSvgIconConfig(r,o,new Ig(a,null,c))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,o,a,c){const g=this._sanitizer.sanitize(f.q3G.HTML,a);if(!g)throw h$(a);return this._addSvgIconConfig(r,o,new Ig("",g,c))}addSvgIconSet(r,o){return this.addSvgIconSetInNamespace("",r,o)}addSvgIconSetLiteral(r,o){return this.addSvgIconSetLiteralInNamespace("",r,o)}addSvgIconSetInNamespace(r,o,a){return this._addSvgIconSetConfig(r,new Ig(o,null,a))}addSvgIconSetLiteralInNamespace(r,o,a){const c=this._sanitizer.sanitize(f.q3G.HTML,o);if(!c)throw h$(o);return this._addSvgIconSetConfig(r,new Ig("",c,a))}registerFontClassAlias(r,o=r){return this._fontCssClassesByAlias.set(r,o),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){const o=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,r);if(!o)throw d$(r);const a=this._cachedIconsByUrl.get(o);return a?(0,it.of)(dT(a)):this._loadSvgIconFromConfig(new Ig(r,null)).pipe((0,qt.b)(c=>this._cachedIconsByUrl.set(o,c)),(0,bt.U)(c=>dT(c)))}getNamedSvgIcon(r,o=""){const a=f$(o,r);let c=this._svgIconConfigs.get(a);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(o,r),c)return this._svgIconConfigs.set(a,c),this._getSvgFromConfig(c);const g=this._iconSetConfigs.get(o);return g?this._getSvgFromIconSetConfigs(r,g):(0,CK._)(c$(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?(0,it.of)(dT(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe((0,bt.U)(o=>dT(o)))}_getSvgFromIconSetConfigs(r,o){const a=this._extractIconWithNameFromAnySet(r,o);return a?(0,it.of)(a):gf(o.filter(g=>!g.svgText).map(g=>this._loadSvgIconSetFromConfig(g).pipe(Ka(_=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,g.url)} failed: ${_.message}`;return this._errorHandler.handleError(new Error(S)),(0,it.of)(null)})))).pipe((0,bt.U)(()=>{const g=this._extractIconWithNameFromAnySet(r,o);if(!g)throw c$(r);return g}))}_extractIconWithNameFromAnySet(r,o){for(let a=o.length-1;a>=0;a--){const c=o[a];if(c.svgText&&c.svgText.indexOf(r)>-1){const g=this._svgElementFromConfig(c),_=this._extractSvgIconFromSet(g,r,c.options);if(_)return _}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe((0,qt.b)(o=>r.svgText=o),(0,bt.U)(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?(0,it.of)(null):this._fetchIcon(r).pipe((0,qt.b)(o=>r.svgText=o))}_extractSvgIconFromSet(r,o,a){const c=r.querySelector(`[id="${o}"]`);if(!c)return null;const g=c.cloneNode(!0);if(g.removeAttribute("id"),"svg"===g.nodeName.toLowerCase())return this._setSvgAttributes(g,a);if("symbol"===g.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(g),a);const _=this._svgElementFromString("<svg></svg>");return _.appendChild(g),this._setSvgAttributes(_,a)}_svgElementFromString(r){const o=this._document.createElement("DIV");o.innerHTML=r;const a=o.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(r){const o=this._svgElementFromString("<svg></svg>"),a=r.attributes;for(let c=0;c<a.length;c++){const{name:g,value:_}=a[c];"id"!==g&&o.setAttribute(g,_)}for(let c=0;c<r.childNodes.length;c++)r.childNodes[c].nodeType===this._document.ELEMENT_NODE&&o.appendChild(r.childNodes[c].cloneNode(!0));return o}_setSvgAttributes(r,o){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),o&&o.viewBox&&r.setAttribute("viewBox",o.viewBox),r}_fetchIcon(r){var o;const{url:a,options:c}=r,g=null!==(o=null==c?void 0:c.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const _=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,a);if(!_)throw d$(a);const b=this._inProgressUrlFetches.get(_);if(b)return b;const S=this._httpClient.get(_,{responseType:"text",withCredentials:g}).pipe(SR(()=>this._inProgressUrlFetches.delete(_)),(0,xK.B)());return this._inProgressUrlFetches.set(_,S),S}_addSvgIconConfig(r,o,a){return this._svgIconConfigs.set(f$(r,o),a),this}_addSvgIconSetConfig(r,o){const a=this._iconSetConfigs.get(r);return a?a.push(o):this._iconSetConfigs.set(r,[o]),this}_svgElementFromConfig(r){if(!r.svgElement){const o=this._svgElementFromString(r.svgText);this._setSvgAttributes(o,r.options),r.svgElement=o}return r.svgElement}_getIconConfigFromResolvers(r,o){for(let a=0;a<this._resolvers.length;a++){const c=this._resolvers[a](o,r);if(c)return GK(c)?new Ig(c.url,null,c.options):new Ig(c,null)}}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(uT,8),f.LFG(Ra),f.LFG(re,8),f.LFG(f.qLn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(uT,8),f.LFG(Ra),f.LFG(re,8),f.LFG(f.qLn))},token:s,providedIn:"root"}),s})();function dT(s){return s.cloneNode(!0)}function f$(s,i){return s+":"+i}function GK(s){return!(!s.url||!s.options)}const jK=PE(class{constructor(s){this._elementRef=s}}),HK=new f.OlP("mat-icon-location",{providedIn:"root",factory:function(){const s=(0,f.f3M)(re),i=s?s.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),p$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qK=p$.map(s=>`[${s}]`).join(", "),WK=/^url\(['"]?#(.*?)['"]?\)$/;let YK=(()=>{class s extends jK{constructor(r,o,a,c,g){super(r),this._iconRegistry=o,this._location=c,this._errorHandler=g,this._inline=!1,this._currentIconFetch=Xs.w.EMPTY,a||r.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(r){this._inline=Qt(r)}get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}get fontSet(){return this._fontSet}set fontSet(r){const o=this._cleanupFontValue(r);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(r){const o=this._cleanupFontValue(r);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(r){if(!r)return["",""];const o=r.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const r=this._elementsWithExternalReferences;if(r&&r.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();const o=r.querySelectorAll("style");for(let c=0;c<o.length;c++)o[c].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){const r=this._elementRef.nativeElement;let o=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const a=r.childNodes[o];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&r.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const r=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&r.classList.remove(this._previousFontSetClass),o&&r.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return"string"==typeof r?r.trim().split(" ")[0]:r}_prependPathToReferences(r){const o=this._elementsWithExternalReferences;o&&o.forEach((a,c)=>{a.forEach(g=>{c.setAttribute(g.name,`url('${r}#${g.value}')`)})})}_cacheChildrenWithExternalReferences(r){const o=r.querySelectorAll(qK),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<o.length;c++)p$.forEach(g=>{const _=o[c],b=_.getAttribute(g),S=b?b.match(WK):null;if(S){let T=a.get(_);T||(T=[],a.set(_,T)),T.push({name:g,value:S[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){const[o,a]=this._splitIconName(r);o&&(this._svgNamespace=o),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,o).pipe(oa(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${a}! ${c.message}`))})}}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(cT),f.$8M("aria-hidden"),f.Y36(HK),f.Y36(f.qLn))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(r,o){2&r&&(f.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),f.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:VK,decls:1,vars:0,template:function(r,o){1&r&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),s})(),KK=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[br],br]}),s})();const ZK=["primaryValueBar"],QK=PE(class{constructor(s){this._elementRef=s}},"primary"),JK=new f.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const s=(0,f.f3M)(re),i=s?s.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let e5=0,t5=(()=>{class s extends QK{constructor(r,o,a,c){super(r),this._ngZone=o,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new f.vpe,this._animationEndSubscription=Xs.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+e5++;const g=c?c.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${g}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a}get value(){return this._value}set value(r){this._value=g$(ta(r)||0)}get bufferValue(){return this._bufferValue}set bufferValue(r){this._bufferValue=g$(r||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const r=this._primaryValueBar.nativeElement;this._animationEndSubscription=Qa(r,"transitionend").pipe(zn(o=>o.target===r)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(io,8),f.Y36(JK,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-progress-bar"]],viewQuery:function(r,o){if(1&r&&f.Gf(ZK,5),2&r){let a;f.iGM(a=f.CRH())&&(o._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(r,o){2&r&&(f.uIk("aria-valuenow","indeterminate"===o.mode||"query"===o.mode?null:o.value)("mode",o.mode),f.ekj("_mat-animation-noopable",o._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[f.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f.O4$(),f.TgZ(1,"svg",1),f.TgZ(2,"defs"),f.TgZ(3,"pattern",2),f._UZ(4,"circle",3),f.qZA(),f.qZA(),f._UZ(5,"rect",4),f.qZA(),f.kcU(),f._UZ(6,"div",5),f._UZ(7,"div",6,7),f._UZ(9,"div",8),f.qZA()),2&r&&(f.xp6(3),f.Q6J("id",o.progressbarId),f.xp6(2),f.uIk("fill",o._rectangleFillValue),f.xp6(1),f.Q6J("ngStyle",o._bufferTransform()),f.xp6(1),f.Q6J("ngStyle",o._primaryTransform()))},directives:[Fi],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),s})();function g$(s,i=0,r=100){return Math.max(i,Math.min(r,s))}let n5=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[gs,br],br]}),s})();const r5=[{path:"",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-player"]],decls:28,vars:0,consts:[[1,"player_body"],[1,"example-card",2,"text-align","center","top","55px"],[1,"temp"],["mat-card-image","","src","/assets/image/bg.jpg"],[1,"temp1"],[2,"text-align","center"],["hideRequiredMarker","","appearance","outline"],["placeholder","Ex. Sajib","matInput","","required","",2,"align-content","center"],["matSuffix",""],["align","end"],["mat-raised-button","","color","primary"],["mode","indeterminate",2,"width","50%","left","25%"],["routerLink","/snake"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"mat-card",1),f.TgZ(2,"div",2),f._UZ(3,"img",3),f.TgZ(4,"h2",4),f._uU(5,"Enter your name in the form"),f.qZA(),f.qZA(),f._UZ(6,"br"),f._UZ(7,"mat-card-title"),f._UZ(8,"br"),f.TgZ(9,"mat-card-content",5),f.TgZ(10,"mat-form-field",6),f.TgZ(11,"mat-label"),f._uU(12,"Player's Name"),f.qZA(),f._UZ(13,"input",7),f.TgZ(14,"mat-icon",8),f._uU(15,"sentiment_very_satisfied"),f.qZA(),f.TgZ(16,"mat-hint",9),f._uU(17,"Submit your name to play"),f.qZA(),f.qZA(),f._UZ(18,"br"),f._UZ(19,"br"),f.TgZ(20,"button",10),f._uU(21,"Submit"),f.qZA(),f._UZ(22,"br"),f._UZ(23,"br"),f._UZ(24,"br"),f._UZ(25,"mat-progress-bar",11),f.TgZ(26,"a",12),f._uU(27,"Enter"),f.qZA(),f.qZA(),f.qZA(),f.qZA())},directives:[G8,U8,B8,V8,gK,sL,wK,YK,dK,uK,rL,t5,y_],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}.player_body[_ngcontent-%COMP%]{background-image:url(/assets/image/bg.jpg);min-height:100vh;background-size:100vw 100vh;background-repeat:no-repeat}.temp[_ngcontent-%COMP%]{position:relative}.temp1[_ngcontent-%COMP%]{position:absolute;top:15%;left:20%}mat-card[_ngcontent-%COMP%]{width:25%;height:50%;margin-left:auto;margin-right:auto}"]}),s})()},{path:"snake",component:R8}];let i5=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[AA.forRoot(r5)],AA]}),s})(),fL="";class l5{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,r){null==r?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,oe.Pz)(r))}get(i){const r=this.domStorage_.getItem(this.prefixedName_(i));return null==r?null:(0,oe.cI)(r)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class u5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,r){null==r?delete this.cache_[i]:this.cache_[i]=r}get(i){return(0,oe.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const m$=function(s){try{if("undefined"!=typeof window&&void 0!==window[s]){const i=window[s];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new l5(i)}}catch(i){}return new u5},Tg=m$("localStorage"),pL=m$("sessionStorage"),ev=new di.Yd("@firebase/database"),_$=function(){let s=1;return function(){return s++}}(),y$=function(s){const i=(0,oe.dS)(s),r=new oe.gQ;r.update(i);const o=r.digest();return oe.US.encodeByteArray(o)},qC=function(...s){let i="";for(let r=0;r<s.length;r++){const o=s[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?i+=qC.apply(null,o):i+="object"==typeof o?(0,oe.Pz)(o):o,i+=" "}return i};let Mg=null,v$=!0;const Ii=function(...s){if(!0===v$&&(v$=!1,null===Mg&&!0===pL.get("logging_enabled")&&function(s,i){(0,oe.hu)(!i||!0===s||!1===s,"Can't turn on custom loggers persistently."),!0===s?(ev.logLevel=di.in.VERBOSE,Mg=ev.log.bind(ev),i&&pL.set("logging_enabled",!0)):"function"==typeof s?Mg=s:(Mg=null,pL.remove("logging_enabled"))}(!0)),Mg){const i=qC.apply(null,s);Mg(i)}},WC=function(s){return function(...i){Ii(s,...i)}},gL=function(...s){const i="FIREBASE INTERNAL ERROR: "+qC(...s);ev.error(i)},cu=function(...s){const i=`FIREBASE FATAL ERROR: ${qC(...s)}`;throw ev.error(i),new Error(i)},Fs=function(...s){const i="FIREBASE WARNING: "+qC(...s);ev.warn(i)},hT=function(s){return"number"==typeof s&&(s!=s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Rc="[MIN_NAME]",du="[MAX_NAME]",Rg=function(s,i){if(s===i)return 0;if(s===Rc||i===du)return-1;if(i===Rc||s===du)return 1;{const r=fT(s),o=fT(i);return null!==r?null!==o?r-o==0?s.length-i.length:r-o:-1:null!==o?1:s<i?-1:1}},h5=function(s,i){return s===i?0:s<i?-1:1},YC=function(s,i){if(i&&s in i)return i[s];throw new Error("Missing required key ("+s+") in object: "+(0,oe.Pz)(i))},mL=function(s){if("object"!=typeof s||null===s)return(0,oe.Pz)(s);const i=[];for(const o in s)i.push(o);i.sort();let r="{";for(let o=0;o<i.length;o++)0!==o&&(r+=","),r+=(0,oe.Pz)(i[o]),r+=":",r+=mL(s[i[o]]);return r+="}",r},w$=function(s,i){const r=s.length;if(r<=i)return[s];const o=[];for(let a=0;a<r;a+=i)o.push(s.substring(a,a+i>r?r:a+i));return o};function Ti(s,i){for(const r in s)s.hasOwnProperty(r)&&i(r,s[r])}const E$=function(s){(0,oe.hu)(!hT(s),"Invalid JSON number");const o=1023;let a,c,g,_,b;0===s?(c=0,g=0,a=1/s==-1/0?1:0):(a=s<0,(s=Math.abs(s))>=Math.pow(2,1-o)?(_=Math.min(Math.floor(Math.log(s)/Math.LN2),o),c=_+o,g=Math.round(s*Math.pow(2,52-_)-Math.pow(2,52))):(c=0,g=Math.round(s/Math.pow(2,-1074))));const S=[];for(b=52;b;b-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(b=11;b;b-=1)S.push(c%2?1:0),c=Math.floor(c/2);S.push(a?1:0),S.reverse();const T=S.join("");let R="";for(b=0;b<64;b+=8){let N=parseInt(T.substr(b,8),2).toString(16);1===N.length&&(N="0"+N),R+=N}return R.toLowerCase()},m5=new RegExp("^-?(0*)\\d{1,10}$"),fT=function(s){if(m5.test(s)){const i=Number(s);if(i>=-2147483648&&i<=2147483647)return i}return null},tv=function(s){try{s()}catch(i){setTimeout(()=>{throw Fs("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},KC=function(s,i){const r=setTimeout(s,i);return"object"==typeof r&&r.unref&&r.unref(),r};class y5{constructor(i,r){this.appName_=i,this.appCheckProvider=r,this.appCheck=null==r?void 0:r.getImmediate({optional:!0}),this.appCheck||null==r||r.get().then(o=>this.appCheck=o)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(r,o):r(null)},0)})}addTokenChangeListener(i){var r;null===(r=this.appCheckProvider)||void 0===r||r.get().then(o=>o.addTokenListener(i))}notifyForInvalidToken(){Fs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class v5{constructor(i,r,o){this.appName_=i,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(r=>r&&"auth/token-not-initialized"===r.code?(Ii("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(r,o):r(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(r=>r.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(r=>r.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fs(i)}}let ZC=(()=>{class s{constructor(r){this.accessToken=r}getToken(r){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(r){r(this.accessToken)}removeTokenChangeListener(r){}notifyForInvalidToken(){}}return s.OWNER="owner",s})();const I$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M$="websocket",R$="long_polling";class O${constructor(i,r,o,a,c=!1,g="",_=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=g,this.includeNamespaceInQueryParams=_,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tg.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Tg.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function k$(s,i,r){let o;if((0,oe.hu)("string"==typeof i,"typeof type must == string"),(0,oe.hu)("object"==typeof r,"typeof params must == object"),i===M$)o=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else{if(i!==R$)throw new Error("Unknown connection type: "+i);o=(s.secure?"https://":"http://")+s.internalHost+"/.lp?"}(function(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams})(s)&&(r.ns=s.namespace);const a=[];return Ti(r,(c,g)=>{a.push(c+"="+g)}),o+a.join("&")}class E5{constructor(){this.counters_={}}incrementCounter(i,r=1){(0,oe.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=r}get(){return(0,oe.p$)(this.counters_)}}const vL={},bL={};function wL(s){const i=s.toString();return vL[i]||(vL[i]=new E5),vL[i]}class x5{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,r){this.closeAfterResponse=i,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,r){for(this.pendingResponses[i]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&tv(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class nv{constructor(i,r,o,a,c,g,_){this.connId=i,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=g,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=WC(i),this.stats_=wL(r),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),k$(r,R$,b))}open(i,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new x5(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(s){if((0,oe.Yr)()||"complete"===document.readyState)s();else{let i=!1;const r=function(){document.body?i||(i=!0,s()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new EL((...c)=>{const[g,_,b,S,T]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=_,this.password=b;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[g,_]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(g,_)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&I$.test(location.hostname)&&(o.r="f");const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nv.forceAllow_=!0}static forceDisallow(){nv.forceDisallow_=!0}static isAvailable(){return!((0,oe.Yr)()||!nv.forceAllow_&&(nv.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const r=(0,oe.Pz)(i);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=(0,oe.h$)(r),a=w$(o,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(i,r){if((0,oe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=i,o.pw=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const r=(0,oe.Pz)(i).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class EL{constructor(i,r,o,a){if(this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,oe.Yr)())this.commandCB=i,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=_$(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=r,this.myIFrame=EL.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(_){Ii("frame writing exception"),_.stack&&Ii(_.stack),Ii(_)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||Ii("No IE domain setting required")}catch(r){const o=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,r){for(this.myID=i,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let r=this.urlFn(i),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const g=this.pendingSegs.shift();o=o+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return r+=o,this.addLongPollTag_(r,this.currentSerial),!0}return!1}enqueueSegment(i,r,o){this.pendingSegs.push({seg:i,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(i,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(a),o()})}addTag(i,r){(0,oe.Yr)()?this.doNodeLongPoll(i,r):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=i,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||"loaded"===a||"complete"===a)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Ii("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let QC=null;"undefined"!=typeof MozWebSocket?QC=MozWebSocket:"undefined"!=typeof WebSocket&&(QC=WebSocket);let JC=(()=>{class s{constructor(r,o,a,c,g,_,b){this.connId=r,this.applicationId=a,this.appCheckToken=c,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=WC(this.connId),this.stats_=wL(o),this.connURL=s.connectionURL_(o,_,b,c),this.nodeAdmin=o.nodeAdmin}static connectionURL_(r,o,a,c){const g={v:"5"};return!(0,oe.Yr)()&&"undefined"!=typeof location&&location.hostname&&I$.test(location.hostname)&&(g.r="f"),o&&(g.s=o),a&&(g.ls=a),c&&(g.ac=c),k$(r,M$,g)}open(r,o){this.onDisconnect=o,this.onMessage=r,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tg.set("previous_websocket_failure",!0);try{if((0,oe.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${fL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,_=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;_&&(c.proxy={origin:_}),this.mySock=new QC(this.connURL,[],c)}else this.mySock=new QC(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){s.forceDisallow_=!0}static isAvailable(){let r=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(r=!0)}return!r&&null!==QC&&!s.forceDisallow_}static previouslyFailed(){return Tg.isInMemoryStorage||!0===Tg.get("previous_websocket_failure")}markConnectionHealthy(){Tg.remove("previous_websocket_failure")}appendFrame_(r){if(this.frames.push(r),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const a=(0,oe.cI)(o);this.onMessage(a)}}handleNewFrameCount_(r){this.totalFrames=r,this.frames=[]}extractFrameCount_(r){if((0,oe.hu)(null===this.frames,"We already have a frame buffer"),r.length<=6){const o=Number(r);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),r}handleIncomingFrame(r){if(null===this.mySock)return;const o=r.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const a=this.extractFrameCount_(o);null!==a&&this.appendFrame_(a)}}send(r){this.resetKeepAlive();const o=(0,oe.Pz)(r);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const a=w$(o,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(r){try{this.mySock.send(r)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return s.responsesRequiredToBeHealthy=2,s.healthyTimeout=3e4,s})();class CL{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[nv,JC]}initTransports_(i){const r=JC&&JC.isAvailable();let o=r&&!JC.previouslyFailed();if(i.webSocketOnly&&(r||Fs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[JC];else{const a=this.transports_=[];for(const c of CL.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class z5{constructor(i,r,o,a,c,g,_,b,S,T){this.id=i,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=g,this.onReady_=_,this.onDisconnect_=b,this.onKill_=S,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=WC("c:"+this.id+":"),this.transportManager_=new CL(r),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=i.healthyTimeout||0;a>0&&(this.healthyTimeout_=KC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return r=>{i===this.conn_?this.onConnectionLost_(r):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return r=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(r):i===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const r=i.t;"a"===r?this.upgradeIfSecondaryHealthy_():"r"===r?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===r&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const r=YC("t",i),o=YC("d",i);if("c"===r)this.onSecondaryControl_(o);else{if("d"!==r)throw new Error("Unknown protocol layer: "+r);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const r=YC("t",i),o=YC("d",i);"c"===r?this.onControl_(o):"d"===r&&this.onDataMessage_(o)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const r=YC("t",i);if("d"in i){const o=i.d;if("h"===r)this.onHandshake_(o);else if("n"===r){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===r?this.onConnectionShutdown_(o):"r"===r?this.onReset_(o):"e"===r?gL("Server Error: "+o):"o"===r?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gL("Unknown control packet command: "+r)}}onHandshake_(i){const r=i.ts,o=i.v,a=i.h;this.sessionId=i.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),"5"!==o&&Fs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),KC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,r){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):KC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class q${put(i,r,o,a){}merge(i,r,o,a){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,r,o){}onDisconnectMerge(i,r,o){}onDisconnectCancel(i,r){}reportStats(i){}}class W${constructor(i){this.allowedEvents_=i,this.listeners_={},(0,oe.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...r){if(Array.isArray(this.listeners_[i])){const o=[...this.listeners_[i]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(i,r,o){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:r,context:o});const a=this.getInitialEvent(i);a&&r.apply(o,a)}off(i,r,o){this.validateEventType_(i);const a=this.listeners_[i]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context))return void a.splice(c,1)}validateEventType_(i){(0,oe.hu)(this.allowedEvents_.find(r=>r===i),"Unknown event: "+i)}}class gT extends W${constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,oe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gT}getInitialEvent(i){return(0,oe.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Tn{constructor(i,r){if(void 0===r){this.pieces_=i.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=r}toString(){let i="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)""!==this.pieces_[r]&&(i+="/"+this.pieces_[r]);return i||"/"}}function wn(){return new Tn("")}function tn(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Gh(s){return s.pieces_.length-s.pieceNum_}function Gn(s){let i=s.pieceNum_;return i<s.pieces_.length&&i++,new Tn(s.pieces_,i)}function AL(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function XC(s,i=0){return s.pieces_.slice(s.pieceNum_+i)}function Z$(s){if(s.pieceNum_>=s.pieces_.length)return null;const i=[];for(let r=s.pieceNum_;r<s.pieces_.length-1;r++)i.push(s.pieces_[r]);return new Tn(i,0)}function fr(s,i){const r=[];for(let o=s.pieceNum_;o<s.pieces_.length;o++)r.push(s.pieces_[o]);if(i instanceof Tn)for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);else{const o=i.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new Tn(r,0)}function nn(s){return s.pieceNum_>=s.pieces_.length}function Ps(s,i){const r=tn(s),o=tn(i);if(null===r)return i;if(r===o)return Ps(Gn(s),Gn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+s+")")}function SL(s,i){if(Gh(s)!==Gh(i))return!1;for(let r=s.pieceNum_,o=i.pieceNum_;r<=s.pieces_.length;r++,o++)if(s.pieces_[r]!==i.pieces_[o])return!1;return!0}function ma(s,i){let r=s.pieceNum_,o=i.pieceNum_;if(Gh(s)>Gh(i))return!1;for(;r<s.pieces_.length;){if(s.pieces_[r]!==i.pieces_[o])return!1;++r,++o}return!0}class Y5{constructor(i,r){this.errorPrefix_=r,this.parts_=XC(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,oe.ug)(this.parts_[o]);Q$(this)}}function Q$(s){if(s.byteLength_>768)throw new Error(s.errorPrefix_+"has a key path longer than 768 bytes ("+s.byteLength_+").");if(s.parts_.length>32)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Og(s))}function Og(s){return 0===s.parts_.length?"":"in property '"+s.parts_.join(".")+"'"}class DL extends W${constructor(){let i,r;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(r="visibilitychange",i="hidden"):void 0!==document.mozHidden?(r="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(r="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(r="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[i];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new DL}getInitialEvent(i){return(0,oe.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const e0=1e3;let _T,rv=(()=>{class s extends q${constructor(r,o,a,c,g,_,b,S){if(super(),this.repoInfo_=r,this.applicationId_=o,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=g,this.authTokenProvider_=_,this.appCheckTokenProvider_=b,this.authOverride_=S,this.id=s.nextPersistentConnectionId_++,this.log_=WC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=e0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,oe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");DL.getInstance().on("visible",this.onVisible_,this),-1===r.host.indexOf("fblocal")&&gT.getInstance().on("online",this.onOnline_,this)}sendRequest(r,o,a){const c=++this.requestNumber_,g={r:c,a:r,b:o};this.log_((0,oe.Pz)(g)),(0,oe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[c]=a)}get(r){this.initConnection_();const o=new oe.BH,a={p:r._path.toString(),q:r._queryObject},c={action:"g",request:a,onComplete:_=>{const b=_.d;"ok"===_.s?(this.onDataUpdate_(a.p,b,!1,null),o.resolve(b)):o.reject(b)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[g];void 0===_||c!==_||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),o.promise}listen(r,o,a,c){this.initConnection_();const g=r._queryIdentifier,_=r._path.toString();this.log_("Listen called for "+_+" "+g),this.listens.has(_)||this.listens.set(_,new Map),(0,oe.hu)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,oe.hu)(!this.listens.get(_).has(g),"listen() called twice for same path/queryId.");const b={onComplete:c,hashFn:o,query:r,tag:a};this.listens.get(_).set(g,b),this.connected_&&this.sendListen_(b)}sendGet_(r){const o=this.outstandingGets_[r];this.sendRequest("g",o.request,a=>{delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(a)})}sendListen_(r){const o=r.query,a=o._path.toString(),c=o._queryIdentifier;this.log_("Listen on "+a+" for "+c);const g={p:a};r.tag&&(g.q=o._queryObject,g.t=r.tag),g.h=r.hashFn(),this.sendRequest("q",g,b=>{const S=b.d,T=b.s;s.warnOnListenWarnings_(S,o),(this.listens.get(a)&&this.listens.get(a).get(c))===r&&(this.log_("listen response",b),"ok"!==T&&this.removeListen_(a,c),r.onComplete&&r.onComplete(T,S))})}static warnOnListenWarnings_(r,o){if(r&&"object"==typeof r&&(0,oe.r3)(r,"w")){const a=(0,oe.DV)(r,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+o._queryParams.getIndex().toString()+'"',g=o._path.toString();Fs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(r){this.authToken_=r,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(r)}reduceReconnectDelayIfAdminCredential_(r){(r&&40===r.length||(0,oe.GJ)(r))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(r){this.appCheckToken_=r,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const r=this.authToken_,o=(0,oe.w9)(r)?"auth":"gauth",a={cred:r};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(o,a,c=>{const g=c.s,_=c.d||"error";this.authToken_===r&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},r=>{const o=r.s,a=r.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,a)})}unlisten(r,o){const a=r._path.toString(),c=r._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,oe.hu)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,r._queryObject,o)}sendUnlisten_(r,o,a,c){this.log_("Unlisten on "+r+" for "+o);const g={p:r};c&&(g.q=a,g.t=c),this.sendRequest("n",g)}onDisconnectPut(r,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",r,o,a):this.onDisconnectRequestQueue_.push({pathString:r,action:"o",data:o,onComplete:a})}onDisconnectMerge(r,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",r,o,a):this.onDisconnectRequestQueue_.push({pathString:r,action:"om",data:o,onComplete:a})}onDisconnectCancel(r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",r,null,o):this.onDisconnectRequestQueue_.push({pathString:r,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(r,o,a,c){const g={p:o,d:a};this.log_("onDisconnect "+r,g),this.sendRequest(r,g,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(r,o,a,c){this.putInternal("p",r,o,a,c)}merge(r,o,a,c){this.putInternal("m",r,o,a,c)}putInternal(r,o,a,c,g){this.initConnection_();const _={p:o,d:a};void 0!==g&&(_.h=g),this.outstandingPuts_.push({action:r,request:_,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(r){const o=this.outstandingPuts_[r].action,a=this.outstandingPuts_[r].request,c=this.outstandingPuts_[r].onComplete;this.outstandingPuts_[r].queued=this.connected_,this.sendRequest(o,a,g=>{this.log_(o+" response",g),delete this.outstandingPuts_[r],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(g.s,g.d)})}reportStats(r){if(this.connected_){const o={c:r};this.log_("reportStats",o),this.sendRequest("s",o,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(r){if("r"in r){this.log_("from server: "+(0,oe.Pz)(r));const o=r.r,a=this.requestCBHash_[o];a&&(delete this.requestCBHash_[o],a(r.b))}else{if("error"in r)throw"A server-side error has occurred: "+r.error;"a"in r&&this.onDataPush_(r.a,r.b)}}onDataPush_(r,o){this.log_("handleServerMessage",r,o),"d"===r?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===r?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===r?this.onListenRevoked_(o.p,o.q):"ac"===r?this.onAuthRevoked_(o.s,o.d):"apc"===r?this.onAppCheckRevoked_(o.s,o.d):"sd"===r?this.onSecurityDebugPacket_(o):gL("Unrecognized action received from server: "+(0,oe.Pz)(r)+"\nAre you using the latest client?")}onReady_(r,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(r),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(r){(0,oe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(r))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(r){r&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=e0,this.realtime_||this.scheduleConnect_(0)),this.visible_=r}onOnline_(r){r?(this.log_("Browser went online."),this.reconnectDelay_=e0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=e0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const r=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-r);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var r=this;return(0,Ne.Z)(function*(){if(r.shouldReconnect_()){r.log_("Making a connection attempt"),r.lastConnectionAttemptTime_=(new Date).getTime(),r.lastConnectionEstablishedTime_=null;const o=r.onDataMessage_.bind(r),a=r.onReady_.bind(r),c=r.onRealtimeDisconnect_.bind(r),g=r.id+":"+s.nextConnectionId_++,_=r.lastSessionId;let b=!1,S=null;const T=function(){S?S.close():(b=!0,c())};r.realtime_={close:T,sendRequest:function(L){(0,oe.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(L)}};const N=r.forceTokenRefresh_;r.forceTokenRefresh_=!1;try{const[L,H]=yield Promise.all([r.authTokenProvider_.getToken(N),r.appCheckTokenProvider_.getToken(N)]);b?Ii("getToken() completed but was canceled"):(Ii("getToken() completed. Creating connection."),r.authToken_=L&&L.accessToken,r.appCheckToken_=H&&H.token,S=new z5(g,r.repoInfo_,r.applicationId_,r.appCheckToken_,r.authToken_,o,a,c,ie=>{Fs(ie+" ("+r.repoInfo_.toString()+")"),r.interrupt("server_kill")},_))}catch(L){r.log_("Failed to get token: "+L),b||(r.repoInfo_.nodeAdmin&&Fs(L),T())}}})()}interrupt(r){Ii("Interrupting connection for reason: "+r),this.interruptReasons_[r]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(r){Ii("Resuming connection for reason: "+r),delete this.interruptReasons_[r],(0,oe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=e0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(r){const o=r-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let r=0;r<this.outstandingPuts_.length;r++){const o=this.outstandingPuts_[r];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[r],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(r,o){let a;a=o?o.map(g=>mL(g)).join("$"):"default";const c=this.removeListen_(r,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(r,o){const a=new Tn(r).toString();let c;if(this.listens.has(a)){const g=this.listens.get(a);c=g.get(o),g.delete(o),0===g.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(r,o){Ii("Auth token revoked: "+r+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===r||"permission_denied"===r)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(r,o){Ii("App check token revoked: "+r+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===r||"permission_denied"===r)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(r){this.securityDebugCallback_?this.securityDebugCallback_(r):"msg"in r&&console.log("FIREBASE: "+r.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const r of this.listens.values())for(const o of r.values())this.sendListen_(o);for(let r=0;r<this.outstandingPuts_.length;r++)this.outstandingPuts_[r]&&this.sendPut_(r);for(;this.onDisconnectRequestQueue_.length;){const r=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(r.action,r.pathString,r.data,r.onComplete)}for(let r=0;r<this.outstandingGets_.length;r++)this.outstandingGets_[r]&&this.sendGet_(r)}sendConnectStats_(){const r={};let o="js";(0,oe.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),r["sdk."+o+"."+fL.replace(/\./g,"-")]=1,(0,oe.uI)()?r["framework.cordova"]=1:(0,oe.b$)()&&(r["framework.reactnative"]=1),this.reportStats(r)}shouldReconnect_(){const r=gT.getInstance().currentlyOnline();return(0,oe.xb)(this.interruptReasons_)&&r}}return s.nextPersistentConnectionId_=0,s.nextConnectionId_=0,s})();class sn{constructor(i,r){this.name=i,this.node=r}static Wrap(i,r){return new sn(i,r)}}class mT{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,r){const o=new sn(Rc,i),a=new sn(Rc,r);return 0!==this.compare(o,a)}minPost(){return sn.MIN}}class ez extends mT{static get __EMPTY_NODE(){return _T}static set __EMPTY_NODE(i){_T=i}compare(i,r){return Rg(i.name,r.name)}isDefinedOn(i){throw(0,oe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,r){return!1}minPost(){return sn.MIN}maxPost(){return new sn(du,_T)}makePost(i,r){return(0,oe.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new sn(i,_T)}toString(){return".key"}}const hu=new ez;class yT{constructor(i,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let g=1;for(;!i.isEmpty();)if(i=i,g=r?o(i.key,r):1,a&&(g*=-1),g<0)i=this.isReverse_?i.left:i.right;else{if(0===g){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let r,i=this.nodeStack_.pop();if(r=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let TL,sl=(()=>{class s{constructor(r,o,a,c,g){this.key=r,this.value=o,this.color=null!=a?a:s.RED,this.left=null!=c?c:uo.EMPTY_NODE,this.right=null!=g?g:uo.EMPTY_NODE}copy(r,o,a,c,g){return new s(null!=r?r:this.key,null!=o?o:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||!!r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,o,a){let c=this;const g=a(r,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(r,o,a),null):0===g?c.copy(null,o,null,null,null):c.copy(null,null,null,null,c.right.insert(r,o,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return uo.EMPTY_NODE;let r=this;return!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.removeMin_(),null),r.fixUp_()}remove(r,o){let a,c;if(a=this,o(r,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(r,o),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===o(r,a.key)){if(a.right.isEmpty())return uo.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(r,o))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let r=this;return r.right.isRed_()&&!r.left.isRed_()&&(r=r.rotateLeft_()),r.left.isRed_()&&r.left.left.isRed_()&&(r=r.rotateRight_()),r.left.isRed_()&&r.right.isRed_()&&(r=r.colorFlip_()),r}moveRedLeft_(){let r=this.colorFlip_();return r.right.left.isRed_()&&(r=r.copy(null,null,null,null,r.right.rotateRight_()),r=r.rotateLeft_(),r=r.colorFlip_()),r}moveRedRight_(){let r=this.colorFlip_();return r.left.left.isRed_()&&(r=r.rotateRight_(),r=r.colorFlip_()),r}rotateLeft_(){const r=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight_(){const r=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip_(){const r=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,o)}checkMaxDepth_(){const r=this.check_();return Math.pow(2,r)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const r=this.left.check_();if(r!==this.right.check_())throw new Error("Black depths differ");return r+(this.isRed_()?0:1)}}return s.RED=!0,s.BLACK=!1,s})();class uo{constructor(i,r=uo.EMPTY_NODE){this.comparator_=i,this.root_=r}insert(i,r){return new uo(this.comparator_,this.root_.insert(i,r,this.comparator_).copy(null,null,sl.BLACK,null,null))}remove(i){return new uo(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,sl.BLACK,null,null))}get(i){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(i,o.key),0===r)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(i){let r,o=this.root_,a=null;for(;!o.isEmpty();){if(r=this.comparator_(i,o.key),0===r){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}r<0?o=o.left:r>0&&(a=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new yT(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,r){return new yT(this.root_,i,this.comparator_,!1,r)}getReverseIteratorFrom(i,r){return new yT(this.root_,i,this.comparator_,!0,r)}getReverseIterator(i){return new yT(this.root_,null,this.comparator_,!0,i)}}function r7(s,i){return Rg(s.name,i.name)}function IL(s,i){return Rg(s,i)}uo.EMPTY_NODE=new class{copy(i,r,o,a,c){return this}insert(i,r,o){return new sl(i,r,null)}remove(i,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tz=function(s){return"number"==typeof s?"number:"+E$(s):"string:"+s},nz=function(s){if(s.isLeafNode()){const i=s.val();(0,oe.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,oe.r3)(i,".sv"),"Priority must be a string or number.")}else(0,oe.hu)(s===TL||s.isEmpty(),"priority of unexpected type.");(0,oe.hu)(s===TL||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let rz,iz,sz,iv=(()=>{class s{constructor(r,o=s.__childrenNodeConstructor.EMPTY_NODE){this.value_=r,this.priorityNode_=o,this.lazyHash_=null,(0,oe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),nz(this.priorityNode_)}static set __childrenNodeConstructor(r){rz=r}static get __childrenNodeConstructor(){return rz}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(r){return new s(this.value_,r)}getImmediateChild(r){return".priority"===r?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}getChild(r){return nn(r)?this:".priority"===tn(r)?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(r,o){return null}updateImmediateChild(r,o){return".priority"===r?this.updatePriority(o):o.isEmpty()&&".priority"!==r?this:s.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(r,o).updatePriority(this.priorityNode_)}updateChild(r,o){const a=tn(r);return null===a?o:o.isEmpty()&&".priority"!==a?this:((0,oe.hu)(".priority"!==a||1===Gh(r),".priority must be the last token in a path"),this.updateImmediateChild(a,s.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gn(r),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(r,o){return!1}val(r){return r&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let r="";this.priorityNode_.isEmpty()||(r+="priority:"+tz(this.priorityNode_.val())+":");const o=typeof this.value_;r+=o+":",r+="number"===o?E$(this.value_):this.value_,this.lazyHash_=y$(r)}return this.lazyHash_}getValue(){return this.value_}compareTo(r){return r===s.__childrenNodeConstructor.EMPTY_NODE?1:r instanceof s.__childrenNodeConstructor?-1:((0,oe.hu)(r.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(r))}compareToLeafNode_(r){const o=typeof r.value_,a=typeof this.value_,c=s.VALUE_TYPE_ORDER.indexOf(o),g=s.VALUE_TYPE_ORDER.indexOf(a);return(0,oe.hu)(c>=0,"Unknown leaf type: "+o),(0,oe.hu)(g>=0,"Unknown leaf type: "+a),c===g?"object"===a?0:this.value_<r.value_?-1:this.value_===r.value_?0:1:g-c}withIndex(){return this}isIndexed(){return!0}equals(r){if(r===this)return!0;if(r.isLeafNode()){const o=r;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return s.VALUE_TYPE_ORDER=["object","boolean","number","string"],s})();const Wn=new class extends mT{compare(i,r){const o=i.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return 0===c?Rg(i.name,r.name):c}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,r){return!i.getPriority().equals(r.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(du,new iv("[PRIORITY-POST]",sz))}makePost(i,r){const o=iz(i);return new sn(r,new iv("[PRIORITY-POST]",o))}toString(){return".priority"}},l7=Math.log(2);class u7{constructor(i){this.count=parseInt(Math.log(i+1)/l7,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&a}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const vT=function(s,i,r,o){s.sort(i);const a=function(b,S){const T=S-b;let R,N;if(0===T)return null;if(1===T)return R=s[b],N=r?r(R):R,new sl(N,R.node,sl.BLACK,null,null);{const L=parseInt(T/2,10)+b,H=a(b,L),ie=a(L+1,S);return R=s[L],N=r?r(R):R,new sl(N,R.node,sl.BLACK,H,ie)}},_=function(b){let S=null,T=null,R=s.length;const N=function(H,ie){const we=R-H,Le=R;R-=H;const Ze=a(we+1,Le),Ke=s[we],wt=r?r(Ke):Ke;L(new sl(wt,Ke.node,ie,null,Ze))},L=function(H){S?(S.left=H,S=H):(T=H,S=H)};for(let H=0;H<b.count;++H){const ie=b.nextBitIsOne(),we=Math.pow(2,b.count-(H+1));ie?N(we,sl.BLACK):(N(we,sl.BLACK),N(we,sl.RED))}return T}(new u7(s.length));return new uo(o||i,_)};let ML;const sv={};class Oc{constructor(i,r){this.indexes_=i,this.indexSet_=r}static get Default(){return(0,oe.hu)(sv&&Wn,"ChildrenNode.ts has not been loaded"),ML=ML||new Oc({".priority":sv},{".priority":Wn}),ML}get(i){const r=(0,oe.DV)(this.indexes_,i);if(!r)throw new Error("No index defined for "+i);return r instanceof uo?r:null}hasIndex(i){return(0,oe.r3)(this.indexSet_,i.toString())}addIndex(i,r){(0,oe.hu)(i!==hu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(sn.Wrap);let _,g=c.getNext();for(;g;)a=a||i.isDefinedOn(g.node),o.push(g),g=c.getNext();_=a?vT(o,i.getCompare()):sv;const b=i.toString(),S=Object.assign({},this.indexSet_);S[b]=i;const T=Object.assign({},this.indexes_);return T[b]=_,new Oc(T,S)}addToIndexes(i,r){const o=(0,oe.UI)(this.indexes_,(a,c)=>{const g=(0,oe.DV)(this.indexSet_,c);if((0,oe.hu)(g,"Missing index implementation for "+c),a===sv){if(g.isDefinedOn(i.node)){const _=[],b=r.getIterator(sn.Wrap);let S=b.getNext();for(;S;)S.name!==i.name&&_.push(S),S=b.getNext();return _.push(i),vT(_,g.getCompare())}return sv}{const _=r.get(i.name);let b=a;return _&&(b=b.remove(new sn(i.name,_))),b.insert(i,i.node)}});return new Oc(o,this.indexSet_)}removeFromIndexes(i,r){const o=(0,oe.UI)(this.indexes_,a=>{if(a===sv)return a;{const c=r.get(i.name);return c?a.remove(new sn(i.name,c)):a}});return new Oc(o,this.indexSet_)}}let t0,Ht=(()=>{class s{constructor(r,o,a){this.children_=r,this.priorityNode_=o,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&nz(this.priorityNode_),this.children_.isEmpty()&&(0,oe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return t0||(t0=new s(new uo(IL),null,Oc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||t0}updatePriority(r){return this.children_.isEmpty()?this:new s(this.children_,r,this.indexMap_)}getImmediateChild(r){if(".priority"===r)return this.getPriority();{const o=this.children_.get(r);return null===o?t0:o}}getChild(r){const o=tn(r);return null===o?this:this.getImmediateChild(o).getChild(Gn(r))}hasChild(r){return null!==this.children_.get(r)}updateImmediateChild(r,o){if((0,oe.hu)(o,"We should always be passing snapshot nodes"),".priority"===r)return this.updatePriority(o);{const a=new sn(r,o);let c,g;o.isEmpty()?(c=this.children_.remove(r),g=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(r,o),g=this.indexMap_.addToIndexes(a,this.children_));const _=c.isEmpty()?t0:this.priorityNode_;return new s(c,_,g)}}updateChild(r,o){const a=tn(r);if(null===a)return o;{(0,oe.hu)(".priority"!==tn(r)||1===Gh(r),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Gn(r),o);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(r){if(this.isEmpty())return null;const o={};let a=0,c=0,g=!0;if(this.forEachChild(Wn,(_,b)=>{o[_]=b.val(r),a++,g&&s.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):g=!1}),!r&&g&&c<2*a){const _=[];for(const b in o)_[b]=o[b];return _}return r&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let r="";this.getPriority().isEmpty()||(r+="priority:"+tz(this.getPriority().val())+":"),this.forEachChild(Wn,(o,a)=>{const c=a.hash();""!==c&&(r+=":"+o+":"+c)}),this.lazyHash_=""===r?"":y$(r)}return this.lazyHash_}getPredecessorChildName(r,o,a){const c=this.resolveIndex_(a);if(c){const g=c.getPredecessorKey(new sn(r,o));return g?g.name:null}return this.children_.getPredecessorKey(r)}getFirstChildName(r){const o=this.resolveIndex_(r);if(o){const a=o.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(r){const o=this.getFirstChildName(r);return o?new sn(o,this.children_.get(o)):null}getLastChildName(r){const o=this.resolveIndex_(r);if(o){const a=o.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(r){const o=this.getLastChildName(r);return o?new sn(o,this.children_.get(o)):null}forEachChild(r,o){const a=this.resolveIndex_(r);return a?a.inorderTraversal(c=>o(c.name,c.node)):this.children_.inorderTraversal(o)}getIterator(r){return this.getIteratorFrom(r.minPost(),r)}getIteratorFrom(r,o){const a=this.resolveIndex_(o);if(a)return a.getIteratorFrom(r,c=>c);{const c=this.children_.getIteratorFrom(r.name,sn.Wrap);let g=c.peek();for(;null!=g&&o.compare(g,r)<0;)c.getNext(),g=c.peek();return c}}getReverseIterator(r){return this.getReverseIteratorFrom(r.maxPost(),r)}getReverseIteratorFrom(r,o){const a=this.resolveIndex_(o);if(a)return a.getReverseIteratorFrom(r,c=>c);{const c=this.children_.getReverseIteratorFrom(r.name,sn.Wrap);let g=c.peek();for(;null!=g&&o.compare(g,r)>0;)c.getNext(),g=c.peek();return c}}compareTo(r){return this.isEmpty()?r.isEmpty()?0:-1:r.isLeafNode()||r.isEmpty()?1:r===n0?-1:0}withIndex(r){if(r===hu||this.indexMap_.hasIndex(r))return this;{const o=this.indexMap_.addIndex(r,this.children_);return new s(this.children_,this.priorityNode_,o)}}isIndexed(r){return r===hu||this.indexMap_.hasIndex(r)}equals(r){if(r===this)return!0;if(r.isLeafNode())return!1;{const o=r;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const a=this.getIterator(Wn),c=o.getIterator(Wn);let g=a.getNext(),_=c.getNext();for(;g&&_;){if(g.name!==_.name||!g.node.equals(_.node))return!1;g=a.getNext(),_=c.getNext()}return null===g&&null===_}return!1}return!1}}resolveIndex_(r){return r===hu?null:this.indexMap_.get(r.toString())}}return s.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,s})();const n0=new class extends Ht{constructor(){super(new uo(IL),Ht.EMPTY_NODE,Oc.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Ht.EMPTY_NODE}isEmpty(){return!1}};function wr(s,i=null){if(null===s)return Ht.EMPTY_NODE;if("object"==typeof s&&".priority"in s&&(i=s[".priority"]),(0,oe.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof s&&".value"in s&&null!==s[".value"]&&(s=s[".value"]),"object"!=typeof s||".sv"in s)return new iv(s,wr(i));if(s instanceof Array){let r=Ht.EMPTY_NODE;return Ti(s,(o,a)=>{if((0,oe.r3)(s,o)&&"."!==o.substring(0,1)){const c=wr(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(wr(i))}{const r=[];let o=!1;if(Ti(s,(g,_)=>{if("."!==g.substring(0,1)){const b=wr(_);b.isEmpty()||(o=o||!b.getPriority().isEmpty(),r.push(new sn(g,b)))}}),0===r.length)return Ht.EMPTY_NODE;const c=vT(r,r7,g=>g.name,IL);if(o){const g=vT(r,Wn.getCompare());return new Ht(c,wr(i),new Oc({".priority":g},{".priority":Wn}))}return new Ht(c,wr(i),Oc.Default)}}Object.defineProperties(sn,{MIN:{value:new sn(Rc,Ht.EMPTY_NODE)},MAX:{value:new sn(du,n0)}}),ez.__EMPTY_NODE=Ht.EMPTY_NODE,iv.__childrenNodeConstructor=Ht,function(s){TL=s}(n0),function(s){sz=s}(n0),function(s){iz=s}(wr);class RL extends mT{constructor(i){super(),this.indexPath_=i,(0,oe.hu)(!nn(i)&&".priority"!==tn(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,r){const o=this.extractChild(i.node),a=this.extractChild(r.node),c=o.compareTo(a);return 0===c?Rg(i.name,r.name):c}makePost(i,r){const o=wr(i),a=Ht.EMPTY_NODE.updateChild(this.indexPath_,o);return new sn(r,a)}maxPost(){const i=Ht.EMPTY_NODE.updateChild(this.indexPath_,n0);return new sn(du,i)}toString(){return XC(this.indexPath_,0).join("/")}}const OL=new class extends mT{compare(i,r){const o=i.node.compareTo(r.node);return 0===o?Rg(i.name,r.name):o}isDefinedOn(i){return!0}indexedValueChanged(i,r){return!i.equals(r)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(i,r){const o=wr(i);return new sn(r,o)}toString(){return".value"}};function s0(s,i,r){return{type:"child_changed",snapshotNode:i,childName:s,oldSnap:r}}class FL{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:du}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,oe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wn}copy(){const i=new FL;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function dz(s){const i={};if(s.isDefault())return i;let r;return s.index_===Wn?r="$priority":s.index_===OL?r="$value":s.index_===hu?r="$key":((0,oe.hu)(s.index_ instanceof RL,"Unrecognized index type!"),r=s.index_.toString()),i.orderBy=(0,oe.Pz)(r),s.startSet_&&(i.startAt=(0,oe.Pz)(s.indexStartValue_),s.startNameSet_&&(i.startAt+=","+(0,oe.Pz)(s.indexStartName_))),s.endSet_&&(i.endAt=(0,oe.Pz)(s.indexEndValue_),s.endNameSet_&&(i.endAt+=","+(0,oe.Pz)(s.indexEndName_))),s.limitSet_&&(s.isViewFromLeft()?i.limitToFirst=s.limit_:i.limitToLast=s.limit_),i}function hz(s){const i={};if(s.startSet_&&(i.sp=s.indexStartValue_,s.startNameSet_&&(i.sn=s.indexStartName_)),s.endSet_&&(i.ep=s.indexEndValue_,s.endNameSet_&&(i.en=s.indexEndName_)),s.limitSet_){i.l=s.limit_;let r=s.viewFrom_;""===r&&(r=s.isViewFromLeft()?"l":"r"),i.vf=r}return s.index_!==Wn&&(i.i=s.index_.toString()),i}class wT extends q${constructor(i,r,o,a){super(),this.repoInfo_=i,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=WC("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,r){return void 0!==r?"tag$"+r:((0,oe.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,r,o,a){const c=i._path.toString();this.log_("Listen called for "+c+" "+i._queryIdentifier);const g=wT.getListenId_(i,o),_={};this.listens_[g]=_;const b=dz(i._queryParams);this.restRequest_(c+".json",b,(S,T)=>{let R=T;if(404===S&&(R=null,S=null),null===S&&this.onDataUpdate_(c,R,!1,o),(0,oe.DV)(this.listens_,g)===_){let N;N=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(N,null)}})}unlisten(i,r){const o=wT.getListenId_(i,r);delete this.listens_[o]}get(i){const r=dz(i._queryParams),o=i._path.toString(),a=new oe.BH;return this.restRequest_(o+".json",r,(c,g)=>{let _=g;404===c&&(_=null,c=null),null===c?(this.onDataUpdate_(o,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(i){}restRequest_(i,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,oe.xO)(r);this.log_("Sending REST request for "+g);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(o&&4===_.readyState){this.log_("REST Response for "+g+" received. status:",_.status,"response:",_.responseText);let b=null;if(_.status>=200&&_.status<300){try{b=(0,oe.cI)(_.responseText)}catch(S){Fs("Failed to parse JSON response for "+g+": "+_.responseText)}o(null,b)}else 401!==_.status&&404!==_.status&&Fs("Got unsuccessful REST response for "+g+" Status: "+_.status),o(_.status);o=null}},_.open("GET",g,!0),_.send()})}}class w7{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,r){this.rootNode_=this.rootNode_.updateChild(i,r)}}function ET(){return{value:null,children:new Map}}function lv(s,i,r){if(nn(i))s.value=r,s.children.clear();else if(null!==s.value)s.value=s.value.updateChild(i,r);else{const o=tn(i);s.children.has(o)||s.children.set(o,ET()),lv(s.children.get(o),i=Gn(i),r)}}function BL(s,i,r){null!==s.value?r(i,s.value):function(s,i){s.children.forEach((r,o)=>{i(o,r)})}(s,(o,a)=>{BL(a,new Tn(i.toString()+"/"+o),r)})}class C7{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),r=Object.assign({},i);return this.last_&&Ti(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=i,r}}class S7{constructor(i,r){this.server_=r,this.statsToReport_={},this.statsListener_=new C7(i);const o=1e4+2e4*Math.random();KC(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const i=this.statsListener_.get(),r={};let o=!1;Ti(i,(a,c)=>{c>0&&(0,oe.r3)(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),KC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _a=(()=>(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_a||(_a={})),_a))();function jL(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class CT{constructor(i,r,o){this.path=i,this.affectedTree=r,this.revert=o,this.type=_a.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(nn(this.path)){if(null!=this.affectedTree.value)return(0,oe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Tn(i));return new CT(wn(),r,this.revert)}}return(0,oe.hu)(tn(this.path)===i,"operationForChild called for unrelated child."),new CT(Gn(this.path),this.affectedTree,this.revert)}}class kg{constructor(i,r,o){this.source=i,this.path=r,this.snap=o,this.type=_a.OVERWRITE}operationForChild(i){return nn(this.path)?new kg(this.source,wn(),this.snap.getImmediateChild(i)):new kg(this.source,Gn(this.path),this.snap)}}class uv{constructor(i,r,o){this.source=i,this.path=r,this.children=o,this.type=_a.MERGE}operationForChild(i){if(nn(this.path)){const r=this.children.subtree(new Tn(i));return r.isEmpty()?null:r.value?new kg(this.source,wn(),r.value):new uv(this.source,wn(),r)}return(0,oe.hu)(tn(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new uv(this.source,Gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class jh{constructor(i,r,o){this.node_=i,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(nn(i))return this.isFullyInitialized()&&!this.filtered_;const r=tn(i);return this.isCompleteForChild(r)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}function l0(s,i,r,o,a,c){const g=o.filter(_=>_.type===r);g.sort((_,b)=>function(s,i,r){if(null==i.childName||null==r.childName)throw(0,oe.g5)("Should only compare child_ events.");const o=new sn(i.childName,i.snapshotNode),a=new sn(r.childName,r.snapshotNode);return s.index_.compare(o,a)}(s,_,b)),g.forEach(_=>{const b=function(s,i,r){return"value"===i.type||"child_removed"===i.type||(i.prevName=r.getPredecessorChildName(i.childName,i.snapshotNode,s.index_)),i}(s,_,c);a.forEach(S=>{S.respondsTo(_.type)&&i.push(S.createEvent(b,s.query_))})})}function xT(s,i){return{eventCache:s,serverCache:i}}function u0(s,i,r,o){return xT(new jh(i,r,o),s.serverCache)}function pz(s,i,r,o){return xT(s.eventCache,new jh(i,r,o))}function AT(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ng(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let HL;class Yn{constructor(i,r=(()=>(HL||(HL=new uo(h5)),HL))()){this.value=i,this.children=r}static fromObject(i){let r=new Yn(null);return Ti(i,(o,a)=>{r=r.set(new Tn(o),a)}),r}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,r){if(null!=this.value&&r(this.value))return{path:wn(),value:this.value};if(nn(i))return null;{const o=tn(i),a=this.children.get(o);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Gn(i),r);return null!=c?{path:fr(new Tn(o),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(nn(i))return this;{const r=tn(i),o=this.children.get(r);return null!==o?o.subtree(Gn(i)):new Yn(null)}}set(i,r){if(nn(i))return new Yn(r,this.children);{const o=tn(i),c=(this.children.get(o)||new Yn(null)).set(Gn(i),r),g=this.children.insert(o,c);return new Yn(this.value,g)}}remove(i){if(nn(i))return this.children.isEmpty()?new Yn(null):new Yn(null,this.children);{const r=tn(i),o=this.children.get(r);if(o){const a=o.remove(Gn(i));let c;return c=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),null===this.value&&c.isEmpty()?new Yn(null):new Yn(this.value,c)}return this}}get(i){if(nn(i))return this.value;{const r=tn(i),o=this.children.get(r);return o?o.get(Gn(i)):null}}setTree(i,r){if(nn(i))return r;{const o=tn(i),c=(this.children.get(o)||new Yn(null)).setTree(Gn(i),r);let g;return g=c.isEmpty()?this.children.remove(o):this.children.insert(o,c),new Yn(this.value,g)}}fold(i){return this.fold_(wn(),i)}fold_(i,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(fr(i,a),r)}),r(i,this.value,o)}findOnPath(i,r){return this.findOnPath_(i,wn(),r)}findOnPath_(i,r,o){const a=!!this.value&&o(r,this.value);if(a)return a;if(nn(i))return null;{const c=tn(i),g=this.children.get(c);return g?g.findOnPath_(Gn(i),fr(r,c),o):null}}foreachOnPath(i,r){return this.foreachOnPath_(i,wn(),r)}foreachOnPath_(i,r,o){if(nn(i))return this;{this.value&&o(r,this.value);const a=tn(i),c=this.children.get(a);return c?c.foreachOnPath_(Gn(i),fr(r,a),o):new Yn(null)}}foreach(i){this.foreach_(wn(),i)}foreach_(i,r){this.children.inorderTraversal((o,a)=>{a.foreach_(fr(i,o),r)}),this.value&&r(i,this.value)}foreachChild(i){this.children.inorderTraversal((r,o)=>{o.value&&i(r,o.value)})}}class ol{constructor(i){this.writeTree_=i}static empty(){return new ol(new Yn(null))}}function c0(s,i,r){if(nn(i))return new ol(new Yn(r));{const o=s.writeTree_.findRootMostValueAndPath(i);if(null!=o){const a=o.path;let c=o.value;const g=Ps(a,i);return c=c.updateChild(g,r),new ol(s.writeTree_.set(a,c))}{const a=new Yn(r),c=s.writeTree_.setTree(i,a);return new ol(c)}}}function $L(s,i,r){let o=s;return Ti(r,(a,c)=>{o=c0(o,fr(i,a),c)}),o}function gz(s,i){if(nn(i))return ol.empty();{const r=s.writeTree_.setTree(i,new Yn(null));return new ol(r)}}function zL(s,i){return null!=Fg(s,i)}function Fg(s,i){const r=s.writeTree_.findRootMostValueAndPath(i);return null!=r?s.writeTree_.get(r.path).getChild(Ps(r.path,i)):null}function mz(s){const i=[],r=s.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(Wn,(o,a)=>{i.push(new sn(o,a))}):s.writeTree_.children.inorderTraversal((o,a)=>{null!=a.value&&i.push(new sn(o,a.value))}),i}function Hh(s,i){if(nn(i))return s;{const r=Fg(s,i);return new ol(null!=r?new Yn(r):s.writeTree_.subtree(i))}}function qL(s){return s.writeTree_.isEmpty()}function cv(s,i){return _z(wn(),s.writeTree_,i)}function _z(s,i,r){if(null!=i.value)return r.updateChild(s,i.value);{let o=null;return i.children.inorderTraversal((a,c)=>{".priority"===a?((0,oe.hu)(null!==c.value,"Priority writes must always be leaf nodes"),o=c.value):r=_z(fr(s,a),c,r)}),!r.getChild(s).isEmpty()&&null!==o&&(r=r.updateChild(fr(s,".priority"),o)),r}}function ST(s,i){return Ez(i,s)}function P7(s,i){if(s.snap)return ma(s.path,i);for(const r in s.children)if(s.children.hasOwnProperty(r)&&ma(fr(s.path,r),i))return!0;return!1}function V7(s){return s.visible}function yz(s,i,r){let o=ol.empty();for(let a=0;a<s.length;++a){const c=s[a];if(i(c)){const g=c.path;let _;if(c.snap)ma(r,g)?(_=Ps(r,g),o=c0(o,_,c.snap)):ma(g,r)&&(_=Ps(g,r),o=c0(o,wn(),c.snap.getChild(_)));else{if(!c.children)throw(0,oe.g5)("WriteRecord should have .snap or .children");if(ma(r,g))_=Ps(r,g),o=$L(o,_,c.children);else if(ma(g,r))if(_=Ps(g,r),nn(_))o=$L(o,wn(),c.children);else{const b=(0,oe.DV)(c.children,tn(_));if(b){const S=b.getChild(Gn(_));o=c0(o,wn(),S)}}}}}return o}function vz(s,i,r,o,a){if(o||a){const c=Hh(s.visibleWrites,i);return!a&&qL(c)?r:a||null!=r||zL(c,wn())?cv(yz(s.allWrites,function(S){return(S.visible||a)&&(!o||!~o.indexOf(S.writeId))&&(ma(S.path,i)||ma(i,S.path))},i),r||Ht.EMPTY_NODE):null}{const c=Fg(s.visibleWrites,i);if(null!=c)return c;{const g=Hh(s.visibleWrites,i);return qL(g)?r:null!=r||zL(g,wn())?cv(g,r||Ht.EMPTY_NODE):null}}}function DT(s,i,r,o){return vz(s.writeTree,s.treePath,i,r,o)}function WL(s,i){return function(s,i,r){let o=Ht.EMPTY_NODE;const a=Fg(s.visibleWrites,i);if(a)return a.isLeafNode()||a.forEachChild(Wn,(c,g)=>{o=o.updateImmediateChild(c,g)}),o;if(r){const c=Hh(s.visibleWrites,i);return r.forEachChild(Wn,(g,_)=>{const b=cv(Hh(c,new Tn(g)),_);o=o.updateImmediateChild(g,b)}),mz(c).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}return mz(Hh(s.visibleWrites,i)).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}(s.writeTree,s.treePath,i)}function bz(s,i,r,o){return function(s,i,r,o,a){(0,oe.hu)(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=fr(i,r);if(zL(s.visibleWrites,c))return null;{const g=Hh(s.visibleWrites,c);return qL(g)?a.getChild(r):cv(g,a.getChild(r))}}(s.writeTree,s.treePath,i,r,o)}function IT(s,i){return function(s,i){return Fg(s.visibleWrites,i)}(s.writeTree,fr(s.treePath,i))}function YL(s,i,r){return function(s,i,r,o){const a=fr(i,r),c=Fg(s.visibleWrites,a);return null!=c?c:o.isCompleteForChild(r)?cv(Hh(s.visibleWrites,a),o.getNode().getImmediateChild(r)):null}(s.writeTree,s.treePath,i,r)}function wz(s,i){return Ez(fr(s.treePath,i),s.writeTree)}function Ez(s,i){return{treePath:s,writeTree:i}}class q7{constructor(){this.changeMap=new Map}trackChildChange(i){const r=i.type,o=i.childName;(0,oe.hu)("child_added"===r||"child_changed"===r||"child_removed"===r,"Only child changes supported for tracking"),(0,oe.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if("child_added"===r&&"child_removed"===c)this.changeMap.set(o,s0(o,i.snapshotNode,a.snapshotNode));else if("child_removed"===r&&"child_added"===c)this.changeMap.delete(o);else if("child_removed"===r&&"child_changed"===c)this.changeMap.set(o,function(s,i){return{type:"child_removed",snapshotNode:i,childName:s}}(o,a.oldSnap));else if("child_changed"===r&&"child_added"===c)this.changeMap.set(o,function(s,i){return{type:"child_added",snapshotNode:i,childName:s}}(o,i.snapshotNode));else{if("child_changed"!==r||"child_changed"!==c)throw(0,oe.g5)("Illegal combination of changes: "+i+" occurred after "+a);this.changeMap.set(o,s0(o,i.snapshotNode,a.oldSnap))}}else this.changeMap.set(o,i)}getChanges(){return Array.from(this.changeMap.values())}}const Cz=new class{getCompleteChild(i){return null}getChildAfterChild(i,r,o){return null}};class KL{constructor(i,r,o=null){this.writes_=i,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(i){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(i))return r.getNode().getImmediateChild(i);{const o=null!=this.optCompleteServerCache_?new jh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YL(this.writes_,i,o)}}getChildAfterChild(i,r,o){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ng(this.viewCache_),c=function(s,i,r,o,a,c){return function(s,i,r,o,a,c,g){let _;const b=Hh(s.visibleWrites,i),S=Fg(b,wn());if(null!=S)_=S;else{if(null==r)return[];_=cv(b,r)}if(_=_.withIndex(g),_.isEmpty()||_.isLeafNode())return[];{const T=[],R=g.getCompare(),N=c?_.getReverseIteratorFrom(o,g):_.getIteratorFrom(o,g);let L=N.getNext();for(;L&&T.length<a;)0!==R(L,o)&&T.push(L),L=N.getNext();return T}}(s.writeTree,s.treePath,i,r,o,a,c)}(this.writes_,a,r,1,o,i);return 0===c.length?null:c[0]}}function xz(s,i,r,o,a,c){const g=i.eventCache;if(null!=IT(o,r))return i;{let _,b;if(nn(r))if((0,oe.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const S=Ng(i),R=WL(o,S instanceof Ht?S:Ht.EMPTY_NODE);_=s.filter.updateFullNode(i.eventCache.getNode(),R,c)}else{const S=DT(o,Ng(i));_=s.filter.updateFullNode(i.eventCache.getNode(),S,c)}else{const S=tn(r);if(".priority"===S){(0,oe.hu)(1===Gh(r),"Can't have a priority with additional path components");const T=g.getNode();b=i.serverCache.getNode();const R=bz(o,r,T,b);_=null!=R?s.filter.updatePriority(T,R):g.getNode()}else{const T=Gn(r);let R;if(g.isCompleteForChild(S)){b=i.serverCache.getNode();const N=bz(o,r,g.getNode(),b);R=null!=N?g.getNode().getImmediateChild(S).updateChild(T,N):g.getNode().getImmediateChild(S)}else R=YL(o,S,i.serverCache);_=null!=R?s.filter.updateChild(g.getNode(),S,R,T,a,c):g.getNode()}}return u0(i,_,g.isFullyInitialized()||nn(r),s.filter.filtersNodes())}}function TT(s,i,r,o,a,c,g,_){const b=i.serverCache;let S;const T=g?s.filter:s.filter.getIndexedFilter();if(nn(r))S=T.updateFullNode(b.getNode(),o,null);else if(T.filtersNodes()&&!b.isFiltered()){const L=b.getNode().updateChild(r,o);S=T.updateFullNode(b.getNode(),L,null)}else{const L=tn(r);if(!b.isCompleteForPath(r)&&Gh(r)>1)return i;const H=Gn(r),we=b.getNode().getImmediateChild(L).updateChild(H,o);S=".priority"===L?T.updatePriority(b.getNode(),we):T.updateChild(b.getNode(),L,we,H,Cz,null)}const R=pz(i,S,b.isFullyInitialized()||nn(r),T.filtersNodes());return xz(s,R,r,a,new KL(a,R,c),_)}function ZL(s,i,r,o,a,c,g){const _=i.eventCache;let b,S;const T=new KL(a,i,c);if(nn(r))S=s.filter.updateFullNode(i.eventCache.getNode(),o,g),b=u0(i,S,!0,s.filter.filtersNodes());else{const R=tn(r);if(".priority"===R)S=s.filter.updatePriority(i.eventCache.getNode(),o),b=u0(i,S,_.isFullyInitialized(),_.isFiltered());else{const N=Gn(r),L=_.getNode().getImmediateChild(R);let H;if(nn(N))H=o;else{const ie=T.getCompleteChild(R);H=null!=ie?".priority"===AL(N)&&ie.getChild(Z$(N)).isEmpty()?ie:ie.updateChild(N,o):Ht.EMPTY_NODE}b=L.equals(H)?i:u0(i,s.filter.updateChild(_.getNode(),R,H,N,T,g),_.isFullyInitialized(),s.filter.filtersNodes())}}return b}function Az(s,i){return s.eventCache.isCompleteForChild(i)}function Sz(s,i,r){return r.foreach((o,a)=>{i=i.updateChild(o,a)}),i}function QL(s,i,r,o,a,c,g,_){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let S,b=i;S=nn(r)?o:new Yn(null).setTree(r,o);const T=i.serverCache.getNode();return S.children.inorderTraversal((R,N)=>{if(T.hasChild(R)){const H=Sz(0,i.serverCache.getNode().getImmediateChild(R),N);b=TT(s,b,new Tn(R),H,a,c,g,_)}}),S.children.inorderTraversal((R,N)=>{const L=!i.serverCache.isCompleteForChild(R)&&void 0===N.value;if(!T.hasChild(R)&&!L){const ie=Sz(0,i.serverCache.getNode().getImmediateChild(R),N);b=TT(s,b,new Tn(R),ie,a,c,g,_)}}),b}function sZ(s,i){const r=Ng(s.viewCache_);return r&&(s.query._queryParams.loadsAllData()||!nn(i)&&!r.getImmediateChild(tn(i)).isEmpty())?r.getChild(i):null}function Tz(s,i,r,o){i.type===_a.MERGE&&null!==i.source.queryId&&((0,oe.hu)(Ng(s.viewCache_),"We should always have a full cache before handling merges"),(0,oe.hu)(AT(s.viewCache_),"Missing event cache, even though we have a server cache"));const a=s.viewCache_,c=function(s,i,r,o,a){const c=new q7;let g,_;if(r.type===_a.OVERWRITE){const S=r;S.source.fromUser?g=ZL(s,i,S.path,S.snap,o,a,c):((0,oe.hu)(S.source.fromServer,"Unknown source."),_=S.source.tagged||i.serverCache.isFiltered()&&!nn(S.path),g=TT(s,i,S.path,S.snap,o,a,_,c))}else if(r.type===_a.MERGE){const S=r;S.source.fromUser?g=function(s,i,r,o,a,c,g){let _=i;return o.foreach((b,S)=>{const T=fr(r,b);Az(i,tn(T))&&(_=ZL(s,_,T,S,a,c,g))}),o.foreach((b,S)=>{const T=fr(r,b);Az(i,tn(T))||(_=ZL(s,_,T,S,a,c,g))}),_}(s,i,S.path,S.children,o,a,c):((0,oe.hu)(S.source.fromServer,"Unknown source."),_=S.source.tagged||i.serverCache.isFiltered(),g=QL(s,i,S.path,S.children,o,a,_,c))}else if(r.type===_a.ACK_USER_WRITE){const S=r;g=S.revert?function(s,i,r,o,a,c){let g;if(null!=IT(o,r))return i;{const _=new KL(o,i,a),b=i.eventCache.getNode();let S;if(nn(r)||".priority"===tn(r)){let T;if(i.serverCache.isFullyInitialized())T=DT(o,Ng(i));else{const R=i.serverCache.getNode();(0,oe.hu)(R instanceof Ht,"serverChildren would be complete if leaf node"),T=WL(o,R)}T=T,S=s.filter.updateFullNode(b,T,c)}else{const T=tn(r);let R=YL(o,T,i.serverCache);null==R&&i.serverCache.isCompleteForChild(T)&&(R=b.getImmediateChild(T)),S=null!=R?s.filter.updateChild(b,T,R,Gn(r),_,c):i.eventCache.getNode().hasChild(T)?s.filter.updateChild(b,T,Ht.EMPTY_NODE,Gn(r),_,c):b,S.isEmpty()&&i.serverCache.isFullyInitialized()&&(g=DT(o,Ng(i)),g.isLeafNode()&&(S=s.filter.updateFullNode(S,g,c)))}return g=i.serverCache.isFullyInitialized()||null!=IT(o,wn()),u0(i,S,g,s.filter.filtersNodes())}}(s,i,S.path,o,a,c):function(s,i,r,o,a,c,g){if(null!=IT(a,r))return i;const _=i.serverCache.isFiltered(),b=i.serverCache;if(null!=o.value){if(nn(r)&&b.isFullyInitialized()||b.isCompleteForPath(r))return TT(s,i,r,b.getNode().getChild(r),a,c,_,g);if(nn(r)){let S=new Yn(null);return b.getNode().forEachChild(hu,(T,R)=>{S=S.set(new Tn(T),R)}),QL(s,i,r,S,a,c,_,g)}return i}{let S=new Yn(null);return o.foreach((T,R)=>{const N=fr(r,T);b.isCompleteForPath(N)&&(S=S.set(T,b.getNode().getChild(N)))}),QL(s,i,r,S,a,c,_,g)}}(s,i,S.path,S.affectedTree,o,a,c)}else{if(r.type!==_a.LISTEN_COMPLETE)throw(0,oe.g5)("Unknown operation type: "+r.type);g=function(s,i,r,o,a){const c=i.serverCache;return xz(s,pz(i,c.getNode(),c.isFullyInitialized()||nn(r),c.isFiltered()),r,o,Cz,a)}(s,i,r.path,o,c)}const b=c.getChanges();return function(s,i,r){const o=i.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=AT(s);(r.length>0||!s.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(function(s){return{type:"value",snapshotNode:s}}(AT(i)))}}(i,g,b),{viewCache:g,changes:b}}(s.processor_,a,i,r,o);return function(s,i){(0,oe.hu)(i.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,oe.hu)(i.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}(s.processor_,c.viewCache),(0,oe.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,function(s,i,r,o){return function(s,i,r,o){const a=[],c=[];return i.forEach(g=>{"child_changed"===g.type&&s.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&c.push(function(s,i){return{type:"child_moved",snapshotNode:i,childName:s}}(g.childName,g.snapshotNode))}),l0(s,a,"child_removed",i,o,r),l0(s,a,"child_added",i,o,r),l0(s,a,"child_moved",c,o,r),l0(s,a,"child_changed",i,o,r),l0(s,a,"value",i,o,r),a}(s.eventGenerator_,i,r,o?[o]:s.eventRegistrations_)}(s,c.changes,c.viewCache.eventCache.getNode(),null)}let MT,OT;function JL(s,i,r,o){const a=i.source.queryId;if(null!==a){const c=s.views.get(a);return(0,oe.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Tz(c,i,r,o)}{let c=[];for(const g of s.views.values())c=c.concat(Tz(g,i,r,o));return c}}function $h(s,i){let r=null;for(const o of s.views.values())r=r||sZ(o,i);return r}class Pz{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Yn(null),this.pendingWriteTree_={visibleWrites:ol.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function XL(s,i,r,o,a){return function(s,i,r,o,a){(0,oe.hu)(o>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),s.allWrites.push({path:i,snap:r,writeId:o,visible:a}),a&&(s.visibleWrites=c0(s.visibleWrites,i,r)),s.lastWriteId=o}(s.pendingWriteTree_,i,r,o,a),a?dv(s,new kg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,r)):[]}function qh(s,i,r=!1){const o=function(s,i){for(let r=0;r<s.allWrites.length;r++){const o=s.allWrites[r];if(o.writeId===i)return o}return null}(s.pendingWriteTree_,i);if(function(s,i){const r=s.allWrites.findIndex(_=>_.writeId===i);(0,oe.hu)(r>=0,"removeWrite called with nonexistent writeId.");const o=s.allWrites[r];s.allWrites.splice(r,1);let a=o.visible,c=!1,g=s.allWrites.length-1;for(;a&&g>=0;){const _=s.allWrites[g];_.visible&&(g>=r&&P7(_,o.path)?a=!1:ma(o.path,_.path)&&(c=!0)),g--}return!!a&&(c?(function(s){s.visibleWrites=yz(s.allWrites,V7,wn()),s.lastWriteId=s.allWrites.length>0?s.allWrites[s.allWrites.length-1].writeId:-1}(s),!0):(o.snap?s.visibleWrites=gz(s.visibleWrites,o.path):Ti(o.children,b=>{s.visibleWrites=gz(s.visibleWrites,fr(o.path,b))}),!0))}(s.pendingWriteTree_,i)){let c=new Yn(null);return null!=o.snap?c=c.set(wn(),!0):Ti(o.children,g=>{c=c.set(new Tn(g),!0)}),dv(s,new CT(o.path,c,r))}return[]}function d0(s,i,r){return dv(s,new kg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,r))}function kT(s,i,r){const a=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(i,(g,_)=>{const S=$h(_,Ps(g,i));if(S)return S});return vz(a,i,c,r,!0)}function dv(s,i){return Vz(i,s.syncPointTree_,null,ST(s.pendingWriteTree_,wn()))}function Vz(s,i,r,o){if(nn(s.path))return Bz(s,i,r,o);{const a=i.get(wn());null==r&&null!=a&&(r=$h(a,wn()));let c=[];const g=tn(s.path),_=s.operationForChild(g),b=i.children.get(g);if(b&&_){const S=r?r.getImmediateChild(g):null,T=wz(o,g);c=c.concat(Vz(_,b,S,T))}return a&&(c=c.concat(JL(a,s,o,r))),c}}function Bz(s,i,r,o){const a=i.get(wn());null==r&&null!=a&&(r=$h(a,wn()));let c=[];return i.children.inorderTraversal((g,_)=>{const b=r?r.getImmediateChild(g):null,S=wz(o,g),T=s.operationForChild(g);T&&(c=c.concat(Bz(T,_,b,S)))}),a&&(c=c.concat(JL(a,s,o,r))),c}function tV(s,i){return s.tagToQueryMap.get(i)}function nV(s){const i=s.indexOf("$");return(0,oe.hu)(-1!==i&&i<s.length-1,"Bad queryKey."),{queryId:s.substr(i+1),path:new Tn(s.substr(0,i))}}function rV(s,i,r){const o=s.syncPointTree_.get(i);return(0,oe.hu)(o,"Missing sync point for query tag that we're tracking"),JL(o,r,ST(s.pendingWriteTree_,i),null)}class iV{constructor(i){this.node_=i}getImmediateChild(i){const r=this.node_.getImmediateChild(i);return new iV(r)}node(){return this.node_}}class sV{constructor(i,r){this.syncTree_=i,this.path_=r}getImmediateChild(i){const r=fr(this.path_,i);return new sV(this.syncTree_,r)}node(){return kT(this.syncTree_,this.path_)}}const Gz=function(s,i,r){return s&&"object"==typeof s?((0,oe.hu)(".sv"in s,"Unexpected leaf node or priority contents"),"string"==typeof s[".sv"]?IZ(s[".sv"],i,r):"object"==typeof s[".sv"]?TZ(s[".sv"],i):void(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2))):s},IZ=function(s,i,r){switch(s){case"timestamp":return r.timestamp;default:(0,oe.hu)(!1,"Unexpected server value: "+s)}},TZ=function(s,i,r){s.hasOwnProperty("increment")||(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const o=s.increment;"number"!=typeof o&&(0,oe.hu)(!1,"Unexpected increment value: "+o);const a=i.node();if((0,oe.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const g=a.getValue();return"number"!=typeof g?o:g+o},oV=function(s,i,r){return aV(s,new iV(i),r)};function aV(s,i,r){const o=s.getPriority().val(),a=Gz(o,i.getImmediateChild(".priority"),r);let c;if(s.isLeafNode()){const g=s,_=Gz(g.getValue(),i,r);return _!==g.getValue()||a!==g.getPriority().val()?new iv(_,wr(a)):s}{const g=s;return c=g,a!==g.getPriority().val()&&(c=c.updatePriority(new iv(a))),g.forEachChild(Wn,(_,b)=>{const S=aV(b,i.getImmediateChild(_),r);S!==b&&(c=c.updateImmediateChild(_,S))}),c}}class lV{constructor(i="",r=null,o={children:{},childCount:0}){this.name=i,this.parent=r,this.node=o}}function PT(s,i){let r=i instanceof Tn?i:new Tn(i),o=s,a=tn(r);for(;null!==a;){const c=(0,oe.DV)(o.node.children,a)||{children:{},childCount:0};o=new lV(a,o,c),r=Gn(r),a=tn(r)}return o}function Pg(s){return s.node.value}function uV(s,i){s.node.value=i,cV(s)}function Hz(s){return s.node.childCount>0}function LT(s,i){Ti(s.node.children,(r,o)=>{i(new lV(r,s,o))})}function $z(s,i,r,o){r&&!o&&i(s),LT(s,a=>{$z(a,i,!0,o)}),r&&o&&i(s)}function f0(s){return new Tn(null===s.parent?s.name:f0(s.parent)+"/"+s.name)}function cV(s){null!==s.parent&&function(s,i,r){const o=function(s){return void 0===Pg(s)&&!Hz(s)}(r),a=(0,oe.r3)(s.node.children,i);o&&a?(delete s.node.children[i],s.node.childCount--,cV(s)):!o&&!a&&(s.node.children[i]=r.node,s.node.childCount++,cV(s))}(s.parent,s.name,s)}const kZ=/[\[\].#$\/\u0000-\u001F\u007F]/,NZ=/[\[\].#$\u0000-\u001F\u007F]/,dV=10485760,VT=function(s){return"string"==typeof s&&0!==s.length&&!kZ.test(s)},g0=function(s,i,r){const o=r instanceof Tn?new Y5(r,s):r;if(void 0===i)throw new Error(s+"contains undefined "+Og(o));if("function"==typeof i)throw new Error(s+"contains a function "+Og(o)+" with contents = "+i.toString());if(hT(i))throw new Error(s+"contains "+i.toString()+" "+Og(o));if("string"==typeof i&&i.length>dV/3&&(0,oe.ug)(i)>dV)throw new Error(s+"contains a string greater than "+dV+" utf8 bytes "+Og(o)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let a=!1,c=!1;if(Ti(i,(g,_)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(c=!0,!VT(g)))throw new Error(s+" contains an invalid key ("+g+") "+Og(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(s,i){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(i),s.byteLength_+=(0,oe.ug)(i),Q$(s)})(o,g),g0(s,_,o),function(s){const i=s.parts_.pop();s.byteLength_-=(0,oe.ug)(i),s.parts_.length>0&&(s.byteLength_-=1)}(o)}),a&&c)throw new Error(s+' contains ".value" child '+Og(o)+" in addition to actual children.")}},Wz=function(s,i){const r=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!VT(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==r.length&&!function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),function(s){return"string"==typeof s&&0!==s.length&&!NZ.test(s)}(s)}(r))throw new Error((0,oe.gK)(s,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class VZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ya(s,i,r){(function(s,i){let r=null;for(let o=0;o<i.length;o++){const a=i[o],c=a.getPath();null!==r&&!SL(c,r.path)&&(s.eventLists_.push(r),r=null),null===r&&(r={events:[],path:c}),r.events.push(a)}r&&s.eventLists_.push(r)})(s,r),function(s,i){s.recursionDepth_++;let r=!0;for(let o=0;o<s.eventLists_.length;o++){const a=s.eventLists_[o];a&&(i(a.path)?(BZ(s.eventLists_[o]),s.eventLists_[o]=null):r=!1)}r&&(s.eventLists_=[]),s.recursionDepth_--}(s,o=>ma(o,i)||ma(i,o))}function BZ(s){for(let i=0;i<s.events.length;i++){const r=s.events[i];if(null!==r){s.events[i]=null;const o=r.getEventRunner();Mg&&Ii("event: "+r.toString()),tv(o)}}}class GZ{constructor(i,r,o,a){this.repoInfo_=i,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ET(),this.transactionQueueTree_=new lV,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Zz(s){const r=s.infoData_.getNode(new Tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+r}function _0(s){return function(s){return(s=s||{}).timestamp=s.timestamp||(new Date).getTime(),s}({timestamp:Zz(s)})}function Qz(s,i,r,o,a){s.dataUpdateCount++;const c=new Tn(i);r=s.interceptServerDataCallback_?s.interceptServerDataCallback_(i,r):r;let g=[];if(a)if(o){const b=(0,oe.UI)(r,S=>wr(S));g=function(s,i,r,o){const a=tV(s,o);if(a){const c=nV(a),g=c.path,_=c.queryId,b=Ps(g,i),S=Yn.fromObject(r);return rV(s,g,new uv(jL(_),b,S))}return[]}(s.serverSyncTree_,c,b,a)}else{const b=wr(r);g=function(s,i,r,o){const a=tV(s,o);if(null!=a){const c=nV(a),g=c.path,_=c.queryId,b=Ps(g,i);return rV(s,g,new kg(jL(_),b,r))}return[]}(s.serverSyncTree_,c,b,a)}else if(o){const b=(0,oe.UI)(r,S=>wr(S));g=function(s,i,r){const o=Yn.fromObject(r);return dv(s,new uv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}(s.serverSyncTree_,c,b)}else{const b=wr(r);g=d0(s.serverSyncTree_,c,b)}let _=c;g.length>0&&(_=fv(s,c)),ya(s.eventQueue_,_,g)}function Jz(s,i){gV(s,"connected",i),!1===i&&function(s){hv(s,"onDisconnectEvents");const i=_0(s),r=ET();BL(s.onDisconnect_,wn(),(a,c)=>{const g=function(s,i,r,o){return aV(i,new sV(r,s),o)}(a,c,s.serverSyncTree_,i);lv(r,a,g)});let o=[];BL(r,wn(),(a,c)=>{o=o.concat(d0(s.serverSyncTree_,a,c));const g=function(s,i){const r=f0(tq(s,i)),o=PT(s.transactionQueueTree_,i);return function(s,i,r){let o=void 0?s:s.parent;for(;null!==o;){if(i(o))return!0;o=o.parent}}(o,a=>{bV(s,a)}),bV(s,o),$z(o,a=>{bV(s,a)}),r}(s,a);fv(s,g)}),s.onDisconnect_=ET(),ya(s.eventQueue_,wn(),o)}(s)}function gV(s,i,r){const o=new Tn("/.info/"+i),a=wr(r);s.infoData_.updateSnapshot(o,a);const c=d0(s.infoSyncTree_,o,a);ya(s.eventQueue_,o,c)}function UT(s){return s.nextWriteId_++}function hv(s,...i){let r="";s.persistentConnection_&&(r=s.persistentConnection_.id+":"),Ii(r,...i)}function yV(s,i,r){return kT(s.serverSyncTree_,i,r)||Ht.EMPTY_NODE}function GT(s,i=s.transactionQueueTree_){if(i||jT(s,i),Pg(i)){const r=nq(s,i);(0,oe.hu)(r.length>0,"Sending zero length transaction queue"),r.every(a=>0===a.status)&&function(s,i,r){const o=r.map(S=>S.currentWriteId),a=yV(s,i,o);let c=a;const g=a.hash();for(let S=0;S<r.length;S++){const T=r[S];(0,oe.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const R=Ps(i,T.path);c=c.updateChild(R,T.currentOutputSnapshotRaw)}const _=c.val(!0),b=i;s.server_.put(b.toString(),_,S=>{hv(s,"transaction put response",{path:b.toString(),status:S});let T=[];if("ok"===S){const R=[];for(let N=0;N<r.length;N++)r[N].status=2,T=T.concat(qh(s.serverSyncTree_,r[N].currentWriteId)),r[N].onComplete&&R.push(()=>r[N].onComplete(null,!0,r[N].currentOutputSnapshotResolved)),r[N].unwatcher();jT(s,PT(s.transactionQueueTree_,i)),GT(s,s.transactionQueueTree_),ya(s.eventQueue_,i,T);for(let N=0;N<R.length;N++)tv(R[N])}else{if("datastale"===S)for(let R=0;R<r.length;R++)r[R].status=3===r[R].status?4:0;else{Fs("transaction at "+b.toString()+" failed: "+S);for(let R=0;R<r.length;R++)r[R].status=4,r[R].abortReason=S}fv(s,i)}},g)}(s,f0(i),r)}else Hz(i)&&LT(i,r=>{GT(s,r)})}function fv(s,i){const r=tq(s,i),o=f0(r);return function(s,i,r){if(0===i.length)return;const o=[];let a=[];const g=i.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<i.length;_++){const b=i[_],S=Ps(r,b.path);let R,T=!1;if((0,oe.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)T=!0,R=b.abortReason,a=a.concat(qh(s.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)T=!0,R="maxretry",a=a.concat(qh(s.serverSyncTree_,b.currentWriteId,!0));else{const N=yV(s,b.path,g);b.currentInputSnapshot=N;const L=i[_].update(N.val());if(void 0!==L){g0("transaction failed: Data returned ",L,b.path);let H=wr(L);"object"==typeof L&&null!=L&&(0,oe.r3)(L,".priority")||(H=H.updatePriority(N.getPriority()));const we=b.currentWriteId,Le=_0(s),Ze=oV(H,N,Le);b.currentOutputSnapshotRaw=H,b.currentOutputSnapshotResolved=Ze,b.currentWriteId=UT(s),g.splice(g.indexOf(we),1),a=a.concat(XL(s.serverSyncTree_,b.path,Ze,b.currentWriteId,b.applyLocally)),a=a.concat(qh(s.serverSyncTree_,we,!0))}else T=!0,R="nodata",a=a.concat(qh(s.serverSyncTree_,b.currentWriteId,!0))}ya(s.eventQueue_,r,a),a=[],T&&(i[_].status=2,setTimeout(i[_].unwatcher,Math.floor(0)),i[_].onComplete&&o.push("nodata"===R?()=>i[_].onComplete(null,!1,i[_].currentInputSnapshot):()=>i[_].onComplete(new Error(R),!1,null)))}jT(s,s.transactionQueueTree_);for(let _=0;_<o.length;_++)tv(o[_]);GT(s,s.transactionQueueTree_)}(s,nq(s,r),o),o}function tq(s,i){let r,o=s.transactionQueueTree_;for(r=tn(i);null!==r&&void 0===Pg(o);)o=PT(o,r),r=tn(i=Gn(i));return o}function nq(s,i){const r=[];return rq(s,i,r),r.sort((o,a)=>o.order-a.order),r}function rq(s,i,r){const o=Pg(i);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);LT(i,a=>{rq(s,a,r)})}function jT(s,i){const r=Pg(i);if(r){let o=0;for(let a=0;a<r.length;a++)2!==r[a].status&&(r[o]=r[a],o++);r.length=o,uV(i,r.length>0?r:void 0)}LT(i,o=>{jT(s,o)})}function bV(s,i){const r=Pg(i);if(r){const o=[];let a=[],c=-1;for(let g=0;g<r.length;g++)3===r[g].status||(1===r[g].status?((0,oe.hu)(c===g-1,"All SENT items should be at beginning of queue."),c=g,r[g].status=3,r[g].abortReason="set"):((0,oe.hu)(0===r[g].status,"Unexpected transaction status in abort"),r[g].unwatcher(),a=a.concat(qh(s.serverSyncTree_,r[g].currentWriteId,!0)),r[g].onComplete&&o.push(r[g].onComplete.bind(null,new Error("set"),!1,null))));-1===c?uV(i,void 0):r.length=c+1,ya(s.eventQueue_,f0(i),a);for(let g=0;g<o.length;g++)tv(o[g])}}const wV=function(s,i){const r=rQ(s),o=r.namespace;return"firebase.com"===r.domain&&cu(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==r.domain&&cu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Fs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new O$(r.host,r.secure,o,i,"ws"===r.scheme||"wss"===r.scheme,"",o!==r.subdomain),path:new Tn(r.pathString)}},rQ=function(s){let i="",r="",o="",a="",c="",g=!0,_="https",b=443;if("string"==typeof s){let S=s.indexOf("//");S>=0&&(_=s.substring(0,S-1),s=s.substring(S+2));let T=s.indexOf("/");-1===T&&(T=s.length);let R=s.indexOf("?");-1===R&&(R=s.length),i=s.substring(0,Math.min(T,R)),T<R&&(a=function(s){let i="";const r=s.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}i+="/"+a}return i}(s.substring(T,R)));const N=function(s){const i={};"?"===s.charAt(0)&&(s=s.substring(1));for(const r of s.split("&")){if(0===r.length)continue;const o=r.split("=");2===o.length?i[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Fs(`Invalid query segment '${r}' in query '${s}'`)}return i}(s.substring(Math.min(s.length,R)));S=i.indexOf(":"),S>=0?(g="https"===_||"wss"===_,b=parseInt(i.substring(S+1),10)):S=i.length;const L=i.slice(0,S);if("localhost"===L.toLowerCase())r="localhost";else if(L.split(".").length<=2)r=L;else{const H=i.indexOf(".");o=i.substring(0,H).toLowerCase(),r=i.substring(H+1),c=o}"ns"in N&&(c=N.ns)}return{host:i,port:b,domain:r,subdomain:o,secure:g,scheme:_,pathString:a,namespace:c}};class Bo{constructor(i,r,o,a){this._repo=i,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return nn(this._path)?null:AL(this._path)}get ref(){return new al(this._repo,this._path)}get _queryIdentifier(){const i=hz(this._queryParams),r=mL(i);return"{}"===r?"default":r}get _queryObject(){return hz(this._queryParams)}isEqual(i){if(!((i=(0,oe.m9)(i))instanceof Bo))return!1;const r=this._repo===i._repo,o=SL(this._path,i._path);return r&&o&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(s){let i="";for(let r=s.pieceNum_;r<s.pieces_.length;r++)""!==s.pieces_[r]&&(i+="/"+encodeURIComponent(String(s.pieces_[r])));return i||"/"}(this._path)}}class al extends Bo{constructor(i,r){super(i,r,new FL,!1)}get parent(){const i=Z$(this._path);return null===i?null:new al(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}(function(s){(0,oe.hu)(!MT,"__referenceConstructor has already been defined"),MT=s})(al),function(s){(0,oe.hu)(!OT,"__referenceConstructor has already been defined"),OT=s}(al);const EV={};class EQ{constructor(i,r){this._repoInternal=i,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(s,i,r){if(s.stats_=wL(s.repoInfo_),s.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)s.server_=new wT(s.repoInfo_,(o,a,c,g)=>{Qz(s,o,a,c,g)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Jz(s,!0),0);else{if(null!=r){if("object"!=typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,oe.Pz)(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}s.persistentConnection_=new rv(s.repoInfo_,i,(o,a,c,g)=>{Qz(s,o,a,c,g)},o=>{Jz(s,o)},o=>{!function(s,i){Ti(i,(r,o)=>{gV(s,r,o)})}(s,o)},s.authTokenProvider_,s.appCheckProvider_,r),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(o=>{s.server_.refreshAuthToken(o)}),s.appCheckProvider_.addTokenChangeListener(o=>{s.server_.refreshAppCheckToken(o.token)}),s.statsReporter_=function(s,i){const r=s.toString();return bL[r]||(bL[r]=i()),bL[r]}(s.repoInfo_,()=>new S7(s.stats_,s.server_)),s.infoData_=new w7,s.infoSyncTree_=new Pz({startListening:(o,a,c,g)=>{let _=[];const b=s.infoData_.getNode(o._path);return b.isEmpty()||(_=d0(s.infoSyncTree_,o._path,b),setTimeout(()=>{g("ok")},0)),_},stopListening:()=>{}}),gV(s,"connected",!1),s.serverSyncTree_=new Pz({startListening:(o,a,c,g)=>(s.server_.listen(o,c,a,(_,b)=>{const S=g(_,b);ya(s.eventQueue_,o._path,S)}),[]),stopListening:(o,a)=>{s.server_.unlisten(o,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new al(this._repo,wn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(s,i){const r=EV[i];(!r||r[s.key]!==s)&&cu(`Database ${i}(${s.repoInfo_}) has already been deleted.`),function(s){s.persistentConnection_&&s.persistentConnection_.interrupt("repo_interrupt")}(s),delete r[s.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&cu("Cannot call "+i+" on a deleted database.")}}rv.prototype.simpleListen=function(s,i){this.sendRequest("q",{p:s},i)},rv.prototype.echo=function(s,i){this.sendRequest("echo",{d:s},i)},function(s){fL=s}(bh.SDK_VERSION),(0,bh._registerComponent)(new $E.wA("database",(i,{instanceIdentifier:r})=>function(s,i,r,o,a){let c=o||s.options.databaseURL;void 0===c&&(s.options.projectId||cu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ii("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let b,S,g=wV(c,a),_=g.repoInfo;"undefined"!=typeof process&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(b=!0,c=`http://${S}?ns=${_.namespace}`,g=wV(c,a),_=g.repoInfo):b=!g.repoInfo.secure;const T=a&&b?new ZC(ZC.OWNER):new v5(s.name,s.options,i);Wz("Invalid Firebase Database URL",g),nn(g.path)||cu("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function(s,i,r,o){let a=EV[i.name];a||(a={},EV[i.name]=a);let c=a[s.toURLString()];return c&&cu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new GZ(s,!1,r,o),a[s.toURLString()]=c,c}(_,s,T,new y5(s.name,r));return new EQ(R,s)}(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),r),"PUBLIC").setMultipleInstances(!0)),(0,bh.registerVersion)("@firebase/database","0.12.0",void 0);let SQ=(()=>{class s{constructor(r){this.title="snake-game"}}return s.\u0275fac=function(r){return new(r||s)(f.Y36($C))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){1&r&&f._UZ(0,"router-outlet")},directives:[dw],styles:[""]}),s})();var dq=U(4762);class IQ{constructor(i,r,o,a){this.keySelector=i,this.elementSelector=r,this.durationSelector=o,this.subjectSelector=a}call(i,r){return r.subscribe(new TQ(i,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class TQ extends lr.L{constructor(i,r,o,a,c){super(i),this.keySelector=r,this.elementSelector=o,this.durationSelector=a,this.subjectSelector=c,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(i){let r;try{r=this.keySelector(i)}catch(o){return void this.error(o)}this._group(i,r)}_group(i,r){let o=this.groups;o||(o=this.groups=new Map);let c,a=o.get(r);if(this.elementSelector)try{c=this.elementSelector(i)}catch(g){this.error(g)}else c=i;if(!a){a=this.subjectSelector?this.subjectSelector():new Pt.xQ,o.set(r,a);const g=new hq(r,a,this);if(this.destination.next(g),this.durationSelector){let _;try{_=this.durationSelector(new hq(r,a))}catch(b){return void this.error(b)}this.add(_.subscribe(new MQ(r,a,this)))}}a.closed||a.next(c)}_error(i){const r=this.groups;r&&(r.forEach((o,a)=>{o.error(i)}),r.clear()),this.destination.error(i)}_complete(){const i=this.groups;i&&(i.forEach((r,o)=>{r.complete()}),i.clear()),this.destination.complete()}removeGroup(i){this.groups.delete(i)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class MQ extends lr.L{constructor(i,r,o){super(r),this.key=i,this.group=r,this.parent=o}_next(i){this.complete()}_unsubscribe(){const{parent:i,key:r}=this;this.key=this.parent=null,i&&i.removeGroup(r)}}class hq extends Dn.y{constructor(i,r,o){super(),this.key=i,this.groupSubject=r,this.refCountSubscription=o}_subscribe(i){const r=new Xs.w,{refCountSubscription:o,groupSubject:a}=this;return o&&!o.closed&&r.add(new RQ(o)),r.add(a.subscribe(i)),r}}class RQ extends Xs.w{constructor(i){super(),this.parent=i,i.count++}unsubscribe(){const i=this.parent;!i.closed&&!this.closed&&(super.unsubscribe(),i.count-=1,0===i.count&&i.attemptedToUnsubscribe&&i.unsubscribe())}}var OQ=U(9534);const NQ=new f.OlP("angularfire2.analytics.analyticsCollectionEnabled"),FQ=new f.OlP("angularfire2.analytics.appVersion"),PQ=new f.OlP("angularfire2.analytics.appName"),LQ=new f.OlP("angularfire2.analytics.debugMode"),VQ=new f.OlP("angularfire2.analytics.config"),WT="dataLayer";let v0=(()=>{class s{constructor(r,o,a,c,g,_,b,S,T){if(this.analyticsInitialized=new Promise(()=>{}),Hn(b)){window[WT]=window[WT]||[];const N=(...ie)=>"config"===ie[0]&&"firebase"===ie[2].origin&&(this.measurementId=ie[1],!0),L=ie=>{window.gtag=(...we)=>{ie&&ie(...we),"event"===we[0]&&we[2].send_to===this.measurementId&&(c&&(we[2].app_name=c),a&&(we[2].app_version=a)),g&&"undefined"!=typeof console&&console.info(...we),function(...Le){window[WT].push(arguments)}(...we)}};window[WT].some(N)?(this.analyticsInitialized=Promise.resolve(),L()):this.analyticsInitialized=new Promise(ie=>{L((...we)=>{N(...we)&&ie()})}),_&&this.updateConfig(_),g&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const R=(0,it.of)(void 0).pipe((0,Jl.QV)(T.outsideAngular),vr(OQ.Gb),vr(N=>N?S.runOutsideAngular(()=>U.e(399).then(U.bind(U,399))):Js.E),(0,bt.U)(()=>(0,er.cc)("analytics","AngularFireAnalytics",r.name,()=>{const N=r.analytics();return!1===o&&N.setAnalyticsCollectionEnabled(!1),N},[r,o,_,g])),C_({bufferSize:1,refCount:!1}));return(0,so.pX)(this,R,S)}updateConfig(r){return(0,dq.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},r),{update:!0}))})}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(so.Ot),f.LFG(NQ,8),f.LFG(FQ,8),f.LFG(PQ,8),f.LFG(LQ,8),f.LFG(VQ,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(er.HU))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),pq=(()=>{class s{constructor(r,o,a,c){if(this.disposables=[],oT.Z.registerVersion("angularfire",er.q4.full,"compat-user-tracking"),ts(o))this.initialized=Promise.resolve();else{let g;this.initialized=c.runOutsideAngular(()=>new Promise(_=>g=_)),this.disposables=[a.authState.subscribe(_=>{r.setUserId(null==_?void 0:_.uid),g()}),a.credential.subscribe(_=>{if(_){const b=_.user.isAnonymous?"anonymous":_.additionalUserInfo.providerId;_.additionalUserInfo.isNewUser&&r.logEvent("sign_up",{method:b}),r.logEvent("login",{method:b})}})]}}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(v0),f.LFG(f.Lbi),f.LFG(eL),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const gq="firebase_screen_id",CV="outlet",b0="screen_class",mq="screen_name";let t9=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const xV={},n9=s=>{const i=[s[b0],s[CV]].join("#");if(xV.hasOwnProperty(i))return xV[i];{const r=t9++;return xV[i]=r,r}};let r9=(()=>{class s{constructor(r,o,a,c,g,_,b){if(oT.Z.registerVersion("angularfire",er.q4.full,"compat-screen-tracking"),!o||!Hn(g))return this;_.runOutsideAngular(()=>{const S=o.events.pipe(zn(T=>T instanceof Rb));this.disposable=S.pipe(vr(T=>{var R;const L=(null===(R=o.parseUrl(o.url.replace(/(?:\().+(?:\))/g,Ke=>Ke.replace("://",":///"))).root.children[T.snapshot.outlet])||void 0===R?void 0:R.toString())||"",H=o.routerState.root.children.map(Ke=>Ke).find(Ke=>Ke.outlet===T.snapshot.outlet);if(!H)return(0,it.of)(null);let ie=H;for(;ie.firstChild;)ie=ie.firstChild;const we=ie.pathFromRoot.map(Ke=>{var wt;return null===(wt=Ke.routeConfig)||void 0===wt?void 0:wt.path}).filter(Ke=>Ke).join("/")||"/",Le={[mq]:we,page_path:`/${L}`,firebase_event_origin:"auto",firebase_screen:we,[CV]:T.snapshot.outlet};a&&(Le.page_title=a.getTitle());let Ze=H.component;if(Ze){if(Ze===fp){let Ke=T.snapshot;for(;Ke.firstChild;)Ke=Ke.firstChild;Ze=Ke.component}}else Ze=T.snapshot.component;if("string"==typeof Ze)return(0,it.of)(Object.assign(Object.assign({},Le),{[b0]:Ze}));if(Ze){const Ke=c.resolveComponentFactory(Ze);return(0,it.of)(Object.assign(Object.assign({},Le),{[b0]:Ke.selector}))}return(0,it.of)(null)}),zn(T=>T),(0,bt.U)(T=>Object.assign({firebase_screen_class:T[b0],[gq]:n9(T)},T)),function(s,i,r,o){return a=>a.lift(new IQ(s,undefined,undefined,undefined))}(T=>T[CV]),(0,bi.zg)(T=>T.pipe(Zl((R,N)=>JSON.stringify(R)===JSON.stringify(N)),Ss(void 0),wp(),(0,bt.U)(([R,N])=>R?Object.assign({firebase_previous_class:R[b0],firebase_previous_screen:R[mq],firebase_previous_id:R[gq]},N):N),vr(R=>(0,dq.mG)(this,void 0,void 0,function*(){return b&&(yield b.initialized),yield r.logEvent("screen_view",R)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(v0),f.LFG(Bi,8),f.LFG(ka,8),f.LFG(f._Vd),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(pq,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),i9=(()=>{class s{constructor(r,o,a){oT.Z.registerVersion("angularfire",er.q4.full,"analytics-compat"),r.app.then(()=>{})}}return s.\u0275fac=function(r){return new(r||s)(f.LFG(v0),f.LFG(r9,8),f.LFG(pq,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[v0]}),s})();const _q_firebase={apiKey:"AIzaSyAY7tIKlC_HlXD4LlFG0N1-ONS7FfkZYEg",databaseURL:"https://snake-game-37c88-default-rtdb.asia-southeast1.firebasedatabase.app/",authDomain:"snake-game-37c88.firebaseapp.com",projectId:"snake-game-37c88",storageBucket:"snake-game-37c88.appspot.com",messagingSenderId:"929373044813",appId:"1:929373044813:web:9946cedd9ca4bfe9695c04",measurementId:"G-6FH02L71RL"};let s9=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[br],br]}),s})(),o9=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=f.oAB({type:s,bootstrap:[SQ]}),s.\u0275inj=f.cJS({providers:[],imports:[[xl,gs,i5,Uf,Yr,T8,lF,kd,so.hO.initializeApp(_q_firebase),i9,E8,oL,EK,j8,s9,n5,KK]]}),s})();(0,f.G48)(),Mu().bootstrapModule(o9).catch(s=>console.error(s))},4762:(tt,Oe,U)=>{"use strict";U.d(Oe,{ZT:()=>pe,pi:()=>$,_T:()=>ae,mG:()=>se,Jh:()=>K,XA:()=>V,CR:()=>J,ev:()=>be});var f=function(Ee,me){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,Ie){Re.__proto__=Ie}||function(Re,Ie){for(var Ce in Ie)Object.prototype.hasOwnProperty.call(Ie,Ce)&&(Re[Ce]=Ie[Ce])})(Ee,me)};function pe(Ee,me){if("function"!=typeof me&&null!==me)throw new TypeError("Class extends value "+String(me)+" is not a constructor or null");function Re(){this.constructor=Ee}f(Ee,me),Ee.prototype=null===me?Object.create(me):(Re.prototype=me.prototype,new Re)}var $=function(){return($=Object.assign||function(me){for(var Re,Ie=1,Ce=arguments.length;Ie<Ce;Ie++)for(var ue in Re=arguments[Ie])Object.prototype.hasOwnProperty.call(Re,ue)&&(me[ue]=Re[ue]);return me}).apply(this,arguments)};function ae(Ee,me){var Re={};for(var Ie in Ee)Object.prototype.hasOwnProperty.call(Ee,Ie)&&me.indexOf(Ie)<0&&(Re[Ie]=Ee[Ie]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(Ie=Object.getOwnPropertySymbols(Ee);Ce<Ie.length;Ce++)me.indexOf(Ie[Ce])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Ie[Ce])&&(Re[Ie[Ce]]=Ee[Ie[Ce]])}return Re}function se(Ee,me,Re,Ie){return new(Re||(Re=Promise))(function(ue,$e){function ot(at){try{lt(Ie.next(at))}catch(ft){$e(ft)}}function Gt(at){try{lt(Ie.throw(at))}catch(ft){$e(ft)}}function lt(at){at.done?ue(at.value):function(ue){return ue instanceof Re?ue:new Re(function($e){$e(ue)})}(at.value).then(ot,Gt)}lt((Ie=Ie.apply(Ee,me||[])).next())})}function K(Ee,me){var Ie,Ce,ue,$e,Re={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return $e={next:ot(0),throw:ot(1),return:ot(2)},"function"==typeof Symbol&&($e[Symbol.iterator]=function(){return this}),$e;function ot(lt){return function(at){return function(lt){if(Ie)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Ie=1,Ce&&(ue=2&lt[0]?Ce.return:lt[0]?Ce.throw||((ue=Ce.return)&&ue.call(Ce),0):Ce.next)&&!(ue=ue.call(Ce,lt[1])).done)return ue;switch(Ce=0,ue&&(lt=[2&lt[0],ue.value]),lt[0]){case 0:case 1:ue=lt;break;case 4:return Re.label++,{value:lt[1],done:!1};case 5:Re.label++,Ce=lt[1],lt=[0];continue;case 7:lt=Re.ops.pop(),Re.trys.pop();continue;default:if(!(ue=(ue=Re.trys).length>0&&ue[ue.length-1])&&(6===lt[0]||2===lt[0])){Re=0;continue}if(3===lt[0]&&(!ue||lt[1]>ue[0]&&lt[1]<ue[3])){Re.label=lt[1];break}if(6===lt[0]&&Re.label<ue[1]){Re.label=ue[1],ue=lt;break}if(ue&&Re.label<ue[2]){Re.label=ue[2],Re.ops.push(lt);break}ue[2]&&Re.ops.pop(),Re.trys.pop();continue}lt=me.call(Ee,Re)}catch(at){lt=[6,at],Ce=0}finally{Ie=ue=0}if(5&lt[0])throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}([lt,at])}}}function V(Ee){var me="function"==typeof Symbol&&Symbol.iterator,Re=me&&Ee[me],Ie=0;if(Re)return Re.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Ie>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Ie++],done:!Ee}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(Ee,me){var Re="function"==typeof Symbol&&Ee[Symbol.iterator];if(!Re)return Ee;var Ce,$e,Ie=Re.call(Ee),ue=[];try{for(;(void 0===me||me-- >0)&&!(Ce=Ie.next()).done;)ue.push(Ce.value)}catch(ot){$e={error:ot}}finally{try{Ce&&!Ce.done&&(Re=Ie.return)&&Re.call(Ie)}finally{if($e)throw $e.error}}return ue}function be(Ee,me,Re){if(Re||2===arguments.length)for(var ue,Ie=0,Ce=me.length;Ie<Ce;Ie++)(ue||!(Ie in me))&&(ue||(ue=Array.prototype.slice.call(me,0,Ie)),ue[Ie]=me[Ie]);return Ee.concat(ue||Array.prototype.slice.call(me))}},8239:(tt,Oe,U)=>{"use strict";function f($,ae,_e,ee,re,se,K){try{var j=$[se](K),Q=j.value}catch(V){return void _e(V)}j.done?ae(Q):Promise.resolve(Q).then(ee,re)}function pe($){return function(){var ae=this,_e=arguments;return new Promise(function(ee,re){var se=$.apply(ae,_e);function K(Q){f(se,ee,re,K,j,"next",Q)}function j(Q){f(se,ee,re,K,j,"throw",Q)}K(void 0)})}}U.d(Oe,{Z:()=>pe})}},tt=>{tt(tt.s=6859)}]);